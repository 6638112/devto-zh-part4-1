# EventApp -快速会议指南 PWA 应用程序，适用于 iPhone、Android 和桌面

> 原文：<https://dev.to/tomimickelsson/eventapp-fast-conference-guide-pwa-app-for-iphone-android-desktop-4dgh>

EventApp 是我最新的副业项目——一个会议或音乐会指南的演示应用程序，我创建它是为了提高我的网络技能，测试 PWA 的优势，并构建一个可能也有商业潜力的应用程序。

[演示:eventapp.tomicloud.com](https://eventapp.tomicloud.com)

## 功能

EventApp 是一个跨平台的 web 应用程序，它以一种快速简洁的方式为正在访问事件的用户提供关于事件的信息，例如会议或音乐会。这是一个普通的 SPA web 应用程序，可以在任何现代浏览器中运行，此外，它还可以作为 PWA 应用程序安装在手机上，其行为就像普通的移动应用程序一样。

EventApp 的核心功能是:

*   显示活动议程:列出演讲的时间、主题和演讲者
*   列出参加活动的公司
*   列出活动的发言人
*   允许用户快速搜索所有数据
*   让用户喜爱的项目供以后快速检索
*   展示平面图并展示公司展位位置
*   显示活动信息
*   让用户配置用户界面的各个方面
*   完全离线操作，这在拥挤且网络不良的活动中非常重要

EventApp 可以为任何事件定制——事件数据通过
外部提供。json 文件。目前，EventApp 通过来自 2018 年 Slush startup conference[的事件数据展示了该功能。](https://app.slush.org)

## 用户界面

EventApp 拥有典型的移动应用外观:顶部是标题栏，
底部是导航栏，中间是项目列表。就像今天常见的
一样，当用户向下滚动以最大化屏幕状态时，两个滚动条都滑开，当向上滚动时又重新出现。

该应用程序以一个在
移动应用程序中常见的鼓舞人心的轮播开始。有几个屏幕可以用手指滑动，并解释该应用程序是什么。旋转木马在设备上表现良好，跟随手指速度很快，没有明显的滞后。很好。

此应用程序中没有详细页面。相反，我会展开项目并在适当的位置显示详细信息。我认为它在这里工作得很好，使互动变得很快。如果信息量很大，那么单独的详细页面可能会更好——它总是取决于并需要仔细评估 UX。

同样，这个应用程序也没有抽屉菜单。在我看来，如果应用程序的全部功能可以很好地容纳在导航栏中的最多 5 个标签中，并嵌入在主页面中，就不需要抽屉菜单。在一个“大应用程序”中，抽屉菜单是典型的，它是一个标准的 UI 小部件，用户已经学会在许多应用程序中使用。

为了保留垂直空间，搜索栏在标题栏内打开，过滤器在它下面打开。在手机上搜索页面总是很困难，因为当键盘打开时，屏幕空间很小。此外，键盘必须出现和消失正确，不需要额外的点击。在所有平台中简化和测试搜索功能是很重要的。

列表项在触摸和鼠标点击时显示出涟漪效应。这是谷歌材料设计中的标准设计，但有些争议，尤其是在 iPhone 上。我决定把它留在这里，因为我自己也有 Android 背景。不过很容易移除。

动画提供了视觉上的糖果，是伟大用户界面中的锦上添花。这里我应用了一些有意义的动画。Vue 通过内置的转换机制使创建它们变得容易。

最后但同样重要的是，用户界面是响应性的，或者我可以说是适应性的。顶部布局在移动和桌面之间变化。在桌面上，导航栏位于大屏幕的顶端。桌面上也有其他 CSS 微调。如果这是一个真正的商业应用，桌面可以进一步调整。

有些东西在网络上开发简直简单得可笑。你能猜出我是如何在应用程序中实现文本大小设置的吗？是的——这是 CSS 中的一个单独的`font-size: 80%/100%/120%`。

## 表现

无论是在用户交互层面还是在技术层面，一个好的用户界面都是快速的。我在这两个方面都尽了最大努力，我认为 EventApp 总体来说相当快。

作为一个 PWA 应用程序，所有的资源都缓存在本地。初始加载需要几秒钟(可以通过分阶段填充缓存来进一步优化)，但随后的运行几乎是即时的，因为所有文件都是从本地缓存提供的。

搜索由 Javascript 在本地完成(没有服务器),即使在旧设备上运行也很快。我还没有事件使用去抖功能，因为搜索似乎足够快。最多可以搜索大约一千个条目，但对于 Javascript 来说不成问题。

当您处理大数据列表时，您需要有一个良好的数据架构，并注意 DOM 更新的性能。我在这里使用标准的 [Vuex 状态管理](https://vuex.vuejs.org/)和适当的计算数据。

无限滚动用于限制屏幕上的项目数量，并在滚动时显示更多项目。得到正确的结果需要几次迭代——我不喜欢开箱即用。最好对例程进行分析，以确认没有可能消耗 cpu 并导致 UI 不稳定的额外循环。

在这个演示应用程序中，还有总共两千个演讲者和公司的图像。处理这么多图像是一个挑战。我通过创建一个包含所有图片的蒙太奇图片来解决这个问题。例如，这张图片包含雪泥事件的[一千个发言人](https://eventapp.tomicloud.com/statics/montage-users2.jpg)。

在代码中，蒙太奇图像的单个精灵在 CSS 中简单地像这样获取:

```
img
    object-fit: none
    object-position: -120px -360px // is set dynamically via js 
```

此外，图像的文件大小已被压缩到最小，以便初始加载不会花费太长时间。对于图像处理，我使用了 ImageMagick 工具，尽管它们已经过时了，但仍然是很好的工具。

## 技术

EventApp 采用了以下主要技术:

*   Vue 是我已经使用了大约 2.5 年的 Javascript 框架，被认为是最实用的框架，它的基础对我来说很有意义。

*   [Quasar](https://quasar.dev) 是 Vue 之上的 UI widget 框架，沿袭 Google Material 设计，注重性能。这是一个构建良好的框架，具有所有标准特性和小部件。它的优势在于创建跨平台构建的能力(SPA/PWA/Cordova/Electron)。Quasar 已经存在多年，正在接近 1.0 版本。

*   [Netlify](https://www.netlify.com/) 用于托管静态文件。这是一个很好的文件服务，既可以从命令行手动释放，也可以通过 github commits 自动释放。免费开始。我强烈推荐。

## PWA 的好处

PWA 只是 web 的一个扩展——最低限度，您只需添加一个离线功能的服务人员和一个用于描述应用程序元数据的清单文件。除此之外，你本质上是用通用的技术 HTML，CSS 和 Javascript，用通用的 web 工具开发一个常规的 web 应用程序。这就是力量所在。

**对开发者的好处是:**

*   PWA 利用网络作为基础，让你重用你的网络技能
*   使用熟悉的工具快速开发、快速迭代
*   真正的跨平台选项
*   你不需要与应用商店竞争，也不需要抽取 30%的销售额
*   轻松更新应用程序

**对最终用户来说，好处是:**

*   你不需要下载和安装一个应用程序，只需访问链接，你就在那里
*   PWA 应该很快，并且可以脱机运行(与网页相反)
*   PWA 的行为类似于本地应用程序，将来会更加类似
*   应用程序中的数据可以通过 URL 链接

**对于开发该应用的公司来说，好处是:**

*   快速迭代，快速上市
*   具有成本效益的开发预算。

## 科尔多瓦-应用商店

如果 PWA 应用程序不能满足所有要求，可以使用 [Cordova](https://cordova.apache.org) 将应用程序包装成混合应用程序。混合应用程序在 webview 下运行 web UI，同时通过本机模块获得额外的系统访问权限。该应用程序被打包成一个原生包，然后通过应用商店交付给最终用户。

如果大部分代码可以用 web 开发，只留下一小部分用于本机模块，那么这个选项是可行的。本机模块开发需要更多的时间，因为它们是开发(和调试！)每个平台。

Quasar 使得构建一个 Cordova 包装版本的应用程序变得很简单。我可能很快就会在 Google Play 商店中推出 EventApp。

或许还值得一提的是，爱奥尼亚最近发布了
[电容器](https://capacitor.ionicframework.com/)，它们是科尔多瓦的继任者。

## PWA 对手

我强烈建议您根据自己的应用需求评估可用的技术选项，以做出明智的选择。截至目前，PWA 最受欢迎的跨平台竞争对手似乎是 React Native 和 Flutter。

[React Native](https://facebook.github.io/react-native/) 在移动开发者中很受欢迎。它使用 React 和 Javascript 创建 iOS 和 Android 应用程序。开发流程类似于 web，但是库和小部件不同，因为下面没有浏览器或 DOM。如果你喜欢 React，你很可能也喜欢 React Native。React 本机应用程序无法在 web 浏览器上运行。

颤振可能是这个领域的最新热点。据称它比 React Native 具有更好的性能和工具——后来到它从前辈那里学到的领域——这是一种正常的模式。Flutter 应用程序看起来确实很酷很流畅。将来也有可能瞄准 web，因为 web 的 [Flutter 目前正在技术预览中。Flutter 使用 Dart 作为语言。](https://flutter.dev/web)

## 结论

我对结果很满意。EventApp 在所有平台 iPhone、Android 和桌面上都是一款像样的应用。它运行良好，速度快，看起来还不错。(是的，我本可以在视觉上花更多的时间，但这是我的业余项目。)开发很快，我可以依靠我的 web 开发专业知识。代码库很可能不会很快腐烂，因为它依赖于网络基础。

相信在不久的将来，PWA 会成为主流，越来越多的 app 被它实现。可能大多数 AppStore 应用程序都可以实现为 PWA 应用程序。我们在桌面上已经没有太多的本地应用了，大多数应用只是在浏览器上运行——同样的模式也发生在移动设备上。

一个本地应用总是有最好的外观和最好的系统访问，但 web 平台肯定会紧随其后，并经常通过优秀的开发工具提供足够好的用户体验和平台访问。

如果您需要快速且经济高效地为 iPhone 和 Android 创建一个移动应用程序，或者在 MVP 阶段运行测试，PWA 是您应该考虑的一个实用选项。

*这是我在[tomicloud.com](https://tomicloud.com)T3 的个人博客上的一篇文章*