# 糟糕，糟糕的代码！

> 原文：<https://dev.to/stereobooster/bad-bad-code-1k10>

我不喜欢“坏代码”这个概念。我想:[“让我们问问人们他们认为什么是坏代码”](https://dev.to/stereobooster/what-is-bad-code-ndj)。我收到了一些回复。(很难说这是意见的代表性样本，但聊胜于无。)

与第一篇帖子的评论中的人交谈帮助我明确了我对这个想法中困扰我的问题的想法。

## “坏代码”观念有什么问题？

“错误代码”概念:

*   就是暧昧。人们对这意味着什么有不同的看法
*   就是“诽谤”。我想这不是一个词，但是当你责备某人时，你会明白
*   令人困惑(非描述性)。当有人说:“这是一个糟糕的代码”时，第一反应是:“你能解释一下为什么吗？”
*   是负数。感觉糟糕的代码是禁忌，即使有正当的理由，你也永远不要写它
*   是相对的。最常回答的问题(什么是糟糕的代码？)缺乏可读性。可读性取决于读者，例如，它是相对的

让我们具体情况具体分析。

## 暧昧

> 含糊不清——能够以两种或两种以上可能的意义或方式被理解

首先，什么是坏代码并没有单一的定义。每次你提到“糟糕的代码”时，你必须给出定义，否则，人们会对你所说的有不同的想法。

含糊的术语很难在对话中使用。你需要花些时间来消除困惑。

例如，人们认为以下是坏代码的定义:

*   不符合规格
*   难以阅读，难以修改，难以删除
*   性能差
*   难以测试

## 褒义

> 指责某人的行为。

当你宣称代码是坏代码时，写代码的人会感觉不好。这不是进行建设性对话的方式。

代码不令人满意的原因可能有:

*   有压力，比如缺少时间，或者来自管理层的压力
*   这个人对这个主题是陌生的(也许不再是了)
*   这个人有压力(可能不是工作相关的问题)

更好的方法是:“嘿，我在处理这些代码时遇到了麻烦。你能解释为什么这样做吗？”或者“要不要一起努力改进这段代码？”或者“我们能为科技债务开一张罚单，并描述我们如何改进这张罚单吗？”。

## 令人困惑

> 无法与通常相似或相关的其他事物区分开来。

当你宣称代码是坏的，作者会问为什么。答案可能是因为它很难阅读或者很难改变等等。你为什么不一开始就说？

你可以说“我读代码有困难”，而不是“代码不好”。第二句感觉和第一句不一样。首先是责备，其次是寻求帮助。帮助他人是我们的天性(这是进化创造的一种机制，帮助社会生存。如果你想了解更多，请阅读“囚徒困境”。寻求帮助比责备有效得多。

当请求更精确时，如“我读代码有困难”，它可以消除困惑。例如，在这种情况下，我们可以假设两种情况，代码编写的方式很难让整个团队阅读，我们需要改变它，或者读者第一次看到这种模式，而不是我们需要教育读者。

## 负

> [消极](https://www.merriam-webster.com/dictionary/negative)——缺乏积极的品质。

它是消极的，感觉它缺乏所有积极的品质。在很多公司，IT 部门忙于主业，其他部门缺乏 IT 关注，比如，tech。支持、营销或商务智能。因此，他们最终会根据自己的需要编写软件。他们只是努力做好自己的工作，并想让自动化变得更容易。想象他们用某种晦涩难懂的语言或 Excel 写了些东西。

现在一些 IT 人员出现来检查他们做了什么。这个 IT 人敢说这个代码不好吗？我的意思是它可能不是开发者所期望的，也可能不受版本控制。但是它帮助人们做他们的工作，而你(开发者)没有在那里帮忙。

我不敢说它不好。如果我想改善这种情况，我会教他们一些基本的代码卫生，比如版本控制，写自述文件，进行可重复的构建。

词语中的否定创造了禁忌，就像在某些宗教中，你必须对某些事情感到不好。同样的，你一定会对写糟糕的代码感到难过。

你不需要。在此，我授予你写坏代码的权利，但是要意识到后果。权力越大，责任越大。

编写“糟糕代码”的正当理由示例:

*   你写一些原型。你用代码来测试一些假设，例如关于 UX。假设检验可能会失败，您可以丢弃所有代码
*   你想用质量换时间。显然，你会欠下技术债(这可能会扼杀一个项目)，但也许你需要迅速展示一些东西来获得资金支持，然后你会有时间来偿还技术债
*   你不知道如何编写好的代码，你花了相当多的时间试图改进现有的代码。在这种情况下，我写下我不喜欢代码的地方，并按原样提交。后来(一天或一周或一个月)，我想出了这个主意，并很快地修改了代码。有时候你需要给你的大脑时间

## 相对

> [相对](https://www.merriam-webster.com/dictionary/relative)——不是绝对的或者独立的。

最常提到的糟糕代码的定义是可读性差。可读性取决于读者，这使得这个概念是相对的。

例如，有一个面向对象的开发团队，一个喜欢 FP 的人加入了这个团队，并编写了新的 FP 风格的代码。对于团队的其他人来说，阅读 FP 代码会很困难，因为他们习惯了 OOP 风格，对他们来说这是“糟糕的代码”。但是这并不意味着在 FP 团队中所有的坏代码都被认为是好代码。

从这个意义上来说，坏代码的概念是相对的，它会随着团队的不同而变化。这可能取决于时间——也许这段代码以前工作得很好，但是现在硬件发生了变化或者需求发生了变化。

## 好代码

我反对“坏代码”的概念，因为它的负面性和糟糕的通信特性，但是我不反对“好实践”的想法(我更喜欢好的而不是最好的)，比如可读性、可测试性等等。我想这是下一篇文章的主题。

## PS

这篇文章引人深思。我并不是说你们都应该把这当成一句口头禅来遵循，只是给你们一个另类的看法。

> 乔纳森·丹尼尔斯在 Unsplash 上拍摄的照片