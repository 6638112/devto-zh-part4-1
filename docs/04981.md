# 重温你的代码:编写更好软件的简单技巧

> 原文:[https://dev . to/d _ IR/revisiting-your-code-a-simple-technique-for-writing-better-software-31g](https://dev.to/d_ir/revisiting-your-code-a-simple-technique-for-writing-better-software-31g)

想写出更好的代码吗？这里有一个简单的技巧，所有级别的程序员都可以应用。它对新手和最有经验的程序员都同样适用。

这个方法就是*重温你的作品*的简单动作。“重访”和重构一样，有其特定的含义和过程，我会解释的。

你可能已经很清楚重游意味着什么了。这有点像你在学校被教导要仔细检查你的作业，或者在交论文之前至少要通读一遍。

不同之处在于，当我们**系统地重新审视**时，就像我们**系统地重构**时，我们将一个明显的想法分解成美味可口的过程。这样做的好处是确保我们做得正确，并确保我们的队友都在同一页上。

> 这个概念对你来说可能是显而易见的，但是我总是发现像这样明确的过程细节是有帮助的。

# [](#the-meaning-of-revisiting-code)重访代码的意思

重访就是回顾一个工作特性的实现，以试图改进它。显而易见吧？

当然是这样，但是要系统地完成*需要以下步骤。*

 *1.  实施你对问题的第一个解决方案。不是随便什么尝试；这必须是一个*好的*尝试。一些你认为已经是最简单的解决方案。它可能是一个长钉，一个原型，甚至可能是一个成品。关键是它解决了问题，而且它以你认为正确/最好/最高质量的方式解决了问题。

2.  花点时间不去想它。将你的注意力转移到别的事情上。周末休假，或者(我最喜欢的)休假。它需要一段时间来度过，它需要你忘记你在做什么。这让你可以用一个全新的视角来看待这个问题。

3.  现在回来，重新构建您的解决方案。有可能的话从头开始。重新学习问题，重新做作业。这是关键的一部分，需要你抽出一些额外的时间来完成。

请注意，我使用了“重新学习”和“重新做”这两个术语。

*重新学习*是用不同的视角来看待问题。这就是为什么转移你的注意力很重要。你忘记了你之前做的决定和假设，带着一张白纸回来。

重做的意思就是:从头开始重写解决方案。你可能已经习惯了 spiking 的概念，你写了一个版本来学习，但是之后就把它扔掉了。这在 TDD 世界中是完全正常的做法。但是，即使你没有遵循 TDD，这也是一个很好的实践，因为从零开始，你强迫自己重新思考你在这个过程中所做的每一个实现决策。

这一切有什么意义？

几乎总是会有一个你第一次看不到的更简单的解决方案让你大吃一惊。

这就是重新审视你的作品的意义。

# [](#obstacles-to-revisiting)故地重游的障碍

尽管这种方法简单易行，但我能想到这种方法的两个主要障碍。

首先是**找时间**做这件事。你可能会发现很难让你的团队相信这是一项值得做的工作，尤其是当你有一大堆待办事项等着你去完成的时候。许多团队正以如此快的速度前进，以至于代码变得像水泥一样。一旦设定，就永远存在。一旦我们的代码被提交到主线，它就不会被触及。

> 行业经验告诉我们，从长远来看，越简单的软件越便宜，越有价值。复杂的软件变得更加难以维护，随着复杂代码中代码库的积累，添加功能变得越来越困难和缓慢。
> 
> 所以，你在前期花越多的时间去简化，从长远来看，软件就越便宜。

第二个问题是**你的自我不愿相信有更好的解决方案**。你有多愿意放下自己最初的想法？您对原始解决方案的依赖程度如何？许多程序员看到一个解决方案，然后相信这是唯一的和最好的方法。说服自己不这么做可能很难。来自他人的反馈有助于克服这一点，我将在下面回到这一点。

# [](#why-does-this-technique-work)这个手法为什么管用？

如果你和我一样，你可能会认为自己在写代码时总是尽最大努力。更重要的是，你不怕麻烦地学习如何编写优秀的软件。你已经阅读了所有关于优秀软件设计的书籍，你努力追求简单，并且你总是致力于编写可维护的软件。

很明显，我不能代表你，但是**我很确定，除非我重新审视我的工作，否则我就没有做到最好**。当我第二次着手解决问题时，我几乎总能看到新的可能性。

我肯定有一些程序员会立刻把工作做得最好，但是我不确定我认识这样的人。另外，我工作过的大多数环境都有某种时间压力，这意味着最好的程序员在开始编码之前没有时间思考。

# [](#convincing-your-boss-and-your-team)说服你的老板(和你的团队)

想象一下下面的场景，你可能很熟悉。这在我身上确实发生过很多次。

在最后一次冲刺中，你完成了一大堆工作。您构建了一些简洁的功能。您的团队和产品负责人都很满意。sprint 演示进行得很顺利。每个人都很开心。

但是那天晚上在家里，你仔细考虑了你的解决方案，你意识到有一个更简单、更优雅的实现。

*冲刺规划是第二天。你的团队有一大堆积压的工作，不能足够快地交付功能。*

你是做什么的？

你会说，‘嘿，你知道吗？我想我有一个更好的方法来构建我们刚刚交付的功能。我想重游此地。

产品负责人会怎么说呢？你如何让他们相信重做工作比从待办事项中挑选一个新功能更有价值？

不幸的是，上面的场景对于养成重温代码的新习惯来说并不理想。

相反，你需要做的是**建立一种重温**的文化。这意味着鼓励你的团队使用尖峰、原型或任何允许你日后自由重做工作的计划过程。

因此，下次出现一个与你或你的团队以前构建的任何东西都不一样的特性时，建议你使用第一次冲刺来强化解决方案。然后，下一次冲刺之后你可以把你做过的事情重新回顾一遍。

> 重访应该是你开发文化的一部分。通过明智地使用钉子和原型，你可以在没有得到许可的情况下重新审视你的过程。

另一种方法是帮助你的同事理解软件复杂性的长期后果——如果他们还不理解的话。强调编写清晰、可维护的代码的重要性，以及与过于复杂的代码库相关的高成本。你甚至可以给他们看这篇博文；)

# [](#how-feedback-can-help)反馈有什么帮助

理想情况下，重访应该发生在第一轮代码评审之后。给你的队友一个机会来戳穿你的设计。即使你反对他们的建议，反馈的作用是**播下新观点的种子**。当您稍后再次访问您的工作时，您会记住那些注释，并且能够比您编写最初的实现时更加客观地评估它们。

你可能不会逐字逐句地接受反馈，但至少当你再次访问时，反馈会帮助你打破你自己的假设。

# [](#what-if-i-pair-or-mob-isnt-this-redundant)我结对或者乌合之众怎么办？这不是多此一举吗？

很简单，不。结对是另一种帮助编写简单软件的策略。最终的组合将是配对，然后作为一对重访。

现在,是一个成功的策略。

对这项技术有什么想法或意见吗？我很想听听！请在下面留下您的评论。*