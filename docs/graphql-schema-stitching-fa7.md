# GraphQL 模式拼接

> 原文：<https://dev.to/kenzobenzo/graphql-schema-stitching-fa7>

# GraphQL 模式拼接和增强内容 API

**更新:**虽然不完全是一回事，但在构建模式方面有了一个新成员，叫做[联盟](https://blog.apollographql.com/apollo-federation-f260cf525d21)。我们会在几周内放弃我们的观点。现在，请欣赏下面的内容，深入了解 GraphQL 模式。

GraphQL 模式拼接是用大量额外数据增强 API 的一种极好的方式。这个概念很简单，执行起来也很直接。然而，它是如何发生的却一点也不。下面是一个延迟请求、解析器分配等复杂的游戏——但是多亏了 Apollo 的乐于助人的人们，我们可以让工具来完成繁重的工作，并以最小的努力给我们带来模式拼接的好处。

## 对 GraphQL 拼接的高级处理

模式拼接是将来自不同 API 的多个模式组合成一个模式/ API 的过程。GraphQL 是一项神奇的技术，它允许服务器通过一种清晰的查询语法跨表解析我们的数据，但是当这些表实际上是位于不同服务器上的不同数据库时会发生什么呢？

如果我们可以通过一个查询将一个数据库中的酒店列表与另一个数据库中的地区活动列表进行解析，这不是很好吗？这就是模式拼接允许我们做的。

模式拼接遵循四个步骤:

1.  自省远程 API。(找出您必须使用的模式结构。)
2.  处理类型名称冲突。
3.  关联哪些字段被添加到哪些类型。
4.  解析数据。

## 何时弃针

将模式缝合在一起并不总是一个好主意。以下是您可能不想缝合模式的一些原因。

1.  端点没有版本控制或不可靠，可能会在没有适当通知的情况下发生变化。
2.  所有数据的一个端点也意味着项目的一个端点。
3.  数据的 TTL 差异。
4.  性能是一个关键因素，您可以优化 REST 以获得更好的服务器到服务器通信性能。

记住这些问题，缝合是将多个数据集组合成一个可分布、可探索和可维护的 API 的好方法。特别是在 MVP 项目或一次性网站的 API 架构中，这是让开发人员快速启动并运行的好方法，同时保持在 GraphQL 生态系统中，并且没有技术上下文切换的开销。

## 我们开始吧

在 GraphCMS 的博客上找到剩余的教程。