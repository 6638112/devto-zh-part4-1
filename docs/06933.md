# 如何组织组件

> 原文:[https://dev.to/mgrsskls/how-to-organize-components-1cgi](https://dev.to/mgrsskls/how-to-organize-components-1cgi)

大概最流行的组织组件的方式是由 Brad Frost 引入的原子设计。我最近和我的一个客户谈过，他说他们在所有的项目中都成功地使用了这种方法，而且效果非常好。我们就此进行了简短的讨论，因为我也使用了一点，但很快意识到它对我不起作用。一个原因是下面的例子:假设你有两个原子；一个按钮和一个图标。如果一个按钮也可以包含一个图标，那么您可以将一个原子包含在另一个原子中。虽然你当然可以这样做，但我觉得这是不对的(自然界中也没有原子，不是吗？).

这只是一个例子，说明为什么我想出了自己的方式来组织我的组件。

当然，这是一个持续的过程，每个项目都是不同的，但我基本上遵循这些规则:

## [](#which-directories-should-i-use)应该使用哪些目录？

*   **模板** -实际的页面模板。
*   **内容** -内容组件，编辑可以选择它们来填充页面内容。
*   组件(components)-所有不应该被编辑者直接使用的剩余组件(通常是图标、按钮等)。).

## [](#when-should-i-create-a-new-component)什么时候应该创建一个新组件？

1.  **在多个组件中使用代码时。一旦你多次使用相同的代码(或它的细微变化),就用它做一个组件。**
2.  **呈现集合条目时。**如果您呈现一个集合，请将条目的代码(例如摘要列表中的摘要)放在一个单独的组件中。
3.  当你的组件变得太复杂时。这是一个相当模糊的规则，但是一旦你觉得你的组件变得太复杂，就把逻辑部分移到它们自己的组件中。

虽然第一条规则对于避免代码重复至关重要，但第二条和第三条规则基本上只是为了降低组件的复杂性。在这种情况下，我会将组件称为“子组件”。

## [](#where-should-i-put-my-sub-components)我应该把我的子组件放在哪里？

**在其父组件中的一个目录中。**由于您不会在其他任何地方使用这些组件，您可以通过将它们放在实际组件的子目录中来“限定”它们的范围。这将它们紧密地结合在一起，你可以在你期望的地方找到所有的代码。

## [](#what-about-components-that-are-only-used-for-templates)那些只用于模板的组件呢？

由多个模板使用且仅由模板使用的组件(例如，页眉、页脚、导航)位于`templates/`目录中名为`_includes/`的子目录中。我在这个目录的名字前面加上了`_`，以表明它是某种帮助目录而不是模板。

## [](#example)举例

一个示例项目的结构可能是这样的:

```
├── components
│ ├── button
│ ├── icon
│ ├── image
│ ├── input
│ └── video
│
├── content
│ ├── cta
│ ├── gallery
│ │ ├── thumbnails
│ │ │ └── thumbnail
│ │ └── view
│ ├── rte
│ └── teaser-list
│ └── teaser
│
└── templates
    ├── _includes
    │ ├── footer
    │ ├── header
    │ └── navigation
    ├── homepage
    ├── standard
    └── checkout 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

同样，这不是一成不变的，可以适用于每个项目。尤其是拥有一个名为`content`的目录，其中包含可以由编辑挑选的组件，这当然只有在幕后实际存在 CMS 时才有意义。

如果你正在寻找一个与我在这篇文章中描述的组件库，请随意查看 [headman](https://github.com/mgrsskls/headman) 。它是一个小的节点模块，可以用来单独开发组件，不管你如何组织它们。