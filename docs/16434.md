# 可靠的 AWS 灾难恢复计划提示

> 原文:[https://dev . to/ilaibavati/tips-for-a-solid-AWS-disaster-recovery-plan-575 I](https://dev.to/ilaibavati/tips-for-a-solid-aws-disaster-recovery-plan-575i)

[![](../Images/57a906cdfc1d8b8c5c08375332024893.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--HTmYyf5K--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/xmgjz5migtcyi0dbp1iv.jpg)

<figure>

<figcaption>

<figure>[Pixabay](https://pixabay.com/photos/storm-weather-thunderstorm-thunder-2567670/)

<figcaption></figcaption>

</figure>

</figcaption>

</figure>

没有一个环境或平台是 100%安全的，即使是短暂的服务中断也可能意味着数千美元的数据损失，更不用说销售机会的损失和对客户信任的影响了。灾难的原因可能是自然的、人为错误、恶意活动或机械故障。

对于云中的公司来说，最重要的是确保业务连续性。为了防止灾难使您停业，您需要一个可靠的灾难恢复计划，以帮助您在发生停机或攻击时保持运行。AWS 用户可以利用环境中的功能来构建自己的灾难恢复计划(DRP)。请继续阅读，了解如何使用 AWS 控制台中的功能来保护您的数据安全。

## [](#aws-disaster-recovery-plan-overview)AWS 灾难恢复计划概述

灾难恢复计划(DRP)由结构化、详细且记录在案的指令组成，用于恢复中断的系统和网络，帮助公司尽可能正常地恢复业务。

灾难是指任何可能导致运营离线、影响业务连续性或财务的情况，可以是恶意攻击或硬件或软件故障。由于实施和维护成本高昂，许多公司负担不起本地灾难恢复解决方案。云技术作为云提供商服务的一部分，为组织提供经济高效的解决方案，如 AWS 或 Azure。AWS 已经与诸如 [N2WS](https://n2ws.com/) 和 [Cloudberrylab](https://www.cloudberrylab.com/) 等公司合作，这些公司专门为 AWS 提供灾难恢复解决方案。

## [](#why-do-you-need-an-aws-disaster-recovery-plan)为什么需要 AWS 灾难恢复计划

选择 AWS 作为云提供商的用户应该使用专门针对该平台的工具制定灾难恢复计划。使用 AWS 时，准备好灾难恢复计划有很多好处。其中包括:

*   **保护关键数据**—通过建立复制间隔来最大限度地减少数据丢失。
*   **最大限度减少停机时间**—DRP 允许将关键应用程序快速恢复到运行模式。
*   **确保业务连续性**—使用 AWS 跨区域灾难恢复来分散所有数据面临相同威胁的风险。
*   **快速检索文件和数据**—意味着恢复服务的时间最短。
*   **可靠且可扩展的服务**—利用 AWS 的整体优势。##可靠的 AWS 灾难恢复计划提示当您为 AWS 制定灾难恢复计划时，应遵循以下基本步骤:
*   **审计您的资产**—确定哪些资源、应用程序和组件对您的组织至关重要。进行业务影响分析可以让您了解威胁如何影响业务运营和增长。
*   **定义控制措施**—可以是电涌保护器等预防措施，也可以是服务器、网络监控软件等检测措施。例如，补救工具是帮助在灾难后恢复系统的纠正措施。
*   **在需要之前测试您的计划**—进行预定的测试，找出 DRP 中的差距。
*   **计划维护**—定期更新以跟上系统变化。

制定好计划后，就该使用 AWS 控制台中的功能来帮助保护数据了。以下是使用 AWS 开发 DRP 时要考虑的一些技巧和方面。

**备份您的数据，它是灾难恢复的支柱**
您只能恢复备份的内容。仅仅安排对 Amazon EC2 上存储的内容以及这些实例所附的 EBS 卷进行定期备份是不够的。发生灾难时，您需要快速访问您的数据。经过精心设计和测试的 [AWS 灾难恢复](https://n2ws.com/blog/aws-cloud/how-to-create-a-disaster-recovery-plan-for-aws)流程可以帮助您从 AWS 云环境中检索和恢复备份数据。

**定义您的恢复时间目标(RTO)和恢复点目标(RPO)**
了解您的组织在遭受不可接受的金钱损失(RTO)之前可以离线多长时间，对于设计您的恢复计划至关重要。从时间角度来看，了解您将接受多少数据丢失(RPO)也很重要。例如，如果丢失 6 小时的数据是不可接受的，那么您需要一个小于 6 小时的 RPO。

**选择您的灾难恢复规划方法**
根据您的偏好和需求，有许多灾难恢复方法可供选择。一些最常见的是:

*   **备份和恢复**—根据需要简单地备份和恢复数据。它的缺点是没有任何数据处于备用状态，因此会很耗时。
*   **指示灯**—保持关键应用程序和数据准备就绪，以便在发生灾难时快速检索。
*   **热备用**—保持组织核心元素的副本始终处于备用状态，因此在发生灾难时，他们可以使用该副本来维持运营。
*   **热备用**—在两个或更多活动位置完全复制数据和应用程序，在它们之间分流流量。在发生灾难时，很容易将所有内容重新路由到未受影响的区域，这意味着几乎没有停机时间。

**识别关键数据并利用跨区域备份**
您不仅需要选择要保护的关键数据，还需要选择数据的存储方式(例如使用快照)以及存储位置。将所有备份存储在地理位置相近的地方并不是最好的主意，就像将所有鸡蛋放在一个篮子里一样。如果发生灾难，您的整个系统可能会在瞬间离线。最好将数据分散到世界各地的可用性区域(AZ)。你是怎么做到的？

如果您的数据库包含在 Amazon 关系数据库(RDS)中，您可以使用多 AZ 选项来创建 RDS 实例的备份。坏处呢？这将增加您的成本，因为 AWS 对多 AZ RDS 设置收取双倍费用，而不是单个 RDS 实例。确保 EC2 实例也分布在几个 AZ 中，尤其是生产中的 AZ。

使用自动缩放组(ASG)可以让您选择多个 AZ 来部署您的实例。弹性负载平衡器(ELB)在它们之间分配流量并平衡工作负载。

**对 S3 使用跨区域复制**
亚马逊 S3 将数据复制到一个区域内多个位置的能力使其成为最受欢迎的 AWS 存储服务。虽然这一默认功能具有很高的耐用性，但并不能消除在特定区域丢失数据的风险。要避免这种情况，只需使用跨区域复制选项，将数据复制到另一个区域中的指定存储桶。该功能会自动执行。你是怎么做到的？

1.  转到 S3 控制台
2.  启用版本控制
3.  寻找跨区域复制选项并启用它。
4.  选择源时段和前缀
5.  创建 IAM 角色

请记住，跨区域同步从启用该选项的那一刻开始。如果你想同步现有数据，你需要手动完成。

**使用全局表进行 DynamoDB 数据跨区域复制**
DynamoDB [全局表](https://aws.amazon.com/dynamodb/global-tables/)部署多区域多主数据库，跨多个表发送变更。这对于灾难恢复非常有用，因为数据分布在几个区域，最大限度地降低了关键数据丢失的风险。

**通过多重身份验证保护您的 AWS 根凭证的安全**
根凭证用于创建具有管理员权限的初始用户。因此，应该对非授权用户隐藏根密码，以避免内部威胁的风险。编程键一旦被使用就应该被禁用。你是怎么做到的？最佳选择是设置多因素身份认证解决方案。虽然看起来很明显，但是如果它们落入恶意用户之手，忽略这个细节可能会导致灾难性的后果。

**考虑第三方灾难恢复即服务(DRaaS)**
虽然大多数公司在内部处理灾难恢复，但对于没有大型 IT 团队的小公司来说，有时获得第三方解决方案是有意义的。DRaaS 解决方案通过实施和维护 DRP 来帮助公司，让他们安心地专注于发展业务。

## [](#the-bottom-line)底线

AWS 用户可以利用 AWS 环境中的现有工具来构建他们的灾难恢复计划。虽然 AWS 没有专有的灾难恢复服务，但该平台允许用户重新利用它的一些特性和功能来创建自己的灾难恢复解决方案。我们描述了一些提示和技巧，可以帮助您充分利用 AWS 环境中的功能，保证数据的安全。