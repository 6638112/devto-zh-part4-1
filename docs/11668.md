# 是时候提升您的微服务了

> 原文:[https://dev . to/yourtechbud/time-to-step-up-your-micro-services-57hi](https://dev.to/yourtechbud/time-to-step-up-your-microservices-57hi)

尽管有关于微服务的宣传，但你很有可能还没有采用它。我们知道好处。但是入门的门槛太高了。

事实是，设计可扩展的应用程序非常困难。您必须选择正确的数据库、正确的框架，在许多情况下，还要选择正确的编程语言。

事情并没有就此结束。我们也需要关注云供应商，对吗？选择正确的部署策略。那是许多艰苦的工作。

## [](#the-monolith-design-a-lone-warrior)独石设计(一个孤独的战士)

传统上我们一直在设计独石。这里我们有一个巨大的代码库。一切都是使用相同的语言和相同的框架构建的。

### [](#the-pros-)利弊:

这使得构建应用程序变得非常容易。一切都只是一个函数调用。框架承担了构建 API 的重任。我们习惯了现有的形式。发展完全在我们的控制之下。

一切都很棒，直到我们必须扩展。

### [](#the-cons-)弊:

攀登一个巨石是很困难的。我们为易于开发所付出的代价是敏捷性。在整体设计中推出更新和新功能是问题所在。一个小错误就能让整个应用程序瘫痪。

## [](#microservices-the-chaotic-team)微服务(混沌团队)

进入微服务。

微服务通过将庞大的模块分解成更小的模块来解决规模敏捷性问题。本质上，你的应用程序的每个特性或功能现在都作为一个完全不同的微服务运行。每个微服务都是运行在独立进程中的独立服务器。

### [](#the-pros-)利弊:

微服务最明显的好处就是现在每个微服务的部署周期都是独立的。

这意味着您可以为每个微服务定制一个单独的交付平台。

另一个好处是你不再需要坚持单一的语言或框架。这为用最适合工作的语言构建微服务打开了大门。您可以将 python 用于数据科学，将 golang 或 elixir 用于 io 负载。

### [](#the-cons-)弊:

你如何确保所有的微服务和谐地一起工作？他们能找到彼此吗？如何打破 API 的变化？

**从微服务的角度考虑是困难的**。决定如何拆分你的应用也不是一件容易的事情。这需要一些经验。如果你认为你已经掌握了这门艺术，试着调试你的微服务。简直是噩梦。

**周围的工作。**

使用强大的监控系统可以解决部分调试问题。像 [Istio.io](https://istio.io/) 或者 [LinkerD](https://linkerd.io) 这样的东西可以在这里帮到你。它们还允许您设置一个控制平面，以便在零信任环境中实施严格的访问控制。

这些服务网格为您提供了对微服务的强大控制和可观察性。现在，您可以精确地锁定那些出现故障的链接。其他有用的指标，如延迟和请求数量也是可跟踪的。

但是这些服务网格需要一些部署工具，比如 kubernetes。

那么我们现在需要处理多少东西呢？略低于一百万。

**等等！我现在有点迷茫**

我也是。让我们回到我们开始的地方，**大规模敏捷性**。

我们只想把我们的巨石分解成小块。就这样。微服务似乎让这个梦想变成了现实。

如果我们有办法获得微服务的**敏捷性，而不必管理随之而来的混乱**会怎么样？我们能让事情变得更简单吗？

为了便于理解，我将列出我们需要的特性。

*   一种更简单的方法来分解巨石。也许从一个开始，需要的时候再分解。
*   **一切都应该只是一个函数调用而已**。没有人愿意浪费时间去建立正确的网络。
*   能够独立部署每个部分。潜在地用一致的 API 将不同语言的它们绑定在一起。

## [](#the-functions-mesh-organized-chaos)函数网状(有组织的混沌)

如果我们可以将服务中的每个操作分解成功能，会怎么样？不，我说的不是功能即服务(比如 AWS Lambda)。我们还在说微服务。

无论使用哪种语言或框架，每个端点都由一个函数处理，对吗？那么为什么不直接将这些功能公开为函数呢！？

所有这些意味着什么？

您不需要触发 HTTP 请求来使用您的微服务上公开的 API。你所需要做的就是直接从你的代码中调用微服务上的一个函数。负载平衡和服务发现之类的所有网络都被完全考虑在内。

因为您是通过公开函数来公开功能的，所以您可以从一个整体开始，最终轻松地将事情分解。将功能从一个目录转移到另一个目录非常简单。

听起来不可思议，对吧？

这就是我们所说的函数网格。您所有的功能，无论是本地的还是远程的，现在都只是一个函数调用。

**太空云**

我们已经将函数网格烘焙到[空间云](https://github.com/spaceuptech/space-cloud)的核心。您可以使用 python、java、javascript 和 golang 中可用的 Space Api 库来注册和调用函数和服务。

因为 Space Cloud 是独立于供应商的，所以您可以在任何类型的环境中建立一个功能网格。你可以在 Kubernetes、VM 甚至裸机上运行它。

太空云还提供了一个超级强大的[安全模块](https://spaceuptech.com/docs/security/overview)来微调这些功能的访问控制。

由于所有网络都由 Space Cloud 管理，您甚至可以让您的前端以与后端服务相同的方式调用这些功能。将它与一个[实时数据访问层](https://spaceuptech.com/docs/database/overview)结合起来，你就有了一个统一的 API 来处理大部分的用例。

如果你认为这就是全部，请再想一想。太空云完全开源！您可以立即开始构建自己的函数网格！

## [](#wrapping-up)包装完毕

微服务不会很快消失。在许多使用案例中，FaaS 设置无法解决与微服务相同的问题。

这留下了巨大的改进空间。特别是围绕微服务的沟通方式。我们认为，构建基于微服务的架构的体验应该与传统方式没有什么不同。

functions mesh 似乎确实解决了许多关于微服务的操作问题。它结合了 FaaS 的易用性以及微服务的灵活性和环境控制。

一定要试试太空云。我很想知道你是如何使用网格函数的。

如果你喜欢我们正在做的事情，请在 [GitHub](https://github.com/spaceuptech/space-cloud) 上为我们点赞。我们也希望你能加入我们！你可以从发布一个 bug 或者提出改进建议开始。另外，你可以加入我们的[不和谐服务器](https://discord.gg/ypXEEBr)直接与我们联系。欢迎使用微服务的新编写方式！