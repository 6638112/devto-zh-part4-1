# 代码审查清单✅

> 原文：<https://dev.to/ronancodes/code-review-checklist-2on3>

CR(代码审查)清单是一个强大的工具。

他们允许你组织你自己的想法和直觉，当你回顾别人的代码时，你会注意到什么。从本质上来说，它们反映了从你的角度来看，什么是最佳实践、干净的代码和良好的代码质量。

每个人都有一个清单，大多数不写下来。不写下来会让你很难区分什么是重要的。

## ❓我的清单应该包括什么？

不同的人、团队和组织在他们的清单上会有不同的项目，它们的优先级不同，每个项目在不同的级别上执行。所有这些都会随着时间而改变，尤其是在截止日期临近的时候！

大多数时候，它与代码质量、设计模式、测试、格式和编程风格有关。

### 我当前的 CR 清单:

下面是一个公司责任清单的例子；这是我目前的 CR 清单(很可能在一周后会有所不同！👀).

1.  没有引入任何错误。
    如果你发现新代码可能引入 bug 的场景。

2.  方法类有一个独特的目的。
    记住来自鲍勃大叔的 SRP(单一责任原则)[坚实的](https://en.wikipedia.org/wiki/SOLID)原则。

3.  **名字要有意义。**
    类、方法和属性应该有描述它们做什么的名字。
    一个方法/类名应该描述**做什么**，并且可以添加一个注释来解释**为什么**。

    > 如果您发现自己在代码中编写注释，这可能是一个信号，表明您需要使名称更有意义，或者将您的方法分成多个方法。

4.  **命名要一致。**
    如果你命名一个属性:`personCount`，不要命名下一个属性:`countAnimal`。

5.  遵循当前的模式。
    随着时间的推移，你的项目会发展出一定的模式或做事方式。如果你打破了这个模式，你应该有一个好的理由。
    这是自我注释你的简历的好时机。

6.  测试所有方法逻辑路径。
    确保逻辑的每一个分支都得到检验。

    > 有一些代码覆盖工具可以实现这一点。如果您正在测试 web 组件，那么通过 UI 触发方法调用。

7.  **测试 HTML 模板逻辑。**
    确保测试 HTML 模板中的逻辑，比如显示/隐藏元素。

    > 这些断言中的大部分应该在测试方法时完成，但是有时您需要对一些 HTML 模板绑定进行特定的测试。

8.  遵守**项目风格&格式标准。**
    拥有一致的代码格式至关重要。想象一下阅读一本书，每一段的字体、字体颜色、字体大小和行缩进都不一样。
    阅读起来会很困难，更新(维护)和查找错别字(bug)会非常困难。

    > 这通常是自动化的一个很好的候选(像[漂亮的](https://prettier.io/)和 [TSLint 规则](https://palantir.github.io/tslint/)可以在这里有所帮助)。

9.  将文件添加到所需的方法中。
    有些团队会要求所有的东西都有一个方法文档，有些团队只要求公共方法，有些团队会把它作为复杂方法的可选选项。

    > 如果某些方法缺少文档，您可以自动进行这种检查并使构建失败。TSLint 可以帮助实施 JSDoc 规则:[https://www.npmjs.com/package/tslint-jsdoc-rules](https://www.npmjs.com/package/tslint-jsdoc-rules)

10.  文档是有意义的。
    一个方法/类 doc 注释应该是**为什么**而不是**什么**。
    方法/类名应该是自描述性的，让文档成为 **why** 。

    > 避免这种**什么** doc:“添加方法”。相反，陈述原因或者根本不添加文档。

## ⭐把它的好处写下来

1.  区分重要项目的优先次序。
    通过写下你在审查代码时所期待的，它允许你优先考虑什么是重要的。
    您可能会发现大多数 CR 评论都与格式和样式问题有关；这些类型的意见可能在您的 CR 清单的底部，因此应该不太严格或应该是理想的自动化。
    在项目的某些时候，交付优先于代码质量，因此，你可以对列表中较低的项目不那么严格。

2.  与同事分享清单。
    他们可能是你所缺少的物品，反之亦然。
    他们可以给出自己的观点，说明为什么特定的项目应该有不同的优先级。

3.  给予自信，并将直觉传递给后辈。
    初级工程师没有直觉或经验知道在审查代码时要寻找什么，通常情况下他们不会审查代码，或者只是批准，因为他们不想给出错误的评论。
    有了清单，初级员工就有信心给出 CR 意见。

## 🤷何时使用 CR 清单

1.  **查看他人代码时。**
    不要在你最初浏览每个文件时包括所有项目，你可以快速浏览文件，检查前 5 个项目，然后再快速浏览下 5 个项目；这对于非常大的 PRs，或 WIP(在制品 PRs)很有帮助；因为它们可能会变得势不可挡。

2.  编写自己的代码时。
    当你写自己的代码时，要时刻牢记你的 CR 清单；就像一个小小的代码质量天使在守护着你。
    理想情况下，你应该把你的 CR 清单打印出来，贴在你的显示器旁边(👼天使嘟嘟必选)。

3.  当你打开你的代码进行审查时。
    在把你自己的代码发给别人之前，先检查一下。
    通常，你是如此匆忙地让你的特性工作，让你的测试完成，以至于你错过了基本的东西。

## 📝摘要

这是我目前的 CR 清单，很可能在一周内会有所不同。

把它当作一个反映你的代码质量愿景的不断发展的文档。

## 💭思想

你的清单上有什么？我的清单上还有什么你认为我应该补充的吗？
您是否不同意我的物品优先级？

请在下面用你的想法来评论！🙃