# 良好 CI/CD 渠道的 4 个属性

> 原文:[https://dev . to/flipped coding/4-attributes-of-a-good-ci-CD-pipeline-2hf 4](https://dev.to/flippedcoding/4-attributes-of-a-good-ci-cd-pipeline-2hf4)

找到一个没有某种持续集成/持续交付管道设置的地方是很奇怪的。使用 CI/CD 是企业能够更快地响应用户的方法之一，开发人员能够更有信心地更频繁地推出新版本。持续集成就是将不同分支的代码集合在一起，并确保代码库仍然工作。这是您构建的地方。

持续交付是你的代码库如何被发送到不同的环境，比如 QA 或生产。随着持续集成的到位，建立持续交付是行业标准所期望的。很少会看到两者分开，但有些地方确实因为自身原因存在手动部署。有了 CI/CD，您不必担心手动部署，因为它们允许您自动化一切。

当您的团队完成代码变更时，他们的所有分支将准备合并到开发或您使用的其他分支中。一旦所有的“拉”请求都获得批准，您就可以立即启动 CI/CD 渠道，除非出现问题，否则您不必再做任何事情。管道的持续集成部分将创建一个构建工件，该工件将被发送到管道的持续交付部分，后者将在所选环境中发布工件。

这是您将看到的 CI/CD 管道实现的一般方式。创建这些管道需要很多细节，这意味着并非每个管道都是平等的。你可以用多种方式做同样的工作，有些方式自然会比其他方式更好。有*一些*你希望你的 CI/CD 管道拥有的属性，因为它将提高你的发布的质量，给你和业务方更多的信心向用户发布变更。下面是一个好的 CI/CD 管道的几个属性。

## [](#its-fast)真快

CI/CD 管道可以有许多活动部件。有单元测试、集成测试、创建构建工件等等。你的代码不应该花一整天的时间通过管道。拥有快速管道意味着您可以在一天中进行更多的部署，并且可以更有效地发现和修复代码中的问题。集成完成或向您发送代码反馈应该不会超过几分钟。

为了获得快速的反馈，我们通常会将任何单元测试或代码片段放在尽可能靠近管道开始的地方。这样，如果您的代码有问题，您就不必等待大部分管道执行。您会得到一条自动消息，告诉您构建失败或类似的情况，您可以去检查持续集成日志。尽早发现问题是提高管道速度的最佳方式之一。

## [](#it-uses-the-same-processes-and-artifacts)它使用相同的流程和工件

在管道的持续集成部分为您生成新的构建工件之后，是时候让持续交付部分接管了。您从构建中获得的工件可以是源代码，甚至可以是 Docker 容器。不管您的工件的格式如何，您都应该在您的所有环境中使用这个相同的工件。通过在所有环境中使用相同的工件，您可以在 QA 或 Stage 中测试您的代码，并将其部署到生产环境中，因为它与您用来测试的工件完全相同，所以您对它的工作更有信心。

我最喜欢连续交付的部分是它保持了部署过程的一致性。因为没有秘密或手动步骤，所以不需要关键人员来完成部署。您可以编写一个脚本来将工件移动到云中或您的服务器上的正确位置，并且它每次都会以相同的方式执行。这样，您就不必记住部署所需的所有步骤，而且还能避免一些潜在的人为错误。

## [](#you-can-deliver-any-version-of-the-code-at-any-time)你可以在任何时候交付任何版本的代码

如果您曾经不得不在周五下午部署重大变更，您会很欣赏这一点。只要你有神器，就可以部署。如果工件版本之间有任何数据变更，要小心。当您引用较旧或较新的数据库模型时，会出现一些主要问题。大多数情况下，您手头只会有两三个工件，但是您总是可以创建一个先前版本代码的新版本。

因此，如果您在周五晚上遇到了一些奇怪的部署问题，业务部门打电话让您惊慌失措，您可以自信地告诉他们，您将回滚这些更改，并在周一调查这个问题。拥有这种能力将使每个人都能够毫无顾虑地部署变更，因为如果有问题，他们可以部署最新的工作版本。

## [](#theres-little-manual-interaction)几乎没有人工交互

自动化使得持续集成和部署值得付出额外的努力。建立一个好的管道可能需要一些时间，但这是最重要的事情之一。没有人需要做一两个以上的手动步骤，比如点击一个按钮。一旦开发人员提交了一个 commit，并且他们的 pull 请求得到了批准，这些更改就应该自动部署了。没有其他步骤。你提交你的代码，它得到批准，剩下的就为你做好了。

CI/CD 的目标是在不需要通过开发团队的情况下，让业务方控制特性发布的时间。您真的想让他们记住部署过程吗？你还记得部署过程吗？每次他们问你的时候，你都能准确无误地完成吗？我们大多数人都有一次搞砸了部署的经历，这通常是因为我们忘记了什么。一个好的 CI/CD 管道将确保您不必担心忘记某些东西，因为它已经为自动运行准备好了一切。

建立一个好的 CI/CD 渠道是值得的，因为它可以节省你的时间和精力。你不需要在产品中寻找 bug，因为你已经在 QA 中发现了它们，所以你只需要用修复程序构建一个新的工件。这可以减轻开发人员的压力，但我不知道这是否会增加压力。自从 CI/CD 以来，您是否曾觉得自己被迫在更短的时间内完成更多的工作？

* * *

嘿！你应该在推特上关注我，因为原因:[https://twitter.com/FlippedCoding](https://twitter.com/FlippedCoding)