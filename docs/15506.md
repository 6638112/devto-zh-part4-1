# 是 bug 还是特性？口袋妖怪红/蓝的编程一瞥

> 原文:[https://dev . to/hamatti/is-it-a-bug-or-a-feature-a-look-the-programming-red-blue-13 B1](https://dev.to/hamatti/is-it-a-bug-or-a-feature-a-look-at-the-programming-of-pokemon-red-blue-13b1)

bug 是程序员的克星。它们导致软件以意想不到的方式运行，或者导致有趣的情况，或者更常见的是，让用户感到沮丧。在现代 web 和移动开发中，我们可以通过纠正代码、部署代码或更新移动应用程序来修复出现的错误。

在前互联网时代，当软件以物理形式(如游戏卡带)分发时，没有办法提供软件更新。对于 20 世纪 90 年代中期发布的流行游戏，我们花了将近 25 年的时间来发现其中的许多漏洞并加以利用。

但是有时软件中的意外行为不一定是一个错误，至少不是“这应该或者可以通过编程减少错误来避免”。让我们来看一个因其故障、漏洞和缺陷而众所周知的例子:《口袋妖怪红与蓝》。

## [](#introduction-to-pokemon-redblue)口袋妖怪红/蓝简介

口袋妖怪红与绿于 1996 年在日本为最初的游戏男孩发行。两年后，它们在 1998 年被投放到美国市场，并在 1999 年被投放到欧洲市场，名为《口袋妖怪红与蓝》,对日本游戏进行了小的修正和改进。

这些游戏因其漏洞而臭名昭著。如果你一直在关注这些游戏的 speedruns 或 Youtube 视频，你可能会熟悉这样一个事实，即它们充满了小错误和大漏洞。

(如果你还没有，我推荐你看看 2016 年 AGDQ Shenanagans 举办的非常有趣的[口袋妖怪小故障展览](https://www.youtube.com/watch?v=mCoQm8bIyyw)或 [JRose11 的口袋妖怪红/蓝十大有趣小故障](https://www.youtube.com/watch?v=Bf4rpLU6EKg)。

## [](#limitations-of-the-game-boy-hardware)游戏机硬件的局限性

根据网上的一些消息，口袋妖怪红/蓝带走了大约 375 KB 的数据。其中很大一部分是 151 个口袋妖怪的战斗精灵，160 多个口袋妖怪动作，几十个训练师和所有建筑，玩家，NPC 等的世界地图精灵。

公平地说，没有太多的空间让代码来处理游戏逻辑。

由于这些限制,《口袋妖怪红/蓝》中的许多东西是优秀软件工程的绝佳展示。游戏是用 Z80 汇编写的，它直接用硬件的内存操作。这使得游戏的内存效率非常高，但它也为许多利用聪明的黑客改变内存中的某些值的行为打开了方便之门。

视频中的[解释了这样一种方法。在那个小故障中，你操纵存储器来改变地图坐标的数据，这样你就可以扭曲到](https://www.youtube.com/watch?v=P5RWMiJIPaQ)

这个小故障还利用了另一种节省内存的方法:使用特定的内存地址来实现多种目的。在一个地方操纵数据，然后让游戏在另一个地方访问它，这是混淆软件的好方法。

## 这些小故障的后果

因此，虽然基本的 bug 很烦人，对竞技游戏来说尤其巨大，但大多数 bug、小故障和漏洞对于一个普通玩家来说并不明显。虽然操纵游戏的记忆来做一些古怪的事情是可能的，但是玩家需要有意识地去尝试。

我认为在权衡这些疏忽和错误的重要性时，这是一个非常重要的因素。因为虽然大部分的 bug 都很烦人，但是有些 bug 并不是那么重要，如果有助于我们构建有严格限制的东西，有些 bug 甚至可以在早期被接受。

## [](#conclusion)结论

自从我对 Speedrun 感兴趣，并看着玩家利用小故障(甚至编写自定义代码，就像在[这个工具辅助 SMB3](https://www.youtube.com/watch?v=eM8Z9e-WoFs) 的 speed run 中一样)，我就对早期视频游戏的局限性以及开发者如何克服这些限制和障碍来创建超出我们想象的某些硬件可以工作的游戏和软件着迷。

值得注意的是，有一个允许某人篡改游戏机内存的错误是无害的。在服务器、手机或台式机上运行的软件中存在这样的错误，如果该错误以某种方式允许用户超越你自己的应用程序的沙箱，可能会导致巨大的问题。

所以不要用口袋妖怪红/蓝作为不修复你的错误的借口，但也要知道有时导致错误的事情可能源于现实生活的限制，实际上是伟大的软件工程。