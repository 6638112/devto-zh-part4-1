# 3D 音频入门

> 原文:[https://dev.to/thereexistsx/3d-audio-primer-1646](https://dev.to/thereexistsx/3d-audio-primer-1646)

*(交叉贴自我的[个人博客](https://expletive-deleted.com/3d-audio-primer/) )*

当制作各种各样的虚拟现实体验时，最重要的考虑是“这如何帮助或伤害沉浸感？”如果声音设计把用户带出了空间，那就是糟糕的声音设计。不幸的是，对于不同的经历，这可能意味着不同的事情，把现实主义看得比什么都重要并不是万能的。相反，营造声景的最佳方法是问自己“这能满足期望吗？”当你在游戏中添加了一场火，但与弄皱一个纸袋相比，真实火灾的录音听起来不对时，选择合适的声音比技术上更准确的声音 <sup id="fnref1">[1](#fn1)</sup> 更重要。因此，在将您的声音设计公之于众之前，一定要仔细聆听所有的声音元素，并确保它们在播放的环境中以及与环境中其他声音的关系中总体上听起来不错。

3D 音频的一个主要困难是，每个人都有一个形状怪异的头，形状怪异的耳朵，身体奇怪地占据空间，完全有可能一些对你和你正常形状的头、耳朵和身体来说完全自然的东西在其他人听起来是错误的。对于用你自己的克隆体代替整个人类，你无能为力，所以重要的是让很多人经常听你在建造什么，如果你意识到你刚刚花了几个小时把一个物理物体扔在地板上，不确定听起来是否正确，记住完全有可能是你有着奇怪的头部、身体等。为了建立一个从人类的角度来看听起来像什么的通用模型，我们使用了一个与头部相关的传递函数。

与头部相关的传递函数(或 HRTF)是一种用于帮助模拟声音的 3D 定位的函数，它不仅计算声音如何从场景中的无生命物体(如墙壁或桌子)反射，还计算声音如何从我们的身体反射并进入我们的耳膜。HRTF 考虑了耳朵、头部和身体的形状，并计算出特定音频剪辑从特定位置发出的声音对人类来说是如何自然的。

很长一段时间以来，游戏声音一直局限于与屏幕的 2D 平面进行交互，并获取声音信息。这种外形为使用黑客技术优化性能打开了大门。背景音乐和氛围不需要在世界上有一个来源，通过使用平移和衰减可以得到一个完美的令人信服的声景。与虚拟现实体验相比，玩家的头部角度和方向是非常有限的，因为在虚拟现实体验中，玩家可以在任何给定的时间出现在任何地方。不仅如此，声音发射器本身也可以通过编程或玩家互动来移动。

从 2D 飞机上体验的游戏升级而来的是 360 度的视频和非房间尺度的体验。向左和向右平移音频不再足够，因为必须考虑音高和玩家头部的滚动。为了解决这个问题，20 世纪 70 年代开发的一项技术开始得到更广泛的应用——环绕声。环绕声录音是用(通常)四个麦克风组成的特殊阵列进行的，这些麦克风被放置在尽可能接近 360 度的位置进行录音。使用环绕声，可以获得声音发出的完整表示，然后将它们播放给听众。与环绕声不同，环绕声并不针对特定的扬声器播放特定的音频剪辑，而是通过使用录音本身来确定播放哪个扬声器。也许环绕声的主要限制是它有一个小的最佳听音点，并且需要对听众的位置有一个大致的了解——一旦玩家离开音频体验的定义中心点，房间尺度就不是一个选项了。

因此，我们不是试图模仿我们所处的 3D 环境，而是试图再现声音传入你耳朵时的样子——这就是双耳音频的用武之地。为了录制模拟您用耳朵听到声音的方式的音频，使用两个麦克风放置在仿真头(您的兄弟可能会被称为)的两侧，这与 ambisonic 录音使用的 4 个麦克风阵列相反。双耳录音试图在听到声音时创造声音，而不是声音是如何发出的，因此只能通过耳机收听。

对于虚拟现实来说，你通常不会使用这两种方法来录制声音，而是借鉴用于录制双耳声音的概念——也就是说，尝试在我们听到声音时重建声音。当所有这些讨厌的人都在听它的时候，它只是不够灵活，不足以构建一个单一的混合并结束它。相反，我们使用单声道声音和代码来动态生成双耳声音。这就是为什么如果你必须计算出所有的声波总是从哪里反弹，音频可能是 CPU 密集型的。

为 VR 构建令人信服的音频组合有三个主要因素——混响、遮挡和空间化。混响是使用回声来增加场景的空间感，闭塞是当声音发射器和听者之间有物体时发生的情况，空间化是使用过滤器、延迟和衰减来欺骗您的耳朵，使其认为声音来自特定位置。

空间化的音频在计算上非常昂贵，因为大部分反射是在运行时计算的。我确信手工编写这些计算对于超级人类来说是完全合理的，但在大多数情况下，你会想使用某种库或插件来处理数学——有三个主要项目来做这件事 [Oculus 的空间化插件](https://developer.oculus.com/downloads/package/oculus-audio-sdk-plugins/1.1.0/)、 [Steam Audio](https://valvesoftware.github.io/steam-audio/) 和 [Google Resonance](https://developers.google.com/resonance-audio/) 。有一个人对这三个选项进行了惊人的比较，如果你正试图决定在你的项目中使用哪一个，我建议你听听他的样本[这里](http://designingsound.org/2018/03/29/lets-test-3d-audio-spatialization-plugins/)。

音频坚持成为沉浸在 VR 中的无名英雄。它可以被用来主动引起人们对事物的注意，也可以被用来被动地填满一个房间。我希望给你一个文字的发射台，和虚拟现实中音频的概念，这样你就可以前进，让事情听起来很酷。

* * *

1.  我们可以继续指责好莱坞扰乱了我们的期望。 [↩](#fnref1)