# 清洁代码第 1 章

> 原文:[https://dev.to/davidemily/clean-code-chapter-1-1jl2](https://dev.to/davidemily/clean-code-chapter-1-1jl2)

# [](#clean-code)清理代码

由[罗伯特·c·马丁(鲍勃叔叔)](https://blog.cleancoder.com/)撰写的《干净的代码》一直以来都被认为是每个程序员都应该读的书。这本书解释了为什么有人应该想编程，为什么一个人应该干净地编程，以及如何干净地编程。我在大学期间拿起了这本书，但从未读完。我在实习期间试着再读一遍这本书，但又失败了。这次我会成功的，你们都要让我负责！所以不要再浪费我们俩的时间了，让我们进入我对[清洁代码](https://www.google.com/search?q=Clean+Code+Robert+Martin)第一章的思考。我的大部分写作将是我从这些章节中吸取的。请不要把我说的话当成权威，因为我没有和别人讨论过我的想法，当然也没有和罗伯特·马丁讨论过。

#### [](#there-will-be-code)会有代码

第一章的第一部分探讨了编程的未来，并试图消除编程变得过时的想法。关于程序员消失的论点是，编码语言将很快变得高度抽象，以至于产品所有者可以简单地自己输入他们的需求。Bob 叔叔对此的反驳是，人类长期以来错过了准确匹配客户需求的机会，并且需求有时对于某种抽象层次来说过于精确。

我当然看到了争论的双方。作为一名程序员，我非常希望这个领域会存在很长一段时间。我在这一领域的个人经历使我相信编程至少在未来的 20-30 年还会存在。我们已经看到，遗留系统不会简单地发展到使用现代语言，并且缺乏专业知识、资金和时间来将它们全部转换成使用更新的系统。我相信遗留系统会变得像制造业中的老化设备一样，总会有一小群骨干人员来维护和升级设备；或者像会计领域，那里存在供大众廉价使用的高效系统，但企业或那些有特殊需求的人需要外包给专家或在现场保留有经验的个人。

我认为对于想以编程为职业的人来说，最好的办法就是继续学习。继续学习你目前的工作，并学习如何最好地结合使用其他技术。成为提出你的公司正在寻找的工作流系统或抽象概念的人。

#### [](#bad-code-is-everywhere)坏代码无处不在

这本书的这一部分引出了许多个人感受。我曾经经历过几次，或者是其中的一部分，从未被记录在案的“快速修复”或者没有伴随测试或者没有被测试覆盖的新变化。99%的情况下，这些事情都是有原因的，只是被遗忘了。也许变更是对生产系统的修补，团队需要的文档被放到了 backlog 中。接下来就是速度永远不会慢到足以记录那个系统，很快就没有人真正记得修补程序做了什么或者它是否存在。此外，由于项目属于一个单独的团队，没有人真正知道如何设置测试来正确测试新功能，所以有时测试没有被添加。这可以继续下去，因为下一个开发人员不想添加测试，因为早期的团队不想。

维护编码标准很难。保持所有内容的可读性和最新性需要一定的完整性和来自他人的能量。这让我想起了我读过的另一本书，DevOps 手册建议每周用 20%的时间来解决技术债务。我当然认为这是一种前进的方式，但我认为这需要管理层的认可和优秀的文档来证明这样做的价值。

#### [](#what-is-clean-code)什么是干净代码

这可能是第一章中我最喜欢的小节。鲍勃大叔用其他成功的程序员的话来论证干净代码的定义应该是什么。虽然我不会深入每个程序员所说的话——尽管我建议你这样做，因为他们都很有见地——但我确实想谈谈比雅尼·斯特劳斯特鲁普的部分。

有些人可能知道，Bjarne 是 C++语言之父。在他的引言中，他多次使用了“优雅”和“高效”这两个词。干净的代码应该优雅高效！就像你买的任何产品一样——汽车、清洁设备、家居用品——这些东西应该和它说的完全一样。如果你买汰渍洗衣粉，可能不是因为它在你的货架上看起来怎么样，尽管那可能是它的一部分，但你可能是因为它能清洁你的衣服而购买它。代码应该像那些产品一样。它应该做它所说的事情，它应该告诉你它到底在做什么。

此外，这一节还探讨了糟糕的代码会如何“诱惑”。我很高兴罗伯特选择了这个部门。对于那些没有读过这本书的人来说，罗伯特讲述了一个窗户破了的房子将如何继续陷入混乱。如果窗户不固定，地板可能会不清洁，管道可能会不维护。这很像一个编程项目。如果你没有用你的改变更新文档，下一个人会这样做是值得怀疑的。如果文档没有得到更新，为什么要更新测试或重构函数呢？这让我想起打扫我的公寓。我可以每天打扫 15 分钟，也可以放手，但从长远来看，我可能会在这上面花更多的时间。这与最后一部分——童子军的规则——联系得很好。

#### [](#the-boy-scout-rule)童子军规则

"让露营地比你发现时更干净"。虽然我从来没有当过童子军(我在成为童子军后就停止了)，但我在军队里。在军队里，我们有一种东西，如果你发现有一个烂摊子，那就是你的烂摊子。不管是不是你之前的人造成的，你在那里意味着你要对此负责。

我喜欢在编码世界里继续这个思考过程。如果您添加了一个特性，修复了一个 bug，或者只是重构了，您需要确保所有这些都被记录下来。如果您在早期代码中发现了一个错误，那么这个错误现在由您来修复。我认为使用源代码控制来找出是谁导致了这个问题，然后将它从您的优先列表中删除是非常容易的。如果这不是你的首要任务，那是谁的？虽然你可能会说最初的人需要修改它，但是不可能知道他们被要求的最后期限或要求是什么。至少，我建议向他们提出这个问题，并提供帮助。我发现，当其他人只是希望产品成功时，我们往往会把事情看得过于个人化。永远试着想象别人的最佳意图，永远试着做一个好管家。

#### [](#conclusion)结论

我期待着努力完成这本书。我知道它将继续变得更有技术深度，开始的章节设定了指导方针和思考过程。我希望你能继续加入我的旅程！