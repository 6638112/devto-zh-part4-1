# 代码是一个故事

> 原文：<https://dev.to/skydevht/the-code-is-a-story-1ael>

这里有一堆关于阅读代码的帖子，比如[这个](https://dev.to/joshnuss/parachuting-into-unknown-code-19hg)。阅读代码是除了交流和抽象之外最重要的技能之一。因为你读代码的时间会比写代码的时间多。有时候，它会是你唯一拥有的东西。我今天要分享的是我阅读代码的方法。

# 观想意图

我列表中的第一个任务是清楚地了解这段代码应该做什么。有时，你会得到一个你可以体验的工作版本或者原始规范。其他时候，你会得到作者目标的书面版本。但最重要的是让它运转起来。这是可视化解决方案的最快方式，就像查看一本书的目录一样。

# 明确你的目标

接下来我要做的是定义一两个我想从代码中理解的部分。通常情况下，实现的解决方案是一个相互连接的系统和组件的集合，弄清楚它们之间的关系与弄清楚每个系统和组件是如何独立工作的时间一样多。一个例子是“计算程序如何模拟这个文件的内容”。当细节与主要故事的其他部分松散地联系在一起时，这类似于跳到特定的一章去看次要情节的特定部分。

# 阅读~~剧情~~流程

一旦你有一个特定的用例要研究，这就非常简单了。我所期望的是，一个用例的代码通常会有一个入口点(良好的模块化)和一个或多个出口点(很多都是失败的)。你将掌握四件事:

*   输入
*   输出
*   背景
*   这个过程我通常从**输入**开始。如果我们以前面的例子为例，我已经知道输入是一个文件和这个文件的格式。从现在开始，我将通过执行**过程**来了解这个文件发生了什么。最终的结果将是用例的**输出**(我期望它将是一个结构的集合，为源代码的其他部分处理的文件内容建模)。该过程可能涉及将形成其背景的外部实体。很多时候，只需要理解过程和它的上下文之间的特定交互，而不是后者的本质。如果的内容是 JSON 格式的文本，您可能需要一个反序列化程序。你只需要知道它会把字符串反序列化成你更容易使用的结构，而不是反序列化过程。

# 黑框

这一步是个人的。我试图简化这个过程，把它看作一个黑盒，直接把它的输入连接到输出。我也跳过可能的失败，忽略上下文。输出将只取决于输入和后者可能的变化。在我们的例子中，我考虑了文件内容的变化将如何反映在最后创建的结构中。如果我能成功地将它可视化，我认为我已经完成了这个特定的~~章节~~用例

仅此而已。这是我阅读代码的技巧。对我来说，每一个代码都是一个故事，这种方式使我能够轻松快捷地理解它。这非常类似于快速阅读，让我只关注必要的部分。