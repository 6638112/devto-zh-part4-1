# 从 Wordpress 迁移到 Gatsby

> 原文:[https://dev . to/ankursheel/migrating-from-WordPress-to-Gatsby-4jc 6](https://dev.to/ankursheel/migrating-from-wordpress-to-gatsby-4jc6)

## [](#my-blogging-journey)我的博客旅程。

我在 2008 年用一个免费的 Blogspot 账户开始写博客。如果你想知道我在说什么，Blogspot 是谷歌提供的免费博客平台。但直到 2014 年，我才决定获得自己的域名，对博客的内容和结构有更多的控制权。进入自托管。那时，Wordpress 可能是最受欢迎的服务，我搬到了一个自我托管的博客，充分利用了 Wordpress 的所有功能。

## [](#reasons-for-moving-away-from-wordpress)离开 Wordpress 的原因

Wordpress 解决方案不再适合我有几个原因。没有特定的顺序，

*   慢的
    *   让我们面对它，共享主机并不适合一个快速的网站。此外，Wordpress 本身运行缓慢，我添加的各种插件也没有帮助。
*   费用
    *   大多数主机平台的第一年计划都有很大的折扣，之后价格会像天文数字一样上涨。这导致我不得不每年将我的站点迁移到一个新的平台上。也有一些提供商很难取消计划并取回数据，除非你提前一个月这样做。越来越难以证明 100 多美元的花费是合理的。即使是最便宜的选择也会轻易花掉我 50-60 美元。
*   写帖子的体验下降
    *   随着新一代编辑器的发布，我不得不用内容块做所有的事情，我觉得我花了比我觉得创建一个新帖子所需的更多的时间。
    *   我不想每次想写一篇新文章或修改现有草稿时都登录网站。
*   我在其他地方都不用的编程语言
    *   我从来不喜欢写 PHP 做修改的过程。我在网站上做的一些自定义修改感觉像是一件苦差事。事实上，我从来没有看到自己在其他地方使用 PHP，这可能也没有帮助。

## [](#why-gatsby)为什么是盖茨比

最近，通过使用静态站点生成器来托管静态内容的相对便宜的解决方案变得更加容易。有很多选择。首先想到的是 Github pages T1，它与静态网站生成器 T2 Jekyll T3 很好地集成在一起。虽然它勾选了上面 4 个框中的 3 个，但我并不认为它是我的理想解决方案，主要是因为开发语言是 Ruby，另一种我在其他地方看不到自己使用的语言。使用围棋的 Hugo 也有类似的经历。

就在我似乎不得不放弃使用 Github 页面的时候，我发现了基于 Javascript 的 [Gatsby](https://gatsbyjs.org) 。我在工作中越来越多地使用 Typescript，所以这似乎是一个完美的解决方案。

让我们看看它是如何与我在上一节中关注的问题相比较的。

*   ~~慢~~
    *   盖茨比网站很快。快得惊人。
*   ~~成本~~
    *   在 [Netlify](http://www.netlify.com) 上举办是免费的。你不能免费打。Netlify 很牛逼。它几乎不需要任何设置，每次我点击 master，都会有一个新版本的网站被部署。
*   ~~写帖子体验下降~~
    *   它支持 markdown 和 MDX，这意味着我可以在任何文本编辑器和任何地方编写和编辑帖子。我也可以嵌入 react 组件。
*   ~~我在其他地方都不用的编程语言~~
    *   它是建立在 **JAM** 栈(**J**avascript**A**PI**M**arkup)之上的，我想要做的所有定制工具都使用了 ReactJS、GraphQL、JavaScript/Typescript 和 CSS。所有这些都是我在工作中使用的，所以我可以很容易地将学到的东西从一个地方转移到另一个地方。

### [](#other-advantages)其他优点

*   构建可重用的组件，并使用它们来构造视图。
*   热重装和代码分割是内置的。
*   可以很容易地配置为使用 Typescript。
*   一堆插件和启动器(官方和非官方都有)。
*   支持 CSS-in-JS。
*   响应和优化的图像。
*   页面之间没有重载。
*   Gatsby 检测页面上有哪些链接，并预取内容。
*   支持 MDX，这意味着我可以将 React 组件嵌入到帖子中。

把你的博客从 Wordpress 搬到 Gatsby 也不难。我会给你我所做的基本情况下，你也想作出改变。

## [](#my-migration-process)我的迁移过程

*   使用“工具->导出”部分从 Wordpress 下载 XML。
*   使用 [ExitWP](https://github.com/thomasf/exitwp) 或 [Wordpress-to-Hugo](https://github.com/SchumacherFM/wordpress-to-hugo-exporter) 工具将 XML 转换为 markdown。
*   从服务器下载所有图像和其他内容。
*   找一个 Gatsby start starter，这样很容易上手。
*   添加 Git LFS，因为我的一些帖子图片过多。
*   连接到 Netlify 并设置自动部署。
*   我用的那个是用 javascript 写的，所以我不得不把 Javascript 移植到 typescript，再移植几个插件来启用 typescript。此外，更改样式选项以使用 CSS-in-JS。
*   更新样式、颜色和布局。
*   更新 starter，使所有博客内容都在“/blog/”下。
*   添加一个重定向规则，因为我决定从 URL 中删除日期。
*   添加转换后的降价。
    *   修复缩进和其他问题。
    *   根据帖子内容构建缺失的 react 组件。

## [](#you-said-it-was-easy-to-move-from-wordpress-to-gatsby-but-i-dont-see-all-of-your-posts-did-you-lie)你说从 Wordpress 转移到 gatsby 很容易。但是我没有看到你所有的帖子。你撒谎了吗？

根据你阅读这篇文章的时间，你可能会注意到很多文章似乎都不见了。至少看起来我并没有写了这么多年的博客。这主要是因为最初的博客有很多不同的内容。我已经决定把一部分转移到另一个博客上。例如，我将书评转移到图书王国的[发现中。因为它增加的价值有限，有些甚至可能不会出现在这个博客上。](https://www.discoveriesinbookland.com/)

我借此机会重温了我想展示的内容。

## [](#conclusion)结论

虽然这是一个持续的过程，但我对迁移的进展很满意。[我的博客](https://www.ankursheel.com)现在是用 React、Node.js、Gatsby、Markdown 搭建的，托管在 Netlify 上。我仍然可以控制我的内容和博客结构。所有的文章都在版本控制中，所以不需要大量的备份。

我会添加更多与我在谷歌上搜索的东西相关的帖子。如果你想知道更多具体的事情，请在评论中告诉我。