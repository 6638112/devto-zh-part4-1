# 您如何管理部署配置？(尤其是大规模云不可知的)

> 原文：<https://dev.to/uilicious/how-do-you-manage-your-deployment-configs-especially-large-scale-cloud-agnostic-ones-358d>

# 上下文

在过去的几周里，我疯狂地混合使用了以下几种。所有这些都在 git 存储库中(基础设施作为代码)，因为我们将大部分基础设施和工作负载从一个提供者迁移到另一个提供者。

*   将（行星）地球化（以适合人类居住）
*   nodejs
*   bashscripts
*   kubernetes yaml

有很多很多的 json 和 yaml 配置文件。大部分从一个系统产生，通过管道传输到另一个系统(大约 1 万条线路)。

* * *

通常作为一个解决一切问题的单一解决方案出售(事实并非如此),一旦我们开始在通常的 AWS / GCP 之外进行部署，它就很快分崩离析了，而且它对 kubernetes(我们大量使用它)的支持也很差

所以我们开始用 nodejs + bashscripts 修补缺失的编排。

现在我们有一大堆脚本来更新其他脚本配置并应用它们。不完全是最“优雅”的解决方案。

* * *

# 问题:你是怎么做到的？

因此，对于那些进行真正大规模部署的人，尤其是拥有小型团队的人来说，我很好奇。

总是在最后认输，并编写一个定制的配置管理脚本来处理所有这些混乱，这正常吗？如果是的话，你们通常都在 bash 中这样做吗？还是自定义应用(比如 java)？或其他 CLI 脚本语言。

或者，仅仅发展一个非常大的系统管理员团队，每个人管理系统的一个子集正常吗？

这感觉就像是我在重新发明轮子，然而我不知何故觉得会有一个解决方案。

> 岔开话题:出于沮丧，我很大程度上只是想在 nodejs 中重做 terraform，以支持我的用例。

* * *

# 澄清上秤

我确实相信有多种特定于云的产品，我们不使用其中任何一种的原因是，目前我们运行在以下提供商列表中。

*   gcp
*   美国焊接协会
*   数字海洋
*   利诺德
*   阿比克劳德
*   海兹纳
*   裸机本地设备

涵盖以下地区

*   新加坡
*   大不列颠及北爱尔兰联合王国
*   德国-法兰克福
*   印度-班加罗尔
*   加拿大-多伦多
*   美国-纽约
*   美国-沙朗
*   荷兰-阿姆斯特丹
*   印度尼西亚-雅尔卡塔
*   香港
*   台湾
*   +3 个其他数据中心

复杂的提供商网络部分是因为需要支持其他提供商不存在或表现不佳的地区。

**都在[https://uilicious.com](https://uilicious.com)运行 UI 测试！？？！**