# TypeScript 有多好？

> 原文：<https://dev.to/alexkondov/how-good-is-typescript-48c3>

您可能会问自己，在一个项目中使用 TypeScript 是否值得投入时间。围绕它的宣传是高调的——框架和工具正在支持它，公司正在采用它。

自从第二代 Angular 问世以来，我一直断断续续地使用 TS，现在我写的 TypeScript 比普通的 JavaScript 还要多。这是目前大型代码库的最佳选择，我这么说是因为我一开始是个怀疑论者。

也就是说，TS 不是银弹。你不应该无意识地到处使用它。对于没有静态类型语言背景的开发人员来说，学习曲线可能很陡。它最大的胜利只有时间才能感受到，你仍然需要自律。

让我们看看 TypeScript 到底有多好。

## 临界点

每项新技术都会给你的代码库带来新的错误和问题。TypeScript 也不例外。虽然社交媒体上的开发人员宣扬静态类型的好处，但你的体验可能会有所不同。

尤其是在开始的时候，TypeScript 让你走得更慢，你看不到它的直接价值。开发速度的降低很难自圆其说。

您需要显式地检查变量是否缺少值，这样代码的美观程度就会下降。

你发现自己花了一个小时试图为一个 **reduce** 电话写正确的通用名，你感到沮丧。你没有做**实际的**工作——而是结束了为琐碎问题编写类型的工作。

对于像我这样不习惯使用严格类型化语言的人来说，这感觉就像在齐膝深的水中跑步一样。你已经尽力了，但是你周围的环境并没有让你走得更快。

看起来也很尴尬。

这是一些开发人员被 TypeScript 吓跑的时刻。我喜欢称之为临界点。您将文件重新命名为**。js** 并删除视线内的任何界面。

## 给它一些时间

写打字稿应该被视为一项长期投资。你只能随着时间的推移感受到好处。

首先，你会花一些额外的时间写下接口和额外的检查。这不是软件开发中最令人愉快的活动。尤其是对于 JavaScript 纯粹主义者来说。

支票不时尚。仿制药觉得**别扭**。错误信息可以更加**描述性**。如果你正在寻找快速的胜利和生产力——是的，TypeScript 可能不是你的最佳选择。

但是如果你计划在同一个代码库上工作几个月以上——当你回到那个代码时，投入的时间将开始得到回报。

很难记住特定于项目的效用函数和数据结构。你不需要用 TS 来记住它们，因为你的编辑器的智能感知会提醒你。

当你通过第一个障碍时，你需要记住你实际上是在用一种不同的编程语言编写。即使它是 JavaScript 的超集。每种语言都有其特殊性，需要时间去适应。

你通常也不是从零开始。您决定将 TS 添加到一个项目中，现在您需要修复几个星期的错误。

在 React 代码库中工作时，找出类型和接口是一个不同的游戏。如果你比预期进展缓慢，不要打败自己。

## TypeScript 在哪里发光？

话虽如此，让我们来看看 TypeScript 的长期好处。

关于 TypeScript 和类型的好处的文章不计其数。更安全的开发、更好的智能感知和更具描述性的代码只是触及了表面。总结一下- **需要记住的事情少**。

如果你正在做一个单独的项目或者一个模块，你会很好的理解你的代码库。你知道导致代码库特定状态的意图和思维过程。

但是对你团队中的其他人来说**也理解**这些要点吗？你**确定如果你离开几个月，你会记得吗？**

很难记住一个特定于你工作领域的对象的结构。你知道“命令”是什么样的。如果你为这个实体创建了一个接口，那么每个继承了这个代码库的开发者都会知道。

您能回忆起另一个团队维护的 Redux 商店的结构吗？在编辑器中使用 intellisense 比在浏览器中使用开发人员工具要容易得多。

新团队成员更容易理解代码库、业务和数据流。

由许多模块或完全独立的服务组成的大型项目通常由不同的团队所拥有。如果发生了什么事情，你需要另一个团队的帮助，你能多快跟上进度？

当你在 TS 附近找到路的时候，你会踩上一些园艺设备。但是在最初的障碍之后，你会发现和它一起工作很愉快。一旦它成为你写代码的正常流程的一部分，你就很难否认它带来的好处。

但是要获得这些好处，重要的是不要走捷径。除非必要，否则避免使用“any”关键字。尽可能用最具描述性的方式写下接口。

不要担心你的代码库会变得更像 Java 而不是 JavaScript。TS 仍然设法在可能的时候推断类型，所以你不需要为每个变量和函数写下它们。

## 什么时候不使用 TypeScript？

到目前为止，你可能在我写下的所有东西中看到一种模式。我在项目寿命和可伸缩性方面称赞 TypeScript。

在较大的代码库或长期项目中，好处和优点最突出。需要由许多不同团队开发的应用程序从可读的代码库中获益最多。

不过，我们需要看看硬币的另一面。重要的是要“再次”注意到，TypeScript 会降低开发速度。当然，你需要写稍微多一点的代码来达到同样的最终结果——这是不可否认的。

软件开发中有一句话，一切都是有得有失。当使用 TypeScript 时，我们牺牲了一点速度，以确保项目在将来更容易扩展。

当发展速度成为关键因素时，我们可以牺牲可持续性来实现它。

我相信，有些情况下，让 TS 坐冷板凳(至少在一开始)是正确的选择。如果以下任何一个问题的答案是肯定的，那么您可能应该暂时坚持使用纯 JavaScript。

*   你的项目范围/复杂性小吗？
*   这是一个一次性项目，将来不会维护吗？
*   您正在进行概念验证吗？
*   你在一家以尽快上市为目标的创业公司吗？

对于那些情况，获得速度以换取可持续性是一个很好的权衡(至少在我看来)。没必要花额外的时间在一些几个月后就会被遗忘的事情上。

然而，如果情况发生了变化，并且您需要在该项目上做进一步的工作——请查看 TypeScript。现在添加比说服利益相关者在将来给你更多的时间要容易得多。

*   对于小型、无状态和自包含的 Lambda 函数，我使用的是老式的 JavaScript。
*   对于使用 Redux 并具有复杂组件的 React 应用程序，我求助于 TypeScript。
*   对于快速服务，我仍然会选择 TypeScript，因为我对这个选择很有信心。不过，如果范围很小，我可以理解 JS 的论点。

总的来说，随着您对 TypeScript 经验的积累，它可能会成为您的工具集不可替代的一部分。如果你和你的团队成员对它有信心，你可能会在任何地方都使用它。

## 成熟

我第一次尝试 TypeScript 是在 2016 年末，当时它周围的社区还没有那么大。采用率不是很高，将它与 Angular 之外的工具集成在一起相当麻烦。

当时我觉得与 TS 合作是一个零和游戏——收益和时间成本相互抵消。

在撰写本文时，你可以说 TypeScript 生态系统已经成熟。库现在附带了类型。与工具的集成非常容易。社区比较大，遇到问题可以找学习资源或者帮助。

有完全基于 TypeScript 的框架，也有提供一流支持的框架。用一些工具升级到 TS 就像重命名文件一样简单。

该团队每个月都会推出许多版本，如果 Twitter 是一个可靠的来源，那么跨组织的 TypeScript 采用率会很高！

## 一个入门建议

千万不要用**任何**。

如果您不熟悉 TypeScript - **any** 是主关键字，可以绕过该语言对您的任何限制。你应该不惜一切代价避免使用它。

当您不想编写泛型或跟踪类型时，使用这个关键字是一种逃避机制。你可以把它插在任何地方，只要它有问题，你就可以走了。

这违背了使用 TypeScript 的初衷。你绕过 TS，你从类型系统中得不到任何好处。所以你唯一做的就是写一些额外的符号，弄乱我们的代码。

在某些情况下这是必要的——也许一个库没有更新它的类型。但是除非是这种情况，否则要不惜一切代价避免使用它。

## 总结

*   打字稿是一项不错的长期投资。
*   一开始你的工作效率会受到影响，这没关系。
*   如果你正在做一个大项目，那么最初的生产力下降是值得的。您将在可扩展性和可持续性方面获得优势。
*   对于较小的应用程序——除非你和你的团队成员对你的 TS 技能有信心，否则你最好坚持使用 JS。
*   围绕 TypeScript 的社区相当强大，并且在不断发展。
*   不要用**任何**，除非绝对必要。您添加了额外的字符，但却没有从 TypeScript 中得到任何好处。