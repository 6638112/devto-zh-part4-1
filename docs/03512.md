# 密码最大长度限制是愚蠢的(但我们需要它们)

> 原文:[https://dev . to/mitchpommers/password-max-length-limits-is dumb-but-we-need-them-1 DPP](https://dev.to/mitchpommers/password-max-length-limits-are-dumb-but-we-need-them-1dpp)

密码最大长度限制真的很烦人。如果你去查看 Github 上的[哑密码规则，你会看到一堆具有最大长度限制的服务，它们已经惹恼了人们。我同意，这些最大长度限制真的很烦人，但是完全取消这个限制是正确的答案吗？(剧透:不是)我们应该如何着手修复我们的密码字段呢？](https://github.com/dumb-password-rules/dumb-password-rules)

人们喜欢在 twitter 上抱怨密码的最大长度。。[时间](https://twitter.com/Nick_Craver/status/1024392301056024583)。在[栈溢出](https://stackoverflow.com/questions/98768/should-i-impose-a-maximum-length-on-passwords)上，人们甚至谈论没有理由限制密码长度，最大密码长度是一个安全警告。比他们的抱怨更糟糕的是，他们坚持认为密码最大长度的存在才是问题所在，而不是密码最大长度通常设置得很低(银行有时低至 6 个字符)。

密码的最大长度是一件好事。[长密码拒绝服务](https://www.acunetix.com/vulnerabilities/web/long-password-denial-of-service/)是存在的事情。你在服务器端使用的散列算法[可能有限制](https://security.stackexchange.com/questions/39849/does-bcrypt-have-a-maximum-password-length/39851#39851)。更重要的是，已知的最大密码长度允许您测试所有的密码字段。

最后一句话可能听起来有点奇怪，为什么你需要测试你的登录系统？为什么需要测试长密码？想想密码会被用到的地方。

显而易见的地方是登录屏幕。这些可以在你的网站上，在桌面应用程序或移动应用程序中。您知道这些地方是否都允许您键入(或粘贴)1000 个字符的密码吗？

你的注册页面呢，你需要在那里输入两次密码，以及其他信息。那些表单能处理 2000 个字符的密码吗？

和密码重置页面。现在您需要两次当前密码和新密码。可能需要输入 3000 个字符。

用户和密码存储之间的其他东西呢？Web 应用程序防火墙允许这么多数据吗？您的应用程序及其框架接受长密码吗？哈希算法如何处理更长的字符串？

最后，你的密码更改字段是否允许你输入比你的登录屏幕所允许的更长的密码，就像 Paypal 所做的那样？

如果您没有测试您的应用程序，以确保它可以处理设置为您允许的最大长度的密码，您就不能 100%确定该最大长度的密码将在您的系统中工作。如果你没有一个定义的最大长度，那么你不能测试它。

因此，您应该设置一个最大密码长度并进行测试。但是应该是多久呢？ [OWASP 认证备忘单](https://cheatsheetseries.owasp.org/cheatsheets/Authentication_Cheat_Sheet.html)提供了实施正确密码强度控制的建议。

实施适当的密码强度控制(节略)

*   强制要求最小长度为 8，以防止弱密码
*   **最大长度未设得太低**
*   **不要截断密码**
*   允许所有字符(包括 unicode 和空格)
*   轮换泄露的凭据
*   包括密码强度计
*   不允许常见的和以前被破解的密码

在设置密码的最大允许长度时，您需要记住建议中的两个要点；您为密码设置的限制，并且您不会截断用户输入。

最大密码长度的最小值应该足够大(至少 100)，这样任何使用密码管理器的人都不可能生成那么长的密码。

如果您将密码最大长度设置为 100 个字符，则每个密码字段应允许您键入至少 101 个字符。这意味着，如果用户使用密码管理器生成 200 个字符的密码，您的密码设置页面有机会通知用户他们输入了太多的字符，他们需要输入更少的字符。

因此，请出去为您正在处理的新项目设置一个密码最大长度，找出如何安全地将密码添加到您现有的系统中，如果您想了解如何安全地增加您可能已经拥有的低密码限制，请继续收听。