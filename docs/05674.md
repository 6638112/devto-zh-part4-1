# 为什么干净的代码不是规范？

> 原文:[https://dev . to/sandordargo/why-clean-code-is-not-the-norm-d2d](https://dev.to/sandordargo/why-clean-code-is-not-the-norm-d2d)

为什么#CleanCode 仍然是例外，而不是许多公司的规范？

在 [LinkedIn](https://www.linkedin.com/feed/update/urn:li:activity:6481563683385278464) 上发布了一个来自 [Marcus Biel](https://twitter.com/MarcusBiel) 的非常有趣的问题，他当时是 RedHat 的开发者体验总监。那一瞬间，我没有时间去深究这个话题，但几个月后我重读了答案。

## [](#its-them)是他们！

人们主要指着两个群体:

*   项目经理
*   初级开发人员

项目经理是有罪的，因为他们只想做一件事:将新功能和项目推出软件工厂。他们根本不关心干净的代码，他们甚至不理解什么是技术债务，如果没有更深的理解，“干净的代码”是昂贵的。

此外，“[新开发人员的数量每五年翻一番](http://blog.cleancoder.com/uncle-bob/2014/06/20/MyLawn.html)”，他们显然不知道如何以一种干净的方式编码，并且数学暗示着根本没有足够的高级开发人员来指导他们。

虽然这些都是事实，但他们只是简单地指责他人和环境。这些解释是幼稚的，因为它们缺乏自我责任感。

但我也发现了一些更有趣的答案。

## [](#its-us)是我们！

### [](#we-have-to-say-no)我们不得不说不

埃洛伊提到，在他看来，作为一名开发人员，有时候说不更好。或者至少温和地警告人们，如果他们继续这样，他们会开枪打自己的腿。我非常同意他的观点。不足为奇的是，作为一名开发人员，作为一名个人贡献者，缺乏说不的授权引发了一场对话。还是那句话，指责环境和他人更容易。

但正如埃洛伊和另一个人指出的那样，说不的方式不止一种。一种方式是，如果你觉得自己的专长不受欢迎，就干脆走开，跳槽去另一个项目。或者你可以更严厉一点，提醒你的管理层，如果他们不信任你，他们可以随时解雇你。如果你是一个经验丰富的开发人员，再找一份工作会有多难？这并不容易，但总比呆在一个不被重视和信任的职位上要好。

我非常喜欢这个子主题，因为它强调了个人的责任，培养了专业精神。在我看来，如果你是一个真正的专业人士，你必须能够说不。更重要的是，你有责任在你觉得合适的时候说不！我知道第一次很难。但是好的老板会重视。即使在某些情况下他会命令你走这条肮脏的路，他也会理解你的理由，不会因此而惩罚你。好吧，如果他不是一个好老板，也许他会很生气。我已经说过了。总是有其他的项目/公司可以为之工作。

### [](#clean-code-is-difficult)清理代码很难

谈到专业和困难，我喜欢的另一个回答是关于说#CleanCode 很难。因为它需要认真的努力(至少在开始的时候)和不接受最好的纪律。不在主流。我喜欢这个答案的一点是，它没有把责任丢掉。人们——我们——懒惰且无组织。人们——我们——倾向于走向阻力最小的方向，如果团队接受了平庸的表现，那么个人——我们——也只会表现出平庸的水平。

如果你想在更高的水平上不断表现，你必须建立一个框架，迫使你达到更高的标准。大多数人都在平均水平左右——毫不奇怪，根据定义这是事实。如果你能帮助别人提高就更好了，但是你要对自己负责。你必须。

我们必须[推动技术变革](http://sandordargo.com/blog/2018/02/28/setting-yourself-up-to-succeed)，也许羊群会跟着你。或者至少有几个。

## [](#lets-do-our-job)让我们做好自己的工作吧！

虽然许多项目经理甚至不理解技术债务或干净代码，但我不认为这是个问题。他们理解继承性、不变性或者不同类型的内存分配之间的区别吗？有些人肯定会，但许多人不会，这不是问题。我们做我们的工作，当我们不得不解释和回答问题的时候。

作为专业人士，当我们这样想的时候，我们必须争辩并说不。希望你被雇佣来尽你最大的努力，分享你的专业知识，而不仅仅是扮演一只编码猴子。看看叶戈尔·布加延科是如何鄙视他的理发师的，仅仅因为他什么也没做，只是想取悦他。

我发现很多人害怕表现得像专业人士。有时候是因为疏忽。他们根本不在乎。你还记得[办公场所](https://en.wikipedia.org/wiki/Office_Space)吗？[我会再赚一毛钱吗？](https://www.youtube.com/watch?v=_iiOEQOtBlQ)这是可以理解的，但这很可能意味着你不是真正的专业人士，或者你来错了地方。

有时，这是由于冒名顶替综合症，这是正常的。但是你必须挺过去。其他人用非常吸引人的文字描述了这一点。

有时候，不是疏忽，只是害怕和经验不足。学长要带路。必须表明你可以站出来支持自己的观点。有经验的人必须营造一个安全的环境，在这个环境中，你可以安全地发表自己的专业意见。有时，引入技术债务是可以接受的，但如果你一直觉得自己的意见没有得到尊重，债务不断增加，可能你必须靠边站。

虽然项目经理不理解我们所做的所有细节是可以理解的，他们甚至不在乎——为什么他们应该理解呢？-但把我们的观点翻译成他们的语言是我们的责任。它不是关于丑陋的变量名，vim 中混乱的缩进。它也不是关于类中的代码行或函数的圈复杂度。这仅仅是维护成本的问题。代码简单性:软件基础很好地解释了这一点。

这很难，我已经失败了很多次，并将失败很多次，但我们应该试一试，然后继续努力。我们有责任让管理层明白，如果他们一开始多花一点钱，从长远来看，他们会少花很多钱。当然是市场压力什么的。有时候更适用，有时候稍微少一点。但是他们喜欢他们的产品因为糟糕的代码而失败吗？如果这意味着损失数百万美元的收入和市值呢？如果这意味着数百条生命呢？

## [](#conclusion)结论

很难定义什么是干净的代码。但很可能就像是硬核色情。你无法真正定义它，但你看到它就知道了。很难恰当地描述干净的代码，但是如果你遇到干净的拉请求，你会带着满意的微笑认出它。

我们要记住的是，负责任的永远是我们自己。从来没有他们。我们必须提高我们的声音，我们必须解释和教育。为了以防万一，我们必须靠边站。这是通向更易维护和更可靠的代码库的唯一途径。你今天认为这是一种夸张，但明天你可能会明白，这可能是一个生死攸关的问题，而不仅仅是职业自豪感！

*这篇文章最初发表在我的[博客](http://sandordargo.com/blog/2019/08/28/why-clean-code-is-not-norm)上。如果你有兴趣接收我的最新文章，请[注册我的简讯](http://eepurl.com/gvcv1j)和[在 Twitter 上关注我](https://twitter.com/SandorDargo)。*