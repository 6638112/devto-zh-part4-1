# 路轨上的天堂和地狱

> 原文:[https://dev . to/溶质实验室/the-heaven and-hell of-ruby-on-rails-2fhc](https://dev.to/solutelabs/the-heaven-and-hell-of-ruby-on-rails-2fhc)

> 作为最成熟的框架之一，Ruby on Rails 在 2019 年仍然相关。从 Freshworks 到 Cookpad，这个星球上的顶级品牌都依靠它来运营他们的互联网业务。这篇文章旨在探索为什么 Ruby on Rails 是 2019 年特定产品的正确选择，以及在什么情况下你应该绝对避免它，以防止技术灾难和噩梦。

2019 年已经过去一半了，我非常兴奋地想把我的想法写在使用 Ruby on Rails 进行产品开发上。今年年初，很多人都在探索 Rails 是否已经死亡，而其他人则反驳说 Rails 仍然有需求。

作为一家 RoR 的产品开发公司，我已经使用这个框架为不同的领域开发了不同的产品，我相信我在 RoR 的卑微经历足以让无数人(创业公司老板、MVP 爱好者、成长中的产品公司等)受益。)在各种技术堆砌的泥潭中感到不知所措的人。

作为一名开发人员，我坚信作为一个社区，我们有责任向依赖我们专业知识的人提供正确的建议和路线图。

很久以前我就想写这篇文章了，但是唉，那些开发产品的人知道要找到放松的时间有多难。最后，我决定抽出一些时间来提出我关于在 2019 年使用 RoR 进行产品开发的一些想法。

开始了。

我见过客户来找我，既要从零开始开发产品，又要将现有产品发展/升级到新的高度。

> 对于这两种场景，我都看到他们被建议使用错误的堆栈(天知道出于什么原因，某项技术本来就不应该被使用)。它只会扰乱产品、它的成长，最重要的是扰乱用户体验。我见过有人失去付费客户，这肯定不是一个好地方。

Ruby on Rails 近年来已经成熟了很多，并将继续在技术生态系统中保持相关性。尽管人们转向了不同的框架，如 NodeJS、Django、JavaScript 等 **RoR 仍然是初创公司和 MVP 的首选，因为成本因素和上市时间**。此外，从下图中假设 NodeJS 框架的高使用率是不公平的，因为 NodeJS 也用于 RoR。

[![](../Images/687ae68eadd2b2c1fb9912dc04a5dc9e.png)T2】](https://res.cloudinary.com/practicaldev/image/fetch/s--wdErHoWC--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/j7zgqkc1qy9nnezfuc9m.png)

另外，我不依赖谷歌趋势，所以我查看了谷歌广告(关键词规划)——看看我发现了什么:)

[![](../Images/6228f24b6a3d6412ea444032360aee50.png)T2】](https://res.cloudinary.com/practicaldev/image/fetch/s--cVeMLGJr--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/vsspkgr071v9eh6c8hbu.png)

最近的 Github 研究提到，Ruby 仍然在十大编程语言之列。

[![](../Images/bd051b575998668382ab3141ae1f7ae7.png)T2】](https://res.cloudinary.com/practicaldev/image/fetch/s--Z0WcRHe4--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/iws7qu04v48g8w7exxf9.png)

* * *

## 2019 年使用 Ruby on Rails 进行产品开发的案例

Ruby on Rails 是早期创业公司 和科技公司 [**的三大选择之一。尤其是那些需要面向服务的架构的企业。这些公司还使用大量其他框架，如 Python、JavaScript 等。但是，**你会发现 Ruby 至关重要，因为上市速度是关键**。不一定专注于技术的大公司对 Java 和微软平台更感兴趣。**](https://www.toptal.com/ruby-on-rails/after-two-decades-of-programming-i-use-rails)

[![](../Images/0fb0f158019643db16490af4f5be0860.png)T2】](https://res.cloudinary.com/practicaldev/image/fetch/s--gtOSgChr--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/5ohmnvciln55ty78z1fg.png)

### [](#getting-your-product-out-the-door)把你的产品带出门

无论你是一个业余项目的新手开发者，还是全职通过网络应用解决问题的人，RoR 都是你在不到两天的时间内发布 MVP 的完美选择。

这些场景是独特的，因为-

*   这里有一个预算有限的人。
*   产品/想法需要快速验证。

在这里使用 Laravel 或 Django 之类的其他框架可能需要相当长的时间。例如，**脚手架在 RoR** 更简单。当您使用 Laravel 或 Django 时，事情可能会变得有点复杂。

人们一直在利用 RoR 在周末打造一个 MVP 并让它生效。类似于 Reddit 或黑客新闻的首页，具有线程评论、用户账户、帖子的算法流行度馈送(如 HN 首页或 Reddit)、协作地图等功能。

我强烈建议对需要服务器端呈现的 web 应用程序和关系数据库后端的产品使用 Rails。每当我们收到关于基于 CRUD 的 web 应用开发的询问时，没有哪个框架能胜过 Ruby on Rails。如果一个应用程序的工作 90%都是垃圾，那么 RoR 就是最佳选择。

### [](#getting-things-done)把事情做好

拿这个星球上的任何一个框架来说，你不会发现一个没有哲学的框架。RoR 旨在尽可能以最简单的方式完成工作。句号。这都是简单明了的代码。

下面是开发者对 RoR 的评价-
[![](../Images/0bc91a3754f3aeffbe1208e7ae51ba30.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--bTdrr_60--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/bbutvoezm9v6hb6l6e11.png)
[![](../Images/fbbaebe161cd14f1f9dc393d9a7ed222.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--_b6A0ZBW--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/klescx9nm07gp1g2wk5a.png)

**Ruby on Rails =约定优于配置**

这是什么意思？

作为一名程序员，不需要花时间配置文件来设置，Rails 附带了一套有助于加速开发过程的约定。

这使得开发人员更容易在创纪录的时间内构建一个健壮的(准系统)应用程序。

有些人可能会争论使用辛纳特拉或帕德里诺。但是，毫无疑问，我会选择 RoR，因为它的社区规模很大。作为一个 RoR 产品开发公司的老板，我仍然建议人们使用 rails-API 作为后端，并在 React 或 Angular 中内置一些独立的前端。

我的开发人员已经使用 Rust 进行 web 应用程序开发，我可以保证，就它所提供的功能而言，没有什么能胜过 Rails。(毫无疑问，RoR 有它自己的问题，我们稍后会谈到)。

### [](#designed-for-happiness)专为快乐而生

RoR 旨在使频繁的事情变得简单和省时。根据上面的公式，不需要在那里的东西会远离你的视线和头脑。您可能认为其他框架提供了更好的选择，但实际上，您只有几个可信的选择。有了 RoR，你将节省大量的时间和繁琐的工作，做研究和实施的东西你的方式。

有了 Rails，一切都变得轻而易举。

开始一个新项目，文件夹结构，电子邮件，缓存，数据库交互，测试，连接 CSS/JS，模板，登录系统，权限系统，文件上传，防止滥用，你能想到的，RoR 都有。

所有这些都有完整的记录。

一位开发伙伴正确地指出了这一点

> 这看起来像是一个可以利用的强大的内聚工具，而不是一些超级模块化插件的集合，因为每个插件都是由某个随机的家伙制造的，所以工作起来都不一样。当你确实需要一些插件时，你输入一个命令，它就被安装/准备好了，而且它“正好适合”所有其他东西的流程。

### [](#more-productivity-less-bullshit)多一些生产力，少一些废话

如果你和 Django 一起工作过，你会知道我在说什么(我不是在夸夸其谈这个框架，只是比较一下在 RoR 工作的感觉)。

你不需要列出 50 个步骤来将代码行复制到 10 个不同的地方。而且，不要再花费无数的时间去排除某个特定的东西不能正常工作的原因。或者就此而言，即使你实现的一切都是正确的，为什么还是会出现错误。

RubyGems 被数百万人使用，并得到越来越多的天才社区的支持。他们的理念是给开发者带来笑容。这是他们工作的目的。

## 2019 年 RoR 基础网页开发。探索机会。

将其用于中小型应用。编码更快，你会很快到达你的目标市场。在 ActiveRecord 中编写查询很容易。

有些人可能不同意这种说法，认为也可以使用 Ecto。然而，它被过度设计了。查询、更新、交易，一切都是生产力杀手。对于 99.9%的网络应用程序来说，它足够快，CPU 大部分时间都处于空闲状态。

如果你刚开始进入电子商务领域，有一些像 Spree 和 Solidus 这样的 RoR 开源框架。

你甚至可以尝试用它来建立社交网络。Social_Stream 是一个开发面向表现的网站的引擎。

炼油厂 CMS 是一个 RoR 供电的内容管理系统。迄今为止，它的下载量已超过 55 万次。跨运输、教育、营销等领域的公司。用它来增强他们的在线状态。点击了解更多关于使用 CMS [的信息。](https://www.sitepoint.com/working-with-refinery/)

有没有优步换 X 的想法？你可以用 RoR 来发展你的 MVP，甚至扩大它。Instacart 就是一个很好的例子。Brandon Leonardo 和他的联合创始人使用 Rails 框架构建了 iOS 版本的初始前端。字典服务器 Redis 用于提供图像，并确保代码是干净的。

[![](../Images/ad23b61335a6f615e52e19a6625858e8.png)T2】](https://res.cloudinary.com/practicaldev/image/fetch/s--1WB2z-O7--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/lfozswwx9rbl4egaib19.jpeg)

Backbone.js 被用来建立一个单页网站，它被称为[后端 API](https://stackshare.io/posts/the-tech-behind-instacarts-grocery-delivery-service)。因此，当 Android 版本和消费者移动 web 应用程序推出时，通过调用原始 API 实现了跨平台的一致性。没有必要为每一个都重写代码。

RoR 更倾向于成为网站的后端，即连接数据库和网页 HTML 的后端。在这些场景中，速度更多地取决于浏览器、数据库引擎和与 RoR 的连接。

另外，如果我想从头开始创建 API，Rails 是我的选择。

### [](#ror-can-scale)RoR 能秤

对于那些怀疑 RoR 是否能扩展的人，它肯定能。问题是，如果你没有意识到技术细节，也没有足够的经验，这可能会产生债务和规模问题。

> 好的 ruby 有刻度，坏的 ruby 没有——两者都存在。

Rails 已经在非常成功的公司中使用，每分钟处理 4 万个请求。

Shopify 是另一个例子。

> ![DHH profile image](../Images/6a8b92a001ba3bd0d023062c0c039b9e.png)@ dhh![twitter logo](../Images/65e26e35707d96169ec8af6b3cbf2003.png)Shopify @ Rails 上每秒 8 万个请求。最老的一个(Rails 0.5- > 5.1！！)应用也是如此。五十万 loc。太神奇了。👏👏[twitter.com/sirupsen/statu…](https://t.co/60GSwusb8L)80K RPS 峰值。https://t.co/5kvseq99FO[![Twitter reply action](../Images/5d5a32424597af8488f7190c7d7d496b.png)](https://twitter.com/intent/tweet?in_reply_to=885776244532551680)[![Twitter retweet action](../Images/3d12d4a909b79beaf8d81b6491fd052d.png)](https://twitter.com/intent/retweet?tweet_id=885776244532551680)[![Twitter like action](../Images/3f89df2f36e8e5624d2a25952b3ac8b8.png)](https://twitter.com/intent/like?tweet_id=885776244532551680)

## 当使用 Ruby on Rails 进行 Web 应用程序开发成为严格的禁忌时。

当我们谈论并发和性能时，您希望避免全面的、自行开发的噩梦。对于这些情况，Rails 和 Django 都是不可取的。如果它是一个非常大的应用程序，你必须扩展它，探索类似 Phoenix 的东西。

有些人可能会提到这篇文章，但我想说的是，性能仍然是一个问题。当你需要两者兼得时，我通常建议人们避开 RoR。

在恶意软件字节，他们使用 Go 每分钟处理数百万个请求。他们从 RoR 转移过来。在这里，利用多线程、并行化、快速执行和少量内存开销非常重要。点击此处阅读案例。

当你在考虑异步任务并希望它快速运行时，考虑一下 Phoenix + Elixir。

速度绝对不是 RoR 的强项。如果你期望有数百万的用户和一个高流量的网站，寻找一些其他的框架。

我见过 RoR 过度使用一种产品。我的建议是——寻找现有的解决方案，并在此基础上构建。不是每个 web 应用程序都需要 Rails。另一种情况是，当你想在你的产品中使用先进的人工智能/人工智能技术时，选择 Python 而不是 RoR。

此外，对于像建立一个博客这样非常简单的要求，RoR 是你永远不应该碰的东西。当时间不再是你的限制时，寻找其他的选择。

## [](#dont-choose-a-framework-blindly)不要盲目选择框架

仅仅因为一个新的框架是趋势或者一个科技巨头已经认可了它，这并不意味着它是你下一个数字产品的完美选择。观察生态系统，与其他企业家交谈，与开发者进行详细的讨论和探索会议，看看什么是最合适的。答案将取决于你的业务，它的目标，你所在的市场，最重要的是你的用户想要什么。

如果你对框架感到满意，并且喜欢用它来构建东西，那就去用它吧。我将以我在 YouTube 上看到的一个非常好的视频来结束这篇文章——我应该使用 Ruby on Rails -
[https://www.youtube.com/embed/5PCF6Mijshw](https://www.youtube.com/embed/5PCF6Mijshw)

我邀请你来讨论一下什么样的框架对你有效，RoR 什么时候对你有效，有没有让你做噩梦…这将帮助其他人从我们的经验中学习。

感谢阅读！