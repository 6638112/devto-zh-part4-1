# 向管理层解释代码质量:技术债务隐喻

> 原文：<https://dev.to/bhekanik/explaining-code-quality-to-management-the-technical-debt-metaphor-518>

管理内部代码质量是生产成本有效、及时和高质量软件的一个日益重要的方面。但是通常很难向非技术人员解释这种内部代码质量，不幸的是，就编码而言，管理层通常由非技术人员组成。技术债务隐喻是可以用来澄清这一点的一种方式。在这篇文章中，我将定义外部和内部质量，然后谈论技术债务，它的定义以及它如何被用作与非技术业务人员讨论质量的隐喻。

也就是说，如果你来这里只是为了一个定义，这就是:

> 一个术语，用来描述软件组织在选择一种设计或构造方法时所承担的义务，这种方法在短期内是有利的，但从长期来看会增加复杂性和成本。这是一个隐喻，它促进了业务人员和技术人员之间关于实现缺陷和它们所带来的风险的交流。

### TL；速度三角形定位法(dead reckoning)

软件系统容易在内部质量上积累缺陷，这使得修改和扩展软件比理想情况下更加困难。在匆忙交付特性的过程中(通常是由于来自管理层的时间压力)，开发人员有时会从事非最佳的编码实践。如果不加以解决，这些捷径最终会产生返工成本，抵消快速交付的好处。

技术债务是一个由沃德·坎宁安创造的隐喻，它通过用与金融债务相同的方式来思考如何处理这个问题。为没有做好的代码添加新特性所付出的额外努力就是债务的利息。修复代码的时间越长，扩展或维护代码的时间就越长，技术债务的利息就越高。走捷径在短期内加速特性的交付会招致技术债务，类似于金融债务，必须在以后偿还以优化长期成功。

### 我们来分解一下

首先要明白的是，技术债是和软件的质量联系在一起的，所以在讲太远之前，我们先稍微讲一下质量。

质量有两种类型；外在质量和内在质量。外部质量是用户或客户可以感知的质量——可能是性能、安全性、可伸缩性、稳定性、响应性等。任何可以被用户测量或体验到的东西。因为它是产品的一个特性，通常由产品所有者或业务人员来管理，他们可以很容易地将这个特性和用户对软件的反应联系起来。

软件开发更复杂的部分是还有内部质量。内部质量只能由能够理解代码的开发人员或技术人员来感知。它是使维护或扩展代码更容易或更难的任何东西。例子可能是测试的存在或缺乏——如果有更多的测试，那么代码更容易改变，这可能是关于使用的架构风格，也可能是关于编码问题——代码是否太复杂。软件开发人员经常谈论高质量的代码和好的代码，但是对于非技术人员来说，这一点的价值并不总是显而易见的，如果他们并不总是清楚为什么我们应该在软件已经工作的情况下投资于代码质量的话。这就是技术债务隐喻的由来。

不严格地说，技术债务是用来描述不太正确的代码。我们用这个债务的比喻来与金融债务进行比较，这样更多的人能够更容易理解。这有助于解释，如果我们想在不太正确的代码上构建一些东西，随着时间的推移，扩展这种代码会变得昂贵，如果代码库质量不好，构建新功能会花费更长的时间。

这个术语是由《敏捷宣言》的作者之一沃德·坎宁安创造的。他说代码的一些问题就像金融债务。以未来为抵押借款是可以的，只要你还清就行。1992 年，在 OOPSLA 会议上，他说了以下著名的话(稍微转述一下):

> 首次发布代码就像负债累累。一点点债务可以加速开发，只要它能通过重构迅速得到回报。当债务没有偿还时，危险就发生了。花在不太适合当前编程任务的代码上的每一分钟都算作债务的利息。在未分解的实现(面向对象或其他)的债务负担下，整个工程组织可能会停滞不前。

这基本上是说，技术债务是关于快速运输一些东西，从而负债，你需要通过提高质量来偿还债务。如果你不这样做，那么你将需要支付越来越高的利率，因为你的生产力下降了，你的发展也慢了。有趣的是你以后会花更多的时间来重构代码，而不是现在。沃德在这里对此解释得更清楚:

> 用借来的钱，你可以比不借钱的时候更快地做某事，但在你还这笔钱之前，你都要支付利息。我认为借钱是个好主意。我认为将软件推出市场以获得一些经验是一个好主意。但是，当然，你最终会回去，当你学习了关于那个软件的东西，你会通过重构程序来偿还贷款，以反映你获得它的经验。

这是与管理层交谈的一个很好的比喻，因为他们应该熟悉金融术语，用这些术语与他们交谈更容易，并告诉他们这就像在银行贷款一样，你在一段时间内获得一些利益，但在某个时候你需要偿还它，你偿还它的利息，你偿还的时间越长，利息越高。

然而，沃德明确表示，技术债务并不是说你应该写糟糕的代码，并期望你以后会把它做好，写糟糕的代码从来都不是一件好事。这个想法是，你可以编写反映你当时对问题的理解的代码，即使这种理解是片面的。因此，当重构的时候，你清楚地知道你在想什么，然后你可以用你的新理解来调整它，花在重新调整代码上的时间就是债务的利息。

史蒂夫·麦康奈尔(Steve McConnell)给出了一个不同的定义，或许很多人都很熟悉。他说技术债务是:

> 一种设计或施工方法，在短期内是有利的，但它创造了一种技术环境，在这种环境中，同样的工作以后的成本将高于现在的成本(包括随着时间的推移成本的增加)。

简而言之，这意味着做一些快速和肮脏的事情，我们在短期内获得了一些东西，但知道它将在长期内咬我们。在快速发布新的软件特性以满足用户的愿望和实践可靠的软件工程以减少返工并提高维护和扩展效率的愿望之间，需要一种微妙的平衡。这一点尤其正确，因为内在质量迟早会变成外在质量，这是沟通的重要内容。例如，如果我们有一个糟糕的代码库，我们会得到越来越多的 bug，我们会变慢，这最终会影响到项目的所有利益相关者。

归根结底，技术债务不是开发者的问题，而是公司的问题。如果你积累了太多的技术债务，在最坏的情况下，整个工程部门可能会陷入停顿。可以说管理技术债务是成功开发商业软件的关键点之一。希望这篇短文已经阐明了你对技术债务的理解，并且在你下次试图解释为什么你需要修复代码而不是开发新特性时，它会帮助你。

在下一篇文章中，我将谈论技术债务是否完全是坏的，以及如何处理它。留意那个人。