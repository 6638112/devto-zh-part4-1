# 让我们滥用 if 语句！

> 原文：<https://dev.to/mbjelac/lets-abuse-the-if-statement-20m3>

一些背景(最终对主旨来说是不必要的，但我必须发泄):

今天是那些早晨中的一个...我随便看了一下我昨天评论过的一个拉取请求。我的评论被一个可疑的解释反驳，拉请求被合并。

我对这段代码做了评论:

```
if (someThing) {
    doStuff();
} else if (someOtherThing && yetAnotherThing) {
    doStuff();
} 
```

不，不是打字错误——两个执行单元有相同的代码行。

我的评论只是提议的改进的一段代码:

```
if (
    someThing ||
    (someOtherThing && yetAnotherThing)
) {
    doStuff();
} 
```

这相当于。

表达式块中的换行符是故意的，因为第二个 OR 成员有点长。我甚至在它周围添加了括号，尽管操作符优先级使它们变得多余。

作者对我的提议的反驳是,`if-else-if`形式可读性更强，所以他会坚持使用那种形式。

可读性更强？

## *真的吗？*

以下是我阅读这段代码时的思考过程:

> 好的，记住我们现在在这个执行分支中
> 
> 好的，我们正在做一些事情
> 
> 哦，糟糕，这必须简化
> 
> 啊，我将跳过这个表达式，稍后再来看，让我们看看这个块中有什么
> 
> `doStuff();`...等等，我们再读一遍
> 
> 看起来像是...以前的`if`块？让我们再看看*那个*一个*一个*
> 
> `doStuff();`那是...同样的方法调用？

## 很初级！

然后我停下来思考一些事情。现在我处于夏洛克·福尔摩斯模式。这是一个难题。一个谜。作者的代码实际上是*代码*，作为 in - encrypted 信息。

我浪费时间去弄清楚这实际上是*的一种模式*。作者用`if-else-if`代替`if-A-or-B`。哇，我想通了！多酷啊！如此简单的语法可以被如此创造性地使用，真是太可爱了。

然后我记得我们不是在玩谁能写出更聪明的代码的游戏。我们在团队中为金钱开发软件。我们不止一个人。这意味着编写代码时必须考虑到可读性。

## 不要为小事烦恼

你可能会说差别很小，这是吹毛求疵。

我不同意。

如此反直觉地使用它，以至于只有作者(他已经习惯了)才能理解它，这是非常有害的。

实际上，作者正在为公司产生一个累积成本。每当有人(除了作者)使用该代码时，他们会:

*   花更多的时间去理解它
*   有更大的机会*误解*它并给代码添加错误

我同意有一些编码模式/惯例/习惯是无关紧要的，但这不是其中之一。

这一个显然是坏的。不惜一切代价避免！(没有成本，避开就好。)