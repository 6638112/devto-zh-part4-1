# NextJS vs GatsbyJS -有什么区别？

> 原文:[https://dev . to/Michael Friedman/nextjs-vs-gatsbyjs-what-s-the-diff-47i 2](https://dev.to/michaelfriedman/nextjs-vs-gatsbyjs-what-s-the-diff-47i2)

首先，感谢您抽出时间！如果你对 Next.js 和 JAMStack 感兴趣，我有一份每周简讯，在那里我分享了我最近在这个主题上所学到的最好的东西。我甚至会钻研一些其他的东西，比如我正在读的东西和即将发生的事情。现在注册是完全免费的，所以如果你感兴趣，你可以在 [michaels.blog](https://michaels.blog) 注册

在我的[上一篇文章](https://michaels.blog/posts/whats-got-my-attention-in-2019)中，我提到了这些框架的一些关键特性。今天我想做一个完整的评估，并讨论两者之间的一些本质区别和细微差别。首先，我想说这不是一篇关于 React 框架是最好的观点文章。虽然这两种框架有时可以用来达到相同的目标，但它们擅长于非常不同的事情，并且具有与它们的实现相关联的不同成本。我使用 NextJS 的经验也更加深入，所以我可以提供更多的见解。我打算提供一些背景，以便在您设计下一个堆栈时做出更明智的决策。我相信在这两个框架之间，你可以实现任何用户故事。

## [](#nextjs)连锁超市

### [](#what-is-it)什么事？

js 是一个 React 框架，只需要很少的样板文件来配置。它最重要的卖点是它提供的现成的服务器端渲染(SSR)。NextJS 由 Zeit 开发，这是一个基于 AWS Lambda 构建的完整的无服务器生态系统。NextJS 利用无服务器技术，以快速、可靠和经济的方式为您的应用程序页面提供服务。

### [](#serverside-rendering)服务器端渲染

服务器端渲染是一个独立的主题，但是我要说的是，它对于几乎任何在互联网上被发现是至关重要的项目都是必不可少的。如果有选择的话，初创公司和科技巨头通常都会选择 SSR。这是因为单页(SPA)与 SSR 应用程序的搜索引擎索引结果存在巨大差异。

你用过 Create React App (CRA)吗？如果你是 React 开发者，我猜答案是肯定的。您是否曾经检查过页面源代码，只看到您的应用程序所基于的单个 div 元素？这时，您通常会使用 React Dev 工具扩展来探索您的应用程序标记。不幸的是，谷歌不知道如何用 React Dev 工具抓取你的应用程序(虽然希望有一天)。

这就只剩下元数据让搜索引擎去辨别什么样的内容被发送了。虽然这种 SPA 方法很方便，但对于搜索引擎优化(SEO)来说却不那么有效。一个站点加载已经填充了大量相关内容和标记的页面具有显著的优势。

### [](#dynamic-clientside-routing)动态客户端路由

使用 Next.js，我们用节点服务呈现标记，并将其返回给客户端。这样做有很多好处，我们到目前为止讨论的最大好处是 SEO，但是正确实现的 SSR 应用程序也有巨大的性能好处。允许一个服务器(或函数)来呈现你的项目，把最麻烦的工作从客户端拿走，这几乎总是让事情变得更快。Next.js 抽象了代码分割的过程，在您的包中尽可能地发掘更多的性能。这些都是在引擎盖下处理的，有一些非常合理的默认值，允许轻松定制。

### [](#dynamic-api-routing)动态 API 路由

我最喜欢 Next.js 的一点是它如何基于应用程序文件结构处理动态客户端路由。即使对不熟悉的人来说，这也是非常直观的。为路由这样的应用程序滚动代理不是一件容易的事情，Next 为我们处理了所有这些工作。

这个 API 的有效性极大地受益于 React 钩子的发布。现在，NextJS 为我们提供了一个`useRouter`钩子，它让我们的客户端路由更加干净，因为每次我们想要改变客户端路由时，它不会强迫我们将组件嵌套在一个更高阶的路由组件中。

从这个最新的主要版本(下一个 9.0)开始，我们可以在后端使用与 NextJS 中客户端路由相同的方法。只需将`mkdir api`放在项目的`pages`目录中，Next 将构建您的 API 路由以匹配文件夹和文件结构，就像它在客户端上做的一样。这使得漂亮的 URL 和动态页面生成比以往任何时候都更容易。

### [](#typescript-support)支持打字稿

NextJS 将自动支持项目中的 TypeScript 文件。同样重要的是，这个框架完全用 TypeScript 重写，这对社区来说是一笔巨大的财富。现在，只需用扩展名`.ts`或`.tsx`命名文件，您就可以推断出安全性的重要性。

### [](#under-the-hood)引擎盖下

作为 JavaScript 生态系统中发展最快的框架之一，NextJS 最近开始得到 Google Chrome 团队中非常有才华的成员的支持，他们现在正与 Zeit 和 NextJS 核心团队积极合作，以进一步提高性能。我认为这在某种程度上证明了谷歌对 NextJS 未来的坚定信念，这无疑在我构建一个项目并考虑使用这个框架时给了我信心。

### [](#static-vs-dynamic)静态与动态

js 没有将动态服务器端呈现和静态站点生成的选择一分为二。一般来说，它可以应用于比 Gatsby 更多的用例。

### [](#clientside-routing)客户端路由

Next.js 使用一个`<Link>`高阶组件将锚元素与附加功能包装在一起，比如`prefetch` prop，它使用一个交集观察器在客户端实际请求之前异步获取链接页面的数据。尽管如此，与当前页面上正在执行的效果相比，它对优先级较低的队列中的这些请求进行处理，因此不存在对网络资源的竞争。

### [](#data)数据

Next.js 也非常雄辩地与 AWS Amplify 配对。Amplify 将使用 AWS Cognito 身份池为您处理身份验证，并自动为您的后端生成一个 GraphQL API，并使用 AWS Lambda、API Gateway、Dynamo DB 和 CloudFormation 提供它。如果所有这些对你来说都是陌生的，请放心，这就是 Amplify 的魅力所在；它处理所有的基础设施，以便您可以专注于您的 API。这就是无服务器和现代开发的意义所在。

## [](#gatsby)盖茨比

将 Gatsby 归类为静态站点生成器并就此罢休是不公平的。它的行为更像一个全功能的动态反应应用程序，而不是其他任何东西。

没有额外的配置，Gatsby 不适合处理动态数据的应用程序。它为您的页面预先构建了所有的 HTML，并链接了一个 JavaScript 文件，这就是您的 React 应用程序。任何动态更新都需要重新构建应用程序。Gatsby 的理想用例是没有任何变化数据的项目。它非常适合登录页面、营销页面和文档。我将添加可以有效地从缓存运行的简单电子商务(小型电子商务)站点。

虽然你实际上可以用盖茨比构建任何东西，但这并不意味着你应该这样做。这一切都是关于为工作选择正确的工具，我坚信你应该使用 Gatsby 做它最擅长的事情，比如我发表这篇文章的博客这样的静态网站，或者 OSS 的文档和其他主要依赖于缓存内容的用例。不要试图把它变成它不是的东西；静态网站从来就不是用来传递动态内容的。

Gatsby 所做的最伟大的事情之一是天才开发人员的社区，他们构建了大量巧妙的插件、主题和启动器来帮助快速迭代。然而，《盖茨比》的文档对这两个框架做了一些比较和对比，我认为他们的图表是误导性的，更受市场驱动，而不是基于事实——所以希望这有助于阐明这个主题。