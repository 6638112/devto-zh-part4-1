# 为什么要重构代码？

> 原文：<https://dev.to/jamesmh/why-should-you-refactor-your-code-53fd>

重构只是一个花哨的术语，意思是在不改变代码行为的情况下改进代码。

让我们来看看为什么您应该学习何时以及如何有效地重构的一些原因。

注意:这是我的书[重构类型脚本:保持你的代码健康的摘录。](https://leanpub.com/refactoringtypescript)T3】

# 发育缓慢？

有没有在一个软件系统中工作过，你的业务要求你构建一个新的特性——但是一旦你开始深入研究现有的代码，你就会发现实现起来并不容易？

很多时候，这是因为我们现有的代码不够灵活，不足以处理企业希望包含在您的应用程序中的新行为。

为什么？

嗯，有时候我们会走捷径，黑进去一些东西。

也许我们没有知识和技能来知道如何编写健康的代码？

其他时候，时间表需要以引入这些捷径为代价来满足。

这就是重构如此重要的原因:

重构可以帮助你当前受限的代码变得灵活，并且能够/容易再次扩展。

它就像一个花园。有时候你只需要除掉杂草就行了！

> 我曾经在一个软件项目中，考虑到当时的系统设置，在屏幕上添加复选框是不可能的！在屏幕上添加一个按钮花了好几天才想出来！这是我作为一名资深开发人员的经历。可悲的是，有些系统非常复杂，而且是一起破解的。
> 
> 这就是我们没有保持代码健康的后果！

# 存钱

现实情况是，你需要在截止日期前完成任务，并向客户提供一个功能正常的产品。这可能意味着必须根据具体情况不时地走捷径。毕竟，为你的客户带来价值才是为你的公司赚钱的。

然而，从长远来看，这些“快速修复”或快捷方式会导致代码僵化、难以理解、更容易包含错误等。

提高代码质量并保持高质量会导致:

*   更少的错误
*   能够更快地添加新功能
*   能够隔离对现有代码的更改
*   更容易推理的代码

所有这些好处导致花费在调试、修复问题、开发人员试图理解代码如何工作等方面的时间减少。

它为你的公司节省了一大笔钱！

## 暂且不说；海豹突击队得到它了

有一句来自海豹突击队队员海军的格言，很多人注意到它也适用于软件开发:

> 慢就是顺。平稳就是快速。

从长远来看，花时间提前构建高质量的代码将有助于您的公司更快地发展。但即使这样，我们也不能预见到未来对代码的所有更改，仍然需要不时地进行重构。

# 做工匠

软件开发是我们社会的重要组成部分。

开发人员构建代码来控制:

*   车辆
*   电力网
*   政府机密
*   家庭安全
*   武器
*   银行账户
*   等等。

我相信您可以想到更多的例子，在这些例子中，开发人员创建的软件与个人或一群人的安全和幸福息息相关。

你会希望你的医生在没有仔细确保他/她知道你的身体状况的情况下随意给你开药吗？

难道你不想有一个花时间来确保你的汽车轮胎不会在你开车时脱落的汽车修理工吗？

成为一名工匠只是另一种方式来说，我们应该专业，关心我们的手艺。

我们应该重视能按预期工作的高质量软件！

> 我以前也遇到过这种情况，我的车的轴被更换了，当我开车离开的时候，新的轴从我的车里掉了出来！我能把我的生意托付给这样的技工吗？没有。
> 
> 同样，我们构建的软件质量可以直接影响人们的生活。

# 案例研究#1

你可能熟悉 2018 年的一个事件，一架波音 737 飞机坠毁，机上所有人遇难。

人们发现，波音公司将其软件开发外包给了在这一特定行业没有经验的开发人员:

> 这家标志性的美国飞机制造商及其分包商越来越依赖时薪仅为 9 美元的临时工来开发和测试软件，这些临时工通常来自缺乏深厚航空航天背景的国家。

此外，这些开发人员不得不一遍又一遍地重复编写不正确的代码:

> HCL 的编码员通常是按照波音公司设定的规格进行设计的。尽管如此，“这是有争议的，因为它远不如波音工程师只写代码的效率，”拉宾说。他回忆说，经常是“因为代码没有正确完成，所以来回走了很多圈。”

一位前波音软件工程师说:

> 令我震惊的是，在一个坐满了数百名高级工程师的房间里，我们被告知不需要我们。

虽然我对来自特定国家的软件开发人员没有意见，但当一群开发人员缺乏在如此关键的系统中构建高质量软件的知识或工具时，我确实很担心。

对于波音公司来说，这种整体质量和工艺的缺乏导致了什么？

该公司的股票在崩盘后的几天内大幅下跌。

哦，别忘了- **有人死了。没有人能撤销或修复这一点。**

毕竟，波音公司并没有从削减成本中受益，他们试图加快软件开发，专注于速度而不是质量。

作为软件开发专业人员，我们应该努力做好自己的工作，重视成为专注于创建高质量软件的软件工匠和手工艺人。

# 案例研究#2

你仍然认为因为飞机可能会杀死人，所以软件会有质量吗？没有。

这里是航空领域软件质量问题的另一个例子:[“每 149 小时关闭并再次打开”解决了价值 3 亿美元的空客软件 bug。](https://gizmodo.com/turn-it-off-and-on-again-every-149-hours-is-a-concernin-1836818094)

声音有点像内存泄漏？你知道，当你有一个网络应用程序在打开一段时间后开始变得缓慢和笨拙。只需刷新页面，然后*瞧*！一切又好了！

可悲的是，我们也在制造这样的飞机...

引用文章:

> 没有对某些型号的空客 A350 进行软件更新的航空公司被告知，他们必须每 149 小时对飞机进行一次完全的电源循环，否则将面临风险”...一些航空电子系统或功能的部分或全部损失，”根据 EASA。

你想乘坐那些飞机吗？

质量很重要。事实是，许多开发人员正在**而不是**编写高质量的软件。

# 如何保持你的代码健康

这篇文章摘自 [Refactoring TypeScript](https://leanpub.com/refactoringtypescript) ，它被设计成一个可接近的实用工具，帮助开发人员更好地构建高质量的软件。

 [![Refactoring TypeScript book](img/bb2443ec83d34d0e663e4039889eda26.png)
T4】](https://leanpub.com/refactoringtypescript)

# 保持联系

不要忘记通过以下方式与我联系:

*   [推特](https://twitter.com/jamesmh_dev)
*   [LinkedIn](https://www.linkedin.com/in/jamesmhickey/)

# 浏览您的软件开发职业简讯

一封电子邮件简讯，将帮助您提升软件开发人员的职业水平！有没有想过:

✔:软件开发人员的一般阶段是什么？✔:我怎么知道自己处于哪个阶段？我如何进入下一阶段？
✔什么是技术领导者，我如何成为一名技术领导者？✔，有人愿意和我一起走走，回答我的问题吗？

听起来有趣吗？加入社区吧！