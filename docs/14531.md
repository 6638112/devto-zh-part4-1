# 如何配置 Django 设置:最佳实践

> 原文：<https://dev.to/django_stars/configuring-django-settings-best-practices-2hb0>

本文面向使用 Django 框架的工程师。它深入分析了配置 Django 项目设置，以及不同方法的优缺点。在本文中，您还可以找到关于工具、最佳实践和架构解决方案的建议，所有这些都经过了成功项目的时间考验和证明。

## 管理 Django 设置:问题

**环境不同。**通常，你有几个环境:本地、开发、ci、qa、试运行、生产等。每个环境都可以有自己的特定设置(例如:`DEBUG = True`、更详细的日志记录、附加应用程序、一些模拟数据等)。您需要一种允许您保留所有这些 Django 设置配置的方法。

**敏感数据。**你在每个 Django 项目中都有`SECRET_KEY`。在此之上，可以有用于第三方 API(如 Amazon 或 Twitter)的 DB 密码和令牌。这些数据不能存储在 VCS。

**团队成员之间共享设置。**使用设置时，您需要一种通用方法来消除人为错误。例如，开发人员可能添加了第三方应用程序或一些 API 集成，但未能添加特定设置。在大型(甚至中型)项目中，这可能会导致真正的问题。

Django 设置是一个 Python 代码。这是祸也是福。它给了你很大的灵活性，但也是一个问题——settings . py 可能有一个非常复杂的逻辑，而不是键值对。

## 设置配置:不同的方法

如果不进行硬编码，就没有内置的通用方法来配置 Django 设置。但是书籍、开源和工作项目提供了很多关于如何做到最好的建议和方法。让我们简单看一下最受欢迎的几个来考察它们的优缺点。

### 设置 _local.py

这是最古老的方法。我第一次在生产服务器上配置 Django 项目时使用了它。以前我看到很多人用它，现在我仍然看到它。

这种方法的基本思想是扩展`settings_local.py`文件中所有特定于环境的设置，VCS 忽略了这一点。这里有一个例子:

`settings.py`文件: