# 在目录堆栈中推进和弹出

> 原文：<https://dev.to/grepliz/push-pop-your-way-through-the-directory-stack-2of9>

如果您是命令行用户，毫无疑问您对`cd`命令很熟悉。如果没有，它只是一种在文件系统中上下导航目录树的方法。除了使用`cd`命令，还可以使用内置目录栈。

我如何使用你所说的这个目录堆栈？？？

很简单！让我们首先打开您的终端，用`dirs`命令查看堆栈。
`$ dirs`
T2】

如您所见，堆栈当前包含一个目录，在本例中是主目录的简写。

现在不用`cd` ing 到另一个目录，而是使用`pushd` :

`$ pushd alpha`
`~/alpha ~`

很像`cd`命令，`pushd`改变了你当前在*的目录，但是*也把目录推到了目录堆栈上。

让我们在栈上推另一个目录。

`$ pushd ~/beta`
T1】

另一个。

`$ pushd ~/gamma`
T1】

如你所见，新值被插入到列表的前面，这是堆栈的顶部。通过跟踪你去过的目录，栈也可以像书签一样供你参考。

如果您更喜欢在更传统的自顶向下视图中查看堆栈，请使用带有`dirs`命令的`-p`标志:

`$ dirs -p`
`~/gamma`
`~/beta`
`~/alpha`
T4】

我知道你在想什么？

好的，莉兹。这很好，但是这和仅仅使用`cd`命令有什么不同呢？

现在你已经有了你去过的地方的记录，你可以从栈中弹出目录了。

`$ popd`
T1】

现在你回到了`beta`目录，你可以使用`popd`一路向下导航到你原来的主目录。

也许你现在在想，*“如果我想从`gamma`目录转到`alpha`目录呢？”*

好，让我们后退一分钟，将`gamma`目录推回到堆栈中。

`$pushd ~/gamma`
`~/gamma ~/beta ~/alpha ~`

目录堆栈中的每个目录都有一个与之相关联的索引。您可以使用`-v`标志查看:
`$ dirs -v`
`0 ~/gamma`
`1 ~/beta`
`2 ~/alpha`
`3 ~`

您也可以使用`+N`标志直接访问目录名。
为例，要访问目录栈的`2`索引中有什么，执行:
`$ dirs +2`
`~/alpha`

这将回显目录名，但不会导航到那里。你可以这样按索引弹出目录:
`$ popd +2`

这将从堆栈中删除`alpha`目录，并改变您当前的工作目录。

不幸的是，如果你在 Mac 或 Windows 上使用 Git Bash 之类的东西，这似乎是坏的。在这种情况下，我们可以使用我们的老朋友`cd`。

`$ cd $(dirs -l +2)`

总之，`pushd`、`popd`和`dirs`命令是对您工具箱的巨大补充。我发现，如果路径很长，并且子目录嵌套很深，那么它们就特别有用。如果你发现自己总是走相同的路，试试这些命令。