# 为什么您应该考虑从 AngularJS 迁移到 Vue

> 原文：<https://dev.to/thisdotmedia/why-you-should-consider-migrating-from-angularjs-to-vue-49hj>

今年，React、Angular 和 Vue 的受欢迎程度和使用量都拒绝放缓。我们看到这些框架和库在前端和后端 JavaScript 社区中持续不断地被采用和使用。

由于 AngularJS 面临着不确定的未来，许多团队正在寻找当前热门话题的答案:如果您正在使用 AngularJS，您是继续维护您的 AngularJS 应用程序还是将您的应用程序迁移到另一个框架？这不是一个容易(或便宜)回答的问题。

在本文中，我们将介绍一些您应该考虑迁移 AngularJS 应用程序的原因，以及一些关于如何为成功的迁移进行规划和预算的想法。

## Angular js vs Angular——Angular 1 . x 和 Angular 2.x 背后的历史

"等等，AngularJS 和 Angular 不是一回事吗？"

嗯，不完全是…

AngularJS 是一个前端 JavaScript 框架，由 Google 于 2010 年首次发布。AngularJS 可能是 web 开发中最受欢迎的前端 JavaScript 框架。

与 Apache Cordova 等技术相呼应，AngularJS 甚至在移动应用程序开发中也是一股巨大的力量。在其早期生命周期中，AngularJS 在社区中被通俗地称为“Angular ”,这让许多人困惑至今。

2016 年，谷歌发布了一个全新的框架，他们称之为 Angular 2。

当 Angular 2 处于开发阶段时，人们通过将第一个框架称为 Angular 1 来区分两个框架 AngularJS 和 Angular。x 和第二个角度 2。

随着 Angular 团队转向语义版本化方案(Angular 当前的主要版本是 6。突然，把 Angular v6.0 称为“Angular 2”也令人困惑。

为了减少混乱，Angular 团队发起了“[这只是 Angular](https://blog.angularjs.org/2016/12/ok-let-me-explain-its-going-to-be.html) ”活动，帮助创建关于如何引用不同框架的指南。原始的角度框架应该被称为 AngularJS，而新的角度框架应该被简单地称为 Angular。

判断应用程序是否有棱角的一个好方法是查看应用程序的创建日期。声称使用“Angular”并且在 2016 年或之前构建的应用程序很可能使用 AngularJS(流行版本包括 1.2、1.5、1.6 和 1.7)。

## 日落角

AngularJS 团队最近[宣布](https://docs.angularjs.org/misc/version-support-status)从 2018 年 6 月 1 日开始，AngularJS 将进入为期 3 年的“长期支持”阶段。

截至 7 月 1 日，AngularJS 团队承诺仅发布新的补丁来解决以下问题:

*   1.7.X 版本分支中的安全缺陷

*   与影响生产应用程序的主要浏览器版本不兼容

*   与影响生产应用程序的 jQuery 库版本不兼容

到 2021 年 7 月，任何继续使用 AngularJS 的应用程序都容易受到上述任何问题以及该框架的任何其他问题的影响。

## 为什么现在迁移？

现在开始迁移 AngularJS 应用程序有几个原因:

*   随着最后期限的临近，迁移成本会随着时间的推移而增加

*   安全性和兼容性问题现在是你的问题了

*   难以找到有 AngularJS 经验的新员工

*   现有工作人员的人才流失

*   硬技术限制

框架迁移可能非常困难、昂贵，并且需要大量的规划和协调工作。等到最后一刻或出现重大问题时才开始规划迁移会增加影响客户的问题风险。

等待还会大幅增加迁移成本，因为可能需要支付快速咨询服务的费用。

安全性或兼容性问题？如果在长期支持阶段结束后，在 AngularJS 中发现了安全或兼容性问题，这可能会使您的客户面临数据失窃或重大产品故障的影响，直到应用程序可以重新搭建平台。

雇佣 AngularJS 开发人员来支持你的应用程序变得越来越昂贵，因为框架方面的专业知识变得越来越少。

进入职场的新开发人员主要使用 Angular、Vue 和 React 等框架，而不是 AngularJS。

你组织中的 AngularJS 开发者希望在就业市场中保持最新和相关。您当前的员工将会越来越希望使用现在主导市场和对话的新框架。现在迁移可以降低人才流失的风险，因为您的开发人员可能会开始寻找机会离开并加入拥有更先进技术的公司。

最后，较新的框架具有 AngularJS(不容易)支持的特性。Angular、Vue 和 React 等较新的框架建立在 AngularJS 时代的经验之上。这些新技术往往更快，更符合人体工程学，并为 webpack 等现代工具提供更好的支持。

现代框架的特性帮助您的开发人员更快、更有效地交付新特性，同时使他们能够有效地利用新的 web APIs。现代开发方法有助于改善客户的体验，增加在线参与度，并在成功迁移后增加收入。

从 AngularJS 迁移的需要不再是“如果”的问题，而是“何时”的问题因此，现在就开始规划迁移是有意义的，这样您的团队就可以更快地利用这些框架的新特性。

## 我们应该使用哪个框架？

今天使用的三个最大和最流行的前端 JavaScript 框架是 Angular、Vue 和 React。

每个框架都有自己的一套庞大的:

*   开发人员工具和文档

*   在小型、中型和企业级应用程序中广泛采用

*   广泛的第三方库支持

*   可比功能集

在选择从 AngularJS 迁移到哪个框架时，没有确定的正确答案。

然而，根据我们在 [This Dot Labs](https://www.thisdot.co/labs) 帮助客户迁移 AngularJS 应用程序的经验，Vue 平均来说为 AngularJS 开发团队提供了最自然的选择。

这有许多原因，但最突出的是:

*   模板语法——Vue 的模板语法与 AngularJS 的模板语法非常匹配，让 AngularJS 开发者在新框架中感觉非常舒服。

*   反应式模型——Vue 的反应式模型与 AngularJS 非常相似，这使得 AngularJS 开发人员采用 Vue 的心智模型比对比框架和库要快得多。

*   没有额外的 JavaScript 语法或额外的库——Vue 不依赖于许多额外的 JavaScript 语法或额外的库，这些也需要教给开发人员，这有助于快速升级。

我们发现 AngularJS 开发人员可以用更少的时间和更少的直接培训来完全适应 Vue 开发，这比其他流行的框架要容易得多。

Vue 还为 AngularJS 项目提供了非常清晰的增量迁移策略。Vue 和 AngularJS 可以很好地并肩作战，同时一次移植一个特性。AngularJS 控制器和模板可以以系统和可重复的方式转换或转化为 Vue 组件。

无论您使用的是 AngularJS 的最新版本(1.5、1.6 或 1.7)还是支持的旧版本(如 1.2)，都没有关系；从 AngularJS 升级到 Vue 的路径通常是一个简单、机械的过程。

## 从 AngularJS 成功迁移到 Vue

每个成功迁移工作的关键是有一个可靠的计划。目标应该是在执行迁移的同时:

*   最小化特征回归

*   避免平台停机

*   继续向客户提供新功能

### 为迁移设置您的应用程序

为此，您应该设置 AngularJS 应用程序，以便它可以同时呈现 AngularJS 和 Vue 组件。如果你有时间、预算和资源，这将允许你在 Vue 中构建新的特性，并移植 AngularJS 中的现有特性。

### 如何开始 Vue 和 AngularJS 整合

在 AngularJS 中托管 Vue 组件可以非常简单。

你所需要做的就是包含一个指向 Vue 框架的脚本标签。然后，在应用程序中创建指向特定 DOM 节点的 Vue 实例。

可以将 Vue 设置为在文档的并行分支中与现有 AngularJS 应用程序并行运行，或者将 Vue 组件包含在现有 AngularJS 组件中，并完全由 Vue 控制。您甚至可以在层间传递一些数据和事件。

这种方法的一个简单版本可以在大卫·罗杰斯的这个 CodePen 中看到:

### 将 AngularJS 分量转换为 Vue 分量

下一步是开始将您现有的 AngularJS 组件转换为 Vue 组件。这意味着将 AngularJS 控制器转换为 Vue 实例。

然后，任何 AngularJS 生命周期方法都被直接转换成等效的 Vue 组件生命周期方法。

最后，AngularJS 模板被复制到 Vue 组件中，并且 AngularJS 模板语法被替换为等效的 Vue 模板语法(例如:用 v-if 替换 ng-if，用 v-for 替换 ng-repeat，等等。)

### AngularJS 到 Vue 迁移代码示例

在这个例子中，我们从 [Todo MVC](http://todomvc.com/examples/angularjs/#/) 的 AngularJS 实现中提取了下面的模板片段(略有改动),并将其转换为 Vue 模板。

```
<section class="main" ng-show="todos.length" ng-cloak>

<ul class="todo-list">
<li ng-repeat="todo in todos | filter:statusFilter track by $index"
    ng-class="{completed: todo.completed,
               editing: todo == editedTodo}">

<input class="toggle"
       type="checkbox"
       ng-model="todo.completed"
       ng-change="toggleCompleted(todo)">
<label ng-dblclick="editTodo(todo)">{todo.title}</label>

<button class="destroy" ng-click="removeTodo(todo)"></button>

<input class="edit"
       ng-trim="true"
       ng-model="todo.title"
       ng-blur="saveEdits(todo, 'blur')"> 
```

下面是 AngularJS 实现到 Vue 模板的直接转换:

```
<section class="main" v-show="todos.length" v-cloak>

<input class="toggle">type = " checkbox "
v-model = " todo . completed "
v-on:change = " toggle completed(todo)">
<label v-on:dblclick = " edit todo(todo)">{ todo . title }</label>

<input class="edit">v-model . trim = " todo . title "
v-on:blur = " save edits(todo，' blur')" > 
```

### 
  
迁徙安古拉服务

迁移的好处之一是任何 AngularJS 服务都可以简单地转换成 ES6+模块。在 Vue 中不需要像在 AngularJS 中那样注册服务。

使用 ES6 模块和 import 语句将帮助 Webpack 等捆绑器通过智能地跟踪模块之间的依赖关系并优化哪些代码被捆绑在一起并在运行时交付，来最大限度地减少代码的占用空间。

如果您仍然希望将 AngularJS 依赖注入系统用于这些服务，您可以将现在转换的服务包装在更薄的 AngularJS 服务对象[中，就像包装 lodash 等第三方库](https://www.jvandemo.com/how-to-properly-integrate-non-angularjs-libraries-in-your-angularjs-application/)一样。

### 接下来是什么？

在早期，不需要在迁移期间添加并行构建步骤，不需要立即使用 Vue CLI，也不需要修改 Webpack 构建配置。您可以开始在现有的构建工具中使用 Vue 代码。当您的团队和产品准备好了，您就可以开始引入更高级和更复杂的工具了。成功的迁移是对变更和新技术引入的速度进行衡量的迁移。

然而，在你的大部分应用程序被迁移到 Vue 之后，你可以开始将你的工具从一个托管 Vue 的 AngularJS 应用程序转变为一个可能托管一些剩余 AngularJS 代码的 Vue 应用程序。这个过程允许您开始利用 Vue 工具生态系统的力量，设置构建和捆绑步骤，并开始使用 Vue [单个文件组件](https://vuejs.org/v2/guide/single-file-components.html)。

稍后，您可以开始重构和优化一些先前转换的组件，从严格的 1:1 转换格式转换为更适合 Vue 模型的格式，并利用 Vue 中更高级的特性。

你也可以开始加入额外的 Vue 库和特性，比如 Vuex。

## 结论

随着对 AngularJS 的支持将在未来三年内结束，迁移到一个新的框架将帮助您和您的团队避免可能来自缺乏直接支持的问题，并让您的开发团队再次对开发感到兴奋。

您将能够更容易地吸引人才，并提高您的应用程序和开发人员的速度和性能。

但是，在没有计划的情况下进行系统迁移会导致灾难，并且可能会减缓或阻碍新功能的开发。没有有效的计划，您可能会经历缺陷、倒退和过多的计划外成本。

Vue 是 AngularJS 团队的一个自然且经过验证的迁移目标。学习起来很简单，并且允许任何 AngularJS 应用程序与新的 Vue 应用程序一起进行增量迁移。

我们希望这篇文章对您的 AngularJS 迁移工作有所帮助，并祝您在迁移之旅中好运。

这个点和我们的导师在帮助团队将 AngularJS 应用迁移到 Vue 方面有着丰富的经验。

我们可以帮助您为您的需求设计正确的计划，帮助您的团队将您的应用迁移到 Vue，并指导和培训您的 AngularJS 开发人员成为成功的、经验丰富的 Vue 开发人员。

*发送电子邮件至[hi@thisdot.co](mailto:hi@thisdot.co)，获得关于移民的免费咨询。*

*这篇文章是由[罗布·奥克托](http://twitter.com/robocel)写的，他是[这个点](http://thisdot.co/labs)的高级软件工程师。*

需要 JavaScript 咨询、指导或培训帮助吗？在 [This Dot Labs](//thisdot.co) 查看我们的服务列表。