# 只有盖茨比能解决的问题？

> 原文:[https://dev . to/s _ Aitchison/a-problem-only-Gatsby-can-solve-1eh 6](https://dev.to/s_aitchison/a-problem-only-gatsby-could-solve-1eh6)

不久前，我开始创建一个网站，收集关于可访问性的教程和文章。这个网站是专门针对 React 开发者的(如果你想了解更多关于这个决定和旅程的信息，请看我上周的帖子！).当我第一次构思这个想法时，我对[盖茨比](https://www.gatsbyjs.org/)知之甚少，除了知道它现在似乎有一点点轰动，不时出现在我关注的开发者的推文中，以及像 JSParty 这样的播客中。

我想我应该分享一下我是如何以及为什么从对 Gatsby 框架一无所知到相信它是你的 A11y 的完美解决方案。以至于我想不出任何能提供我所需要的东西，更不用说做得更好了。

## [](#thought-process-1-it-has-to-be-in-react-right)思维过程 1:一定是在作出反应吧？

作为教程和文章的集合，表面上看起来你的 A11y 可以用任何框架编写，或者根本不用任何框架。其核心是页面上的文本，带有一些附加标记，例如代码示例、联系表单等。

然而，我真的希望你的 A11y 有页面内，真实的，反应编码的例子。我希望这种体验能让用户真正看到和听到自己的不同之处。我希望网站积极鼓励开发者:

*   定期打开他们的屏幕阅读器检查他们的代码
*   熟悉键盘导航和焦点状态
*   当考虑他们的代码是否“工作”时，习惯于将自己放在其他用户的位置上

我还希望每个教程都是可以理解的，而不需要用户自己去编写几个版本。我需要演示。有时整个页面只是为了演示。

这就是我们要做的——我需要在 React 中构建整个东西。对吗？？

## [](#thought-process-2-ok-so-it-cant-all-be-in-react)思维过程 2: OK 所以不可能**所有的**都在反应

我是如此渴望得到破解，以至于我立即建立了一个 React 项目，并开始将一些页面放在一起。但很快我意识到——这完全不是 React 的用途，这是个坏主意。

是的，我在这个网站需要一些反应代码。这一点很清楚。然而，你的 A11y 大部分是静态内容。整个页面主要由文本组成。我开始想，当然我可以在 React 中写下所有这些静态内容，但是我为什么要写呢？这是不适合这项工作的工具，维护起来会很痛苦。想象一下，每当你写了一篇新文章，你必须添加一堆段落标签，换行符等等。不不不。

## [](#thought-process-3-right-im-going-to-use-react-mdx)思维过程 3:对，我要用 React + MDX

我想了很多，我真正想要的是能够在 Markdown 中编写网站的主要部分，但仍然有一些 React 组件。稍微谷歌一下，嘿，看起来这正是我从 [MDX](https://mdxjs.com/) 得到的！用他们自己的话说:

> MDX 是一种可创作的格式，可以让您在 Markdown 文档中无缝地编写 JSX

我很高兴。问题解决了，是吗？我的计划是:

*   包含每篇文章/教程内容的 MDX 文件
*   React app 具有所有常用的路由和组件(有些我会直接在 MDX 中使用)
*   一个包装器组件，在这里我会根据路由位置放入相关的 MDX 内容

这听起来很棒，直到我意识到我不能在运行时动态导入相关的 MDX 内容。有一些库支持这一点，但是正如 MDX 所说:

> 警告:这不是使用 MDX 的首选方式，因为它引入了大量的开销，并显著增加了包的大小。

这是由于 MDX 的工作方式。我发现最简单的解释是这张图[其中一位作者](https://github.com/timneutkens)添加到一个 MDX GitHub 问题中，内容大致相同:

[![Diagram explaining MDX is compiled to JSX](../Images/0a6e7b560682fe724faf3e6f25f874d4.png)T2】](https://res.cloudinary.com/practicaldev/image/fetch/s--6flWpf0t--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/g36yieburc127amsvcc3.png)

长话短说，MDX 并不打算按照我最初的想法动态使用。然而，在其他方面，它仍然是最适合这份工作的。

## 思维过程 4:一定有什么东西能做到这一切

经过一段有些痛苦的旅程，我列出了一份相当全面的需求清单。我需要一些可以:

*   请允许我使用 MDX 将一组文件快速转换成一组静态页面
*   当我需要演示时，允许我创建整个 React 页面
*   理想情况下，请允许我使用 React 路由，因为这些行为是我想讨论的几个主题的核心

## [](#gatsby-for-the-win)盖茨比获胜

我开始组合搜索这些东西，发现各种 Gatsby 插件出现在结果中。我以前只是模糊地听说过盖茨比，但在快速浏览了他们非常用户友好的文档后，很明显它对我的用例来说是完美的。

*   它构建在 React 之上，我可以随心所欲地创建和使用 React 组件和页面
*   它的路由是基于顶端到达路由器，它提供了我正在寻找的所有单页应用程序的路由行为
*   它的 MDX 插件获取 MDX 文件，并在构建时将它们转换成页面，将它们放入一个布局模板中，我可以将其定义为 React 组件

Gatsby 社区提供了大量的[【starters】](https://www.gatsbyjs.org/starters/)，这使得一切都可以超级快速地启动和运行。作为一名 React 开发人员，我的另一个好处是语法非常熟悉，就像在代码中用来检索帖子的 GraphQL 查询一样。

MDX 只是将内容引入 Gatsby 应用程序的许多方法之一，我知道它有很好的插件，可以用于各种无头 CMS、电子商务等等。老实说，到目前为止我真的被深深打动了，我希望将来我也有理由在其他项目中使用它。

盖茨比是唯一的解决办法吗？我真的认为有可能，但我真的很想听听你的想法。你为什么使用 Gatsby，你认为还有其他框架可以同样解决你的所有问题吗？