# Kubernetes -像你五岁一样解释

> 原文:[https://dev . to/marceliwac/kubernetes-explained-like-you-re-five-gal](https://dev.to/marceliwac/kubernetes-explained-like-you-re-five-gal)

根据定义，Kubernetes 是一个*容器编排工具*。

这就是全部内容，让我们来分解一下吧！不过在此之前，我将给出一个 docker 的快速概述，主要是因为这是一个相关的主题，并且对那些想进入 Kubernetes 但从未真正学习过 Docker 的人有益。

作为免责声明，这篇帖子是对的问题的回复。这也不是最全面的解释，而是对那些想要 5 岁解释的人的快速描述。原问题问:

[![inidaname image](img/9d2ca29e5d508d13fc390382f70fb928.png)](/inidaname) [## 向我解释 Kubernetes 就像我五岁一样

### 哈桑萨尼 1919 年 9 月 21 日 1 分钟阅读

#discuss #kubernetes #devops #explainlikeimfive](/inidaname/explain-kubernetes-to-me-like-i-m-five-5a3f)

# Docker 是什么？

**Docker** 是一款软件，它从根本上将*的应用*打包成**的可运行**程序。当然还有更多，但是让我们假设 Docker 就是这样做的。举个例子，想一个你可以用你最喜欢的语言编写的应用程序。该应用程序有一定的用途，作为开发人员，您可能知道如何将源代码作为程序运行。这可以通过编译(即 C++、Java)或解释(即 JavaScript、PHP)等方式来完成..不管具体的语言是什么，原始代码和它的产品之间是有联系的。

现在你已经有了自己的项目，你可能想把爱传播出去，让其他人从你为项目开发投入的长时间中受益。比方说，你想和你的朋友分享你刚刚编写的一个很棒的待办事项应用程序。也许他有从代码中构建它的经验，也许没有。无论哪种方式，这可能都不重要，因为如果他使用不同的操作系统(OS ),很可能您使用的是本地安装在您系统上的库，因此代码无论如何都不会在他的系统上工作。

这就是 Docker 的用武之地。还记得我说过它以源代码的形式获取你的程序，并将其转换成可运行的程序吗？

> 但是我的朋友不能在他的 Mac 上运行我的`todo.exe`！

我知道，我知道！有了 Docker，在任何操作系统中运行任何应用程序都是可能的，因为 Docker 创建的“包”不仅仅是可执行文件；相反，它们是整个操作系统的**映像**和预加载的应用程序。

> 我的申请里似乎有很多不必要的东西！

有可能，但这不是全部！如今，像 [alpine](https://hub.docker.com/_/alpine) 这样的包是广泛可用的 linux 发行版，只需要 5MB。

要使用它，你所要做的就是遵循一些简单的步骤(参见下面的指南),将你的应用程序代码转换成 docker 映像。与你的朋友分享它，现在他所要做的就是找到一个 docker 运行时来运行它！很简单！

[![softchris image](img/11287239c3fc0c954046778309092f72.png)](/softchris) [## 5 部分 Docker 系列，从初学者到大师

### 克里斯·诺林 3 月 10 日 192 分钟阅读

#docker #beginners #devops #showdev](/softchris/5-part-docker-series-beginner-to-master-3m1b)

> 但是...

好吧，你是说你的朋友不想下载额外的包来试用你的待办事项应用程序。很公平，我会保护你的。事实证明，Kubernetes 正是可以帮助你实现这一目标！

# Kubernetes 的力量

让我们快速回顾一下我们现在的情况。你有一个你精心编写的待办事项应用程序来帮助你的朋友度过他们的一天，因为他们使用一些你无法访问的花哨的操作系统，你把你的应用程序打包成一个 docker 映像。现在他们要做的就是经营 docker 形象，盈利。除了他们不能这样做，因为所有的 docker-engine 废话似乎是很大的努力，他们不想用不必要的软件包来塞满他们的操作系统。

好吧。如我所说，Kubernetes 帮你搞定了。想象一下，你编写的待办应用程序可以作为一个独立的 web 应用程序运行。这意味着你可以在服务器上的某个地方启动它，并使它在某个端点可用(我正看着你，`localhost:3000`)。也许你是一个 CLI 忍者，喜欢设置 AWS EC2 服务器、安全组、负载平衡器等。，或者您想要做的只是展示您刚刚构建的 docker 映像，而不需要围绕设置的所有 faff。

我再引用一遍——“*Kubernetes 是一个容器编排软件*”；我们终于到了揭开*编排*部分神秘面纱的阶段。运行任何种类、大小和形状的公开可用的软件，总是要考虑几个因素。这些可能包括**扩展**(响应增加的使用，或*应用程序的负载*)**交付**(向其他用户公开您的服务)或**保护**(限制访问或以其他方式保护)您的应用程序，但也涵盖更实际的场景。当您的应用程序崩溃时会发生什么？它会自己重启吗？现有会话如何？如果您犯了一个错误，出现了一个巨大的内存泄漏，导致您甚至无法访问服务器，该怎么办？

Kubernetes 以优雅的方式处理了所有这些问题和考虑。它 ***编排*** 你的容器，它通过将你的打包软件绑定到基础设施来做到这一点，就像 Docker 将你的代码绑定到它的可操作形式——可运行软件。

我不会深入解释 Kubernetes 的概念和结构，因为有大量的资源可以比我做得更好，但底线是，你应该使用 RTFM(你可以在这里找到)。我还将附上一个 Dev.to 教程系列，我发现它既有帮助又相当深入。

[![softchris image](img/11287239c3fc0c954046778309092f72.png)](/softchris) [## 学习 Kubernetes，第一部分，基础知识，部署和 Minikube

### 克里斯·诺林 1919 年 5 月 18 日 17 分钟阅读

#devops #kubernetes #tutorial #docker](/azure/kubernetes-from-the-beginning-part-i-4ifd)

### [](#the-things-you-should-know)你应该知道的事情

1.  Kubernetes 在集群上运行。这意味着通常有不止一台(虚拟)机器；这提供了冗余和可伸缩性选项，但支持核心 kubernetes 服务(kube-apiserver、kube-controller-manager 和 kube-scheduler)。当然，您可以使用更多的服务来调整您的集群，做您喜欢的事情，例如 KubeDNS——负责集群内路由的 DNS 服务。
2.  集群由节点组成。你至少可以拥有一个主节点。 *Master* 这里是关键字，因为 Kubernetes 区分了两种类型的节点:主节点和非主节点。两者之间的区别在于，主节点控制集群中“T4”的行为。这意味着，如果您在集群上部署(我将谈到这一点)您的应用程序，Kubernetes master 将决定应该提供哪些实际资源，应该创建哪些对象和结构以及在哪里创建。非主节点作为架构的扩展，但不包括 kube-apiserver 之类的服务(相反，它们运行 kubelet 和 kube-proxy，允许它们“监听”主节点)。
3.  kube-apiserver 是一个为集群提供接口的服务。这意味着要部署您的应用程序，您需要为集群提供一个配置文件，该文件准确描述了您想要的内容。例如，您可能想要指定您想要运行什么 docker 映像，应该为通信打开哪些端口，它在哪个域下可用，以及您想要多少副本(并行运行的应用程序的副本)。可能的配置选项的完整列表是广泛的，并且有多种资源类型可用于使服务可用。每一种都有其优点、缺点和怪癖。
4.  最常见的是，`kubectl` CLI 实用程序用于与集群通信。是的，事实证明你终究需要一些 CLI 技巧，但是从积极的方面来看，它一点也不复杂，配置文件有多种支持的格式，包括 JSON 和 YAML，所以这个过程真的很容易。

Kubernetes 网站上有一个更完整的概念列表。如果你想更好地了解谁做了什么，什么去了哪里，我建议你快速浏览一下。

# [](#should-i-install-it-on-my-machine-or-go-for-the-cloud)我应该把它安装在我的机器上还是去云？

最后，在您开始在裸机服务器上安装 Kubernetes 集群之前，请寻找能够帮助您完成这项任务的工具。在我年轻的时候，我发现 kops (kuberentes operations) 是一个非常有用的软件。到目前为止，我可以把我在 AWS 上看到的对 Kubernetes 最好的介绍归功于继 Jeffrey Taylor 的 YouTube 系列之后的[。](https://www.youtube.com/watch?v=4YBzMZY4QX4)