# HTTP 方法以及为什么应该在 API 中使用它们

> 原文:[https://dev . to/rafaelcpalmeida/http-methods-and-why-you-should-be-use-them-on-your-API-4bfh](https://dev.to/rafaelcpalmeida/http-methods-and-why-you-should-be-using-them-on-your-api-4bfh)

我们中的每一个人，即使不知道，以前都使用过 HTTP 协议。否则，我不会在 DEV Community 上写这篇文章，因此，你也不会看到它。

当编写 REST API 时，应该确保它使用标准的 T2 HTTP 方法。这些是构建稳定的、非常重要的、可伸缩的 **API** 的重要支柱。 **GET** ， **POST** ， **PUT** …我该用哪个？我对此的回答是:取决于你想做什么！

### [](#when-should-i-use-each-method)每种方法应该在什么时候使用？

主要的 **HTTP** 动词，或者方法，如果你喜欢这样称呼它们的话，是:

*   **获取**
*   **发帖**
*   **放** / **补丁**
*   **删除**

你可能会想:

> “嘿谢谢，我还不知道这事呢！但是……我应该什么时候使用它们呢？”

让我给你解释一下(希望不要让这个太无聊)！

##### [](#get)得到

如果你查看 HTTP/1.1 协议的规范，我引用它的话:

> “GET 方法意味着检索由请求-URI 识别的任何信息(以实体的形式)。如果请求-URI 指的是一个数据生成过程，则生成的数据应作为响应中的实体而不是该过程的源文本返回，除非该文本恰好是该过程的输出。”。

简而言之，应该使用 **GET** 动词(或方法)来检索您正在寻找的信息。以下面的**网址**为例:

`https://api-url.dev/api/v1/users/1`

它应该检索关于 ID 为**1 的用户的所有可访问信息。**

##### [](#post)岗位

让我们再次检查 HTTP/1.1 协议的规范。上面写着:

> POST 方法用于请求源服务器接受包含在请求中的实体，作为由请求行中的请求 URI 标识的资源的新下属。POST 旨在以统一的方法涵盖以下功能:
> 
> *   现有资源的注释；
> *   将消息张贴到公告栏、新闻组、邮件列表或类似的文章组；
> *   向数据处理过程提供数据块，例如提交表单的结果；
> *   通过追加操作扩展数据库。

嗯，有很多话要说， **POST** 动词在服务器上存储信息。

请访问以下网址:

`https://api-url.dev/api/v1/users`

这应该用于创建新用户。您可以发送所有需要的信息(用户名、密码等。)使用将要发出的 **HTTP** 请求的主体。

##### [](#put-patch)放/补丁

让我们再检查一次 HTTP/1.1 协议。关于动词 **PUT** 它说了什么？

> PUT 方法请求将包含的实体存储在提供的请求 URI 下。如果请求 URI 引用一个已经存在的资源，那么被包含的实体应该被认为是驻留在源服务器上的实体的修改版本。

换句话说，上面的文本告诉我们应该使用 **PUT** 动词来更新现有的资源，比如说，一个现有的用户。

使用 URL:

`https://api-url.dev/api/v1/users/1`

系统应该用请求中发送的信息更新关于 ID 为 1 的用户的信息。

> 但是……那么**补丁**动词呢？

对！**补丁**动词。比方说，你想更新用户的 ID 为**1**，就像上面的例子一样，但是你只想发送新更新的字段，比如密码字段。在这种情况下，你应该使用**补丁**动词。为什么？因为您只是发送了用户实体的一个片段，在这个例子中是密码，所以这个动词足够了，因为您正在为给定的用户打补丁。

##### [](#delete)删除

啊，最后但并非最不重要的:删除动词。所以，最后一次检查规范(最后没有？)我们得到如下结果:

> DELETE 方法请求源服务器删除由请求 URI 标识的资源。此方法可能会被原始服务器上的人工干预(或其他方式)覆盖。即使从源服务器返回的状态代码表明操作已经成功完成，也不能保证客户端已经执行了操作。但是，服务器不应指示成功，除非在给出响应时，它打算删除资源或将其移动到不可访问的位置。

破译稍微令人困惑的文本，它说你应该使用**删除**动词，每次你想从服务器上删除一些资源。

如果您对以下内容执行**删除**请求:

`https://api-url.dev/api/v1/users/1`

服务器应该删除 ID 为**1 的用户，也许还应该删除与他相关的所有资源。**

就是这样！我已经涵盖了我在文章开头提出的所有内容。希望你喜欢阅读，如果你有任何问题或建议要改进，请告诉我。