# 问题旋转以求更快的结果

> 原文:[https://dev . to/strredwolf/question-pivoting-for-fast-results-1 jje](https://dev.to/strredwolf/question-pivoting-for-faster-results-1jje)

在我的工作中，作为我们引进和使用的监控系统的主题专家，我会收到来自我们支持团队的奇怪问题。有些对我来说是显而易见的，有些值得在内部知识库中发表一篇文章，还有一些...良好的...

“嘿，红红，也许这样会快一点。我需要所有安装了 4g 内存和 MySQL 的 Linux 服务器的列表。能不能快速查询监控系统数据库？”

我说我会调查的。随着时间的推移，我做到了...

这是我诅咒 H.P .洛夫克拉夫特和对抗古老的邪术的地方。

你看，监控系统的数据库布局并没有那么好。它针对快速书写进行了优化，这是该系统的供应商很久以前做出的选择。另外，他们的报告功能只能让你到此为止，过去使用 MySQL 和 MariaDB 现在让我想为 MS SQL Server 中的功能提交 bug 报告(至少 MariaDB 现在有“WITH alias AS (SELECT 语句)”了！).另外，我需要的数据不是普通的结构——不，它是通过复杂的方法获取的，并放在快速写结构表中。

也就是说要得到列表，我真的不会用 MySQL 或者 MariaDB 的 SQL 语言。没那么能干。我沮丧了两个半小时才意识到这一点。

我放弃了，去和问问题的人谈谈...意识到一种更简单的方法。我最初在寻找具有 2g 内存的 Linux 服务器。我可以说“什么 Linux 服务器上有 MySQL？”监控系统有一个快速查询页面，让我可以问这个问题，而不需要通过数据库或撕扯头发。我能够说“好的，这样做，你得到 130 个服务器的列表来检查 RAM。”那个后勤人员说“我要那个！”并且可以很容易地挖掘它们以得到更短的列表。

这里的要点是，有时，你必须重新排序问题，自己做一点优化。SQL servers 一直在这样做，收集一些查询信息，重新排序所需的搜索，并产生一个快速的执行路径。