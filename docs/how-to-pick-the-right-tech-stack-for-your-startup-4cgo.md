# 如何为你的创业选择合适的技术

> 原文：<https://dev.to/levinunnink/how-to-pick-the-right-tech-stack-for-your-startup-4cgo>

## 丑陋却有效

你知道什么最糟糕吗？灯组。几乎在每个方面，它都是一个糟糕的网络堆栈。标签[“PHP 开发人员”](https://twitter.com/php_ceo)有一种真正的羞耻感。但是你知道是什么推动了过去十年中一些最成功的[创业公司](https://linux.slashdot.org/story/09/04/11/1142246/how-facebook-runs-its-lamp-stack)？灯组。

作为一名技术创始人，你的工作不是挑选“最好的”网络技术，而是挑选能让你做到最好的足够的技术。对您来说，运送产品最快的堆栈是什么？如果你能立刻开发出一个 LAMP 应用程序，那就去做吧。如果你活着，呼吸着铁轨。如果你喜欢 MERN(我个人最喜欢的)，那就去吧。

最初， [Droplr](https://droplr.com) 是作为一个 CodeIgniter 应用程序开始的，这在那些日子里让我很羞愧。我记得当我不得不向一些开发者承认 Droplr 的 API 只不过是一堆连接到 MySQL 数据库的 PHP 脚本时，我有一种明显的尴尬感。但是谁在乎呢？工作不是在最性感的技术栈上构建最优雅的 API，而是上传一个文件并给用户一个链接。这一点很棒，这也是我们的客户评判我们的标准。在引擎盖下，它是丑陋的，但它是有效的。

因此，底线是，你应该已经知道什么是你的创业理想的技术堆栈，你可以停止阅读这篇文章，选择你最擅长的。

但是，如果我今天开始一个新项目，我会使用这些技术。这才是我该做的。如果不适合你，也没关系。

## 不同类型的应用逻辑

从本质上来说，每个网络应用都将包含几乎相同的东西:

1.  **同步逻辑**(现在就做)
2.  **异步逻辑**(这样做，完成后报告)
3.  **预定逻辑**(每小时/每天/每周这样做)。

如果您的项目使用 HTTP(当然是这样)，它将包含许多同步逻辑。比如说。REST APIs 从根本上来说是同步的，也就是说，我想查询一个端点并获得一个对象列表。HTTP 请求没有稍后报告的选项，它需要尽快给出结果。如果花费的时间太长，就会失败(或者抛出超时错误)。大多数基本的 web 框架(Express、Rails、CodeIgniter)都是围绕同步逻辑构建的。

但是不要被愚弄，异步逻辑也同样重要。如果您需要编写一个服务，在不同的地理位置以五种不同的屏幕分辨率对 url 进行截图，然后将结果显示给用户，该怎么办？很可能您无法在一个 HTTP 请求中同步完成这项工作。您实际上并不需要这样做:用户可以等到逻辑完成后再得到结果。这是异步逻辑的理想情况。很有可能，你的应用需要运行异步逻辑。你的技术人员应该准备好处理这件事了。不要让它成为事后的想法。

最后，时序逻辑是经常被遗忘的东西，但它实际上非常重要。你将如何备份你的数据库？跟踪每日统计数据？向你的客户发送每周电子邮件摘要？这些都是预定逻辑的例子。也许你可以在没有好的计划逻辑解决方案的情况下进行几次迭代，但是很有可能你会比你想象的更快地需要它。

最重要的是，无论您选择什么解决方案，都需要快速:快速开发、快速部署和快速调试。当你开始的时候，总是选择速度而不是可伸缩性。

如果你已经有了一个满足这些需求的解决方案，你可以在其中疯狂地快速编码，那太好了！用那个。但如果你没有，我会推荐 Node。JS+server less+MySQL/Postgres/Aurora 或 Mongo/DocumentDB 是您技术堆栈的理想选择。

## 为节点的情况。射流研究…

我肯定语言纯粹主义者有理由讨厌 Node，但对我来说，这是最能帮助你在一件事情上做得最好的语言。

首先，强大的 NPM 生态系统可能有一些垃圾，但这意味着如果没有预先构建的解决方案，你几乎不会遇到任何问题。例如，您不必花费数小时或数天时间编写自己的日期解析器/格式化程序。这样你就有了一个比你自己写的更好的数据库。每一个挑战都有一个相当好的解决方案。如果在一个蓝色的月亮，没有可接受的解决方案，你可以写你自己的模块，并发布到 npm。npm 的美妙之处在于，它通过让您专注于您实际应该做的事情，从根本上加快了您的开发周期，并产生了一个更干净的代码库，专注于它的一项工作。

其次，Node 的架构在处理同步和异步逻辑方面几乎是不可思议的。异步 Javascript 过去会产生一些难看的代码(回调地狱是真实存在的)，但是由于对[异步函数](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/async_function)和[承诺](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)的良好支持，最终结果代码要干净得多。如果你在试图让 PHP 或 Ruby 做异步逻辑时撞到了键盘，Node 对你来说似乎是一个启示。并且[节点的 REPL 模块](https://nodejs.org/api/repl.html)使得测试和调试代码变得非常简单。

最后，Node 有 Javascript 的优势。是的，Javascript 是一种疯狂的语言，但它几乎可以在栈中的任何地方运行。想象一下，让你的工程团队中的每个人，后端、前端、全栈，说同一种语言，意味着什么。想想这对代码审查、知识共享、最佳实践和招聘有什么影响。最终，标准语言的结果意味着当你的团队扩展时，你可以保持快速。随着团队的成长，速度并没有停止变得重要，只是变得更加困难。但是 Node.js + Javascript 有帮助。

## 走向无服务器的情况

当我开始在 Riskalyze 和 Droplr 工作时，我的首要任务之一是在我们的云中提供服务器，安装和编译依赖项，配置防火墙和安全性。在我们的私人 Wiki 中，我们有一份文档，里面有建立一个新的生产 API 实例的所有详细步骤。我喜欢服务器管理吗？没有。很费时间吗？是的。有没有更好的办法？见鬼，是的。

如果你没有听说过 [Serverless](https://serverless.com) ，我打赌你可以从名字上猜出它是什么:Serverless 是一个节点框架，让你编写简单地在云中运行的功能，而不需要服务器。它省去了构建和发布 web 应用程序的服务器管理部分，消除了等式中的伸缩性(至少在一段时间内)，并且部署是一个单一的步骤。这使得一个功能齐全的应用程序可以快速发布。记住，速度就是一切。

无服务器的优点之一是它完全支持同步、异步和预定逻辑。发布由 HTTP 请求、SNS 通知或 cron 计划触发的代码很容易。它包含了你需要的所有功能。

你可能会想，“这很好，但我的桌面上没有 AWS 云，我如何开发一个应用程序而不将每个更改都推送到云？”这就是 Node 的灵活性的用武之地。对于 http 函数，您可以像任何其他 HTTP 应用程序一样，在本地端口上轻松运行这些函数。对于更依赖 AWS 服务的功能(比如说需要由 SNS 消息触发)，我推荐运行 localstack。

关于无服务器还有很多可以说的。在 Droplr，我们在内部做了大量工作，找出了一些最佳实践。作为进一步的参考，请查看我的示例项目，它给出了同步、异步和预定逻辑的例子:【https://github.com/levinunnink/serverless-boilerplate】T2 你可以把它作为你自己的无服务器应用的起点。

## 数据库呢？

正如我之前提到的，当我开始在 Riskalyze 工作时，我们使用了 [MySQL](https://github.com/levinunnink/serverless-boilerplate%5D) ，这是一个很好的选择。Riskalyze 是一家金融科技公司，金融数据是高度结构化和相关的。对于我们来说，能够基于不同的模式键连接和汇总数据是至关重要的。Postgres 也是一个不错的选择。在 Droplr，我们有一个简单得多的数据集，我们最终选择了 [MongoDB](https://www.mongodb.com/) 。这也被证明是一个很好的选择，因为它允许我们存储大量的数据集，而不需要强制执行一个僵化的结构，也不需要不断地迁移我们的数据(如果您的模型将与您的公司一起发展，这非常好)。

最终，最好的答案是选择对你来说最快的方式。对你来说，构建模式、编写查询最容易的是什么？就用那个吧。

我强烈推荐的一件事是，无论您选择什么数据库解决方案，都要确保它是托管的。也就是说，你不是管理它的人。对于每个主要的数据库，都有一个很好的管理选项。您不应该担心备份和复制。付了钱，使用一个服务，将为你处理这些事情。您需要专注于做好一件事，而这件事不是数据库管理。

===

以上都只是我的建议。成为技术创始人的好处在于，你可以选择技术，只要它能让你在某一方面做得最好，而在其他方面做得足够好。为您的技术堆栈感到自豪。让别人恨上一盏灯。你去运送你的产品！

如果你想保持联系或者想和我聊聊我在这篇文章中提到的一些东西，请在 Twitter 上联系我。我是来帮忙的。