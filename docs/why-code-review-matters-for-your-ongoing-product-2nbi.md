# 为什么代码评审对你正在开发的产品很重要？

> 原文：<https://dev.to/2muchcoffeecom/why-code-review-matters-for-your-ongoing-product-2nbi>

从头开始开发过程可能会给客户和开发团队或自由职业者带来一定的挑战。这篇文章是对没有技术背景的产品所有者的一点提示。此外，它将关注在你的产品开发过程中需要解决哪些方面的问题。

我们的团队将详细说明作为客户的您在为新产品开发雇佣员工之前需要了解的内容，我们还将提到您作为产品所有者可能需要请求代码审查的情况。事实上，雇佣合适的开发人员将使你免除从外部要求代码审查的义务。此外，基于我们个人的例子，我们将说明代码审查清单，并解释为什么代码审查对开发过程很重要。

## 雇佣 dev 之前需要了解什么？

雇佣一个弱的开发团队或自由职业者对你的产品来说可能是致命的。最终，不合格的开发人员可能会破坏你的产品理念，更不用说质量了。让我们指出关键因素:

### 服务成本。

当然，客户不会有意雇佣一支弱队。然而，省钱的机会将是决策过程中的主要因素。因此，产品所有者可能倾向于选择不昂贵的开发团队，同时他们有较低的费率，并且他们的投资组合中只有少数案例。俗话说:**“买便宜的，买两次”**，在选择你要合作的 dev 时要牢记这一点。

### 专业水平。

首先，你需要关注**投资组合**——这是开发者可靠性和专业性的重要指标。看一下之前开发的产品。检查其功能和设计。如果有可能测试产品(例如，通过安装应用程序)——就去做。你需要了解开发团队或自由职业者的技能水平，在这种情况下，将通过伟大的可用性，功能性和用户友好的界面显示出来。

### 索要契约。

此外，你可以要求团队或自由职业者分享他们以前客户的**联系人**。因此，你可以直接询问反馈，并对任务范围、截止日期和职业道德有所暗示。

### 进行面试。

对潜在候选人进行面试总是检验他们在产品开发过程中的熟练程度的好方法。你可能会问:“如果我在不了解技术开发的情况下招聘技术开发人员，那么我将如何在面试中检查候选人？”别担心，问一些关于商业和产品开发的策略和前景的问题就足够了。开发人员需要对这个想法感兴趣，并努力为产品的成功可伸缩性和开发尽最大努力。

### 从无到有的发展。

请记住，你需要从一开始就选择正确的技术团队或自由职业者。尤其是如果你打算从头开始开发一个新产品。在专业水平不确定的情况下，开发过程中开发人员的变更将导致**发布延迟**以及**产品质量差**。

遵循上面的简单规则，你将因此雇用一个专业的开发团队。在那种情况下，你将会确信你的产品的发展是在好的手中。最重要的是，你会知道从最开始到结束的过程将由一个开发团队来实现。因此，您将不必为了完成代码编写过程而雇佣另一个开发团队，或者更重要的是雇佣一个团队来进行代码审查。

例如，在我们团队的实践中，有几次客户要求我们完成已经开始的项目。根据我们的方法，首先，我们要求访问代码库。为了完成编码过程，我们需要回顾已经存在的代码，以便对情况有一个全面的了解。其他情况是当客户故意要求团队检查代码，指出产品功能和可伸缩性的错误。然而，实践表明，在这两种情况下，代码库都包含了大量的错误，从而影响了流畅的产品体验。

#### 那么，你即将推出你的新产品...

你花了很多时间来计划和开发你的想法，所以目前正处于开发的最后阶段或推出产品后，你希望有很好的反馈作为你努力工作的回报。然而，**你可能会面临某些困难，比如为你的产品添加一个新的功能需要很长时间，或者功能与最初的想法不符，等等**。即使没有技术背景，作为一个产品所有者，你也应该关注你的应用程序的代码库。事实上，这些问题一定是**产品源代码**中的错误和失误造成的。作为一个解决方案，您需要询问您的开发人员或从外部雇佣一个团队，以便对产品进行代码审查，并确定到底是什么导致了产品的错误。

那么，代码审查到底是什么？为什么它如此重要？让我们一起来解决这个问题。

## 代码评审:成功产品开发的现实

那么，代码审查到底是什么？你可以想象开发人员的工作可能并不总是完美无缺的，这是由于他们的脑力劳动和对日常编码实践的关注。因此，为了消除可能的错误，通常会进行代码审查。确切地说，**代码审查是找出代码中任何错误的实践**。

代码审查将带来**有效的利益**来保证开发团队的工作质量，例如:

*   代码质量更高效，可读性更强；

*   记录良好的软件，在代码中有足够的注释，没有缺陷；

*   符合企业编码标准的软件；

*   一致的最终用户文档；

*   完成产品的单元测试和可扩展性；

*   开发人员能够教授和分享基于代码评审实践的知识；

*   为了做出更好的估计。

遵循代码审查方法的开发团队有机会构建成功的产品。这种处理代码库**的方式允许对产品开发过程**有一个完整的了解。

基于我们审查代码的实践，我们的结论是相当令人失望的，因为事实上代码审查显示了严重影响正在进行的项目的多个错误。我们的方法是写下、修复并向客户解释我们发现了哪些错误，以及这些错误将如何潜在地影响产品的开发过程。

**产品的架构和代码库相当于建筑的地基**。它需要从一开始就强大和可靠，以保证长期的可持续发展。如果代码审查发现了代码中的严重错误，重构可能会花费大量时间。

在特定的情况下，重构的过程甚至可能毫无价值。请记住，在产品的 MVP 版本中添加新的特性，这些特性在最初的技术规范中没有提到，这是一个很大的风险。事实上，在开发过程中添加的新特性会让开发团队重写整个代码库。这可能是因为添加新功能可能会与现有功能重叠，或者/和特定功能的重构可能会影响其他功能。这种连锁反应对发展进程没有好处。

## 案例研究:实践中的代码评审方法

有一个案例，客户正在开发一个巨大的医疗保健市场。他最初的目的是在他的项目网站上再添加两个网页，仅此而已。但那只是从第一眼开始。

我们的方法是基于对新合作伙伴(客户)的全阶段理解，因此在接受已经开发的新项目时，我们总是要求访问代码库，以便我们可以检查代码本身。在这种情况下，这是一个非常好的决定。由于他的项目的代码审查，这也是他要求的，我们发现我们的代码库希望给我们一个机会来添加新的页面，而不破坏应用程序的一些现有流程。此外，我们希望能够为这项“简单”的工作提供一个粗略的估计。代码评审的重点是后端和前端，它们对整个产品的可伸缩性和功能性做出响应。

客户端检测到几个**关键错误，例如:**

*   主项目代码由一次提交填充，因此没有变更的历史，当向项目添加新的开发人员时，这可能是一个棘手的情况；

*   不良提交的命名没有响应所做的更改；

*   没有自述文件，项目中的依赖项也不存在；

*   服务器上没有环境(通常，您至少需要两个环境:dev 和 prod)；意味着所有访问都在一个文件中；

*   访问第三方服务的安全性受到侵犯。因此，在 Git 下存储这样的访问可能充满数据泄漏；

*   API 文档也不见了。所以，代码的开发和维护很难做；

*   代码质量受到旧版本代码编写的负面影响。

此外，**谷歌速度**验证显示可怕的结果。网页从 100 分中被优化为 0 分，这意味着网页根本没有被优化，并且额外的 2 页开发试图推广服务的请求实际上不会提供预期的结果。因此，客户对这样的结果不满意，并且可以清楚地看到网站在 Google 排名中失败的原因。

事实上，我们总是使用复杂的方法，以便了解客户的需求，更重要的是了解他的“痛点”。这种模式使我们能够找到应对特定挑战的最完美的解决方案。

关于上述案例，我们的团队遵循了代码审查最佳实践，这就是为什么发现了大量的**弱点**:

*   应用程序的架构不符合 Angular style guide 的要求。因此，该应用程序没有划分成模块，而角形组件过大。代码库不可伸缩。

*   RxJS 流概念的不正确使用是潜在内存泄漏的原因(由于缺少流的取消订阅可能会显著影响应用性能)。

*   由于应用程序状态管理不佳，应用程序中的所有数据都由本地存储组件处理。同时，本地存储本身并不打算存储应用程序状态。因此，可能存在安全性和性能问题。

*   生产模式下的应用程序大小可以而且应该减少，因为示例延迟加载没有实现。此外，修复谷歌审计问题可能会对性能改善产生相当好的影响，特别是在移动设备的情况下。

*   基本上，大约 90%(是的，你没听错)的单元测试都失败了。

如你所见，如果你想发布一个可靠的产品，做代码审查是必要的。如上所述，客户可能会要求您进行代码审查。然而，我们建议您在每次有项目时进行自己的代码审查。随后，它将消除可能的错误，模型将被标准化，修改产品或修复错误将变得更加容易。

## 我们的解决方案经过代码审核

作为我们案例研究的继续，我们将分享我们解决上述问题的方法。

为了改善**性能问题**，增加了两个之前没有使用的额外库(jQuery 和 angular2-moment)。此外，为了获得更好的性能，使用了延迟加载。更准确地说，用户不会在应用引导中加载所有的库，而是在必要的页面上“按需”加载。这有助于减少应用程序的初始大小。考虑到存储应用程序数据可能会削弱性能和安全性，所以使用了为其设计的 javascript 库，如 NGXS、NGRX。他们使用 REDUX 模式，允许灵活方便的数据管理。

**架构问题**通过为每个页面创建一个自己的模块来消除(以前没有模块划分)。没有共享的核心模块，这使得代码更难阅读，可扩展性更差。根据<u>[Angular best practices](https://2muchcoffee.com/solutions-for-startups/angular-project-development)</u>，最好在共享模块中声明组件、指令和管道，并将实例将在整个应用程序中共享的单体服务放在核心模块中。

开发团队决定使用 CSS 来简化和减少代码大小。此外，DRY(不要重复自己)原则和许多 ts-lint 错误在整个项目中得到了修正。该项目包含大量没有说明或待办事项的注释掉的代码。这在开发阶段是允许的，但是应该在完成的组件中删除。

事实上，编码风格不符合 **Angular** 和 Typescript 风格。 **RxJS 问题**在整个项目中观察到缺少流的取消订阅，因此，订阅在内存中累积。这直接导致了额外的资源消耗和浮动错误。客户提出的另一个糟糕的解决方案是在 subscribe 中使用 subscribe，因为 RxJS 中有许多选项可以避免这种情况。即开关映射操作员。在应用反应式编程模式(实际上是 RxJS)时，这被认为是一个典型的错误，会导致不受控制的浮动错误和过多的内存泄漏。

## 结论

在为你的新产品开发雇佣开发团队或自由职业者时，你决定了你未来项目的成败。从一开始就雇佣正确的开发团队将使你免除从外部要求代码审查的义务。

你需要从一开始就选择熟练的开发人员，因为在产品开发过程中更换开发人员有很大的风险。因此，**聘请专业开发人员的规则相当简单**:不要遵循“买便宜的，买两次”的说法；检查未来候选人的投资组合，并测试他们早期开发的产品；关注面试过程；向以前的客户询问联系方式，这样你就可以询问开发人员的任务范围和职业道德。

在我们的个人经验中，当客户要求我们完成已经开始的代码，或者故意要求团队审查代码，指出产品功能和可伸缩性的错误时，我们会遇到不同的情况。在这两种情况下，实践表明代码库包含了广泛的错误，从而影响了流畅的产品体验。根据我们的方法，我们总是要求访问代码库，以便进行审查，是否完成编码过程或按照客户的任务检查代码库。代码审查允许对情况有一个全面的了解，更不用说找出代码中可能的错误。

此外，我们建议**客户和开发团队或自由职业者之间的健康合作是建议开发人员进行代码审查，客户提供详细的规范**。这些组成部分是有效和专业的产品开发方法的基础。

喜欢吗？我们已经尽力了！去我们的 <u>[博客](https://2muchcoffee.com/blog/)</u> 找更多有用的文章。