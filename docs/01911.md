# JSON Web 令牌(JWT)与 SessionID🔐？两分钟内解释完毕

> 原文:[https://dev . to/getd/JSON-we B- tokens-jwt-vs-session id-explained-in-2-mins-1 mcn](https://dev.to/getd/json-web-tokens-jwt-vs-sessionid-explained-in-2-mins-1mcn)

就像任何其他“令牌”一样，JSON Web 令牌(JWT)是一种秘密形式，用于认证(你是谁)和授权(你能做什么)。类似地，SessionID 也可以用于身份验证和授权。

# [](#whats-the-difference)有什么区别？

关键的区别是 jwt 是独立的，而 SessionIDs 不是。

一个 JWT 包含三个部分:`<header, payload, signature>`。我不会深入细节，但基本上`payload`包含用户是谁以及他/她能做什么，而`signature`验证令牌是否有效。因此，当服务器收到 JWT 时，它已经可以直接从令牌中检索所有信息，即自包含的。

相比之下，SessionID 仅仅是一个长的、唯一的随机字符串。本身没有用户信息。当服务器收到一个 SessionID 时，它需要做额外的工作来找出它属于哪个用户，然后知道她/他可以做什么。这项额外的工作通常需要查找数据库。

从另一个角度来看，JWT 是一个驾照(证明用户是谁，他/她能做什么，开车)，而 SessionID 是一个信用卡(只是一个链接到银行账户的随机数字，每次交易都需要一个读卡器来与银行对话)。

# [](#why-jwt)为什么是 JWT？

多年来，互联网在 SessionIDs 方面做得很好。即使在今天，大多数网站仍然使用 SessionIDs。但是，在需要处理大量 http 请求的后端系统中，需要对每个请求中包含的每个 SessionID 进行数据库查找，这是非常昂贵的，因为这会增加延迟并降低吞吐量。

这对 JWT 来说不是问题，因为它是独立的。服务器可以简单地从 JWT 读取 JSON 负载，而不需要进行任何数据库查询。

# [](#nice-why-not-jwt-everything-then)好看！为什么不是 JWT 的一切呢？

首先，JWT 要求您正确地存储和分发用于签署和验证 jwt 的私有/公共密钥。密钥管理很难做好，尤其是在大规模分布式系统中。

其次，由于 JWT 是独立的，所以没有办法撤销 JWT 令牌。与可以简单地从数据库中删除的 SessionID 不同，jwt 不存储在数据库中，所以一旦创建，它就一直有效，直到过期。这就好比信用卡很容易被更换，但驾照一旦发放，在哪里都有效。

最后但同样重要的是，因为 JWT 不能被撤销，我们倾向于给它们更短的到期时间，这要求用户更频繁地重新获取新的 JWT。有一个使用刷新令牌的选项，但是与客户端只需要存储一个简单字符串的 SessionIDs 相比，这会增加客户端的复杂性。

# 那么，我应该在我的下一个项目中使用 JWT 吗？

大概不会。SessionIDs 应该工作正常:)