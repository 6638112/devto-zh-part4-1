# 2019 年写终端应用

> 原文：<https://dev.to/aspenjames/writing-a-terminal-application-in-2019-2hf6>

我正在构建一个在终端内部运行的应用程序！这将是一个博客系列，记录了当我们大多数人生活在功能丰富的图形用户界面中时，我的过程、奋斗、胜利和这样做的动机。

## GUI 有什么不好？

GUI(图形用户界面)没有什么“错误”。这些是我们最近(很可能)最熟悉的交互应用类型。例如，你阅读这篇文章时可能使用的浏览器(除非你使用 lynx、w3m 或其他终端浏览器客户端)，你的开发环境(如果你使用的是像 [Atom](//atom.io) 或 [VS Code](//code.visualstudio.com) 这样的工具)，照片编辑器，视频编辑程序等等。这些应用程序在它们自己的窗口中运行，具有完整、丰富的图形、颜色和交互性。

那么，我为什么要创建一个 TUI(文本/终端用户界面)应用程序呢？简而言之，我想。完全基于 shell 中的文本运行的应用程序有很多好处——可移植性、速度和大大降低的系统资源。大多数现代浏览器使用天文数字的 RAM，根据它们正在做的事情，也可能占用你的 CPU。你对“天文数字的内存”的定义可能与我不同，但是没有人能否认他们的浏览器经常是内存饥渴的。我也很看重线下运行的东西。除了不需要连接到互联网就能运行之外，它也不会受到任何与互联网连接的应用程序所存在的安全威胁的影响。

我也重视数据保护。我认为，用户的数据是他们自己的，他们应该拥有并控制这些数据。许多人要么不同意，要么不关心，但在这个世界上，软件用户在如何收集和使用他们的数据方面几乎没有权力，我非常重视能够拥有和控制自己的数据。使用我的应用程序时，您的数据将保存在您的机器上。你拥有它，它就是你的，我看不见(也不能)碰它。我觉得那很美。

## 我在做什么？

我的目标是做一个看板管理器的简化版本——类似于 Trello。这些工具对于计划和组织项目工作非常有用，对于管理软件项目尤其有用。我喜欢使用它们，但我能找到的所有东西都是联网的。其中大多数(像 Trello)是专有应用程序，我不知道我的数据在哪里，谁拥有它，以及它是如何被使用的。偶尔有一些方法可以找到这些信息，但是这些方法可能会很复杂和繁琐。当我试图计划我的项目时，复杂和乏味不是我所看重的东西。

有一些免费的开源解决方案，其中许多都允许您设置、配置和拥有自己的服务器实例。Taiga 是我最近一直在使用和享受的一种选择。但是，即使在创建自己的服务器时，您也需要连接才能运行这个应用程序——要么通过互联网连接到托管服务器实例，要么在您自己的本地机器上。这两种都不理想，因为它们要么是联网的，要么是内存不足。如果我同时运行一个服务器**和**一个浏览器实例来连接到所述服务器，我几乎没有解决任何问题，并且使用了比以前更多的 RAM。

## 工具

我选择使用 Ruby 的[诅咒库](https://rubygems.org/gems/curses/versions/1.3.1)。我选择 [Ruby](https://www.ruby-lang.org/en/) 是因为我喜欢它，它是一门很棒的语言。我的学生也在使用 Ruby 构建他们的命令行应用程序，所以我想以类似的方式使用类似的技术构建一个项目。我选择了 Curses，因为有很多我使用并且喜欢的应用程序使用了 Curses 或者 [ncurses](https://www.gnu.org/software/ncurses/ncurses.html) 。

Ncurses 是一种软件，它允许终端应用程序拥有更高级的界面和功能，是现代 GUI 环境的先驱。这是对早期 BSD Curses 实现的改进(现在已被否决)。它支持创建子窗口，窗体，创建可滚动菜单，颜色，高亮显示，以及许多其他功能。

## 当前的斗争

在投入这个项目之前，我从未使用过诅咒。Curses 库现有的 [Ruby 文档](https://www.rubydoc.info/gems/curses)似乎假定读者已经熟悉 Curses 的 C 实现，因为它或多或少是一系列方法和签名。这使得发现特性和了解库的能力/限制变得困难。我从另一个友好的开发者那里找到了[这个教程](https://stac47.github.io/ruby/curses/tutorial/2014/01/21/ruby-and-curses-tutorial.html)，它对我的起步非常有帮助。

除此之外，我一直在寻找用 C 语言编写的程序的例子，做我想做的事情，阅读并理解它们(尽我所能，除了粗略的理解，我对 C 语言一无所知)，并试图将这些特性与 Ruby 文档中可用的方法相匹配。这是一个相当缓慢的过程，发现需要一段时间，但它一直在工作！在这个博客系列中，我的目标将是阐明 Ruby Curses 库的一些不同特性，并希望用 Ruby 编写 rad 终端应用程序不再那么令人生畏。

## 给我看看代码！

在写这篇文章的时候(2019 年 6 月 6 日)，这个应用程序非常简单。它位于 GitHub 的[上，以](https://github.com/aspenjames/tknbn) [GNUGPL v.3](https://www.gnu.org/licenses/gpl-3.0.en.html) 获得许可，因此你(或多或少)可以自由使用它。叉它，改进它，重新分发它，阅读它，复制它，等等。

我现在的工作大部分在`curses-playground`分部，顾名思义就是游乐场。我留下一些描述性的评论，但它远没有结构化或干燥。一旦我得到一个 MVP，我将重组并重写到`master`上。这是理想的吗？不。对我有用吗？是的。你应该这样编程吗？由你决定！

我选择了一个空间来存放代码和玩库，因为这是我学习最好的方式。我喜欢打破常规，找出局限性，写一些草率的代码，然后再清理干净。它真的帮助我永远摆脱阅读，真正开始建设一些东西，但这可能不是每个人的理想之路。我对听取其他人的工作流程感兴趣，我对任何人对我自己的看法都不感兴趣。做让自己开心的事！