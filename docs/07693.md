# 用叛逆的方式破坏你的软件

> [https://dev . to/lobo weissman/腐烂-你的软件-com-rebellita-5eb 2](https://dev.to/loboweissmann/apodrecendo-seu-software-com-rebeldia-5eb2)

我们很少会遇到专为高效而设计的系统。那为什么我们看到的项目是永恒的，在利益相关者的眼前迅速腐烂？

我在 itexto 进行了一项内部调查我们列出了导致系统性能下降的因素。上面有一种行为，在这篇帖子里，我亲切地称之为“反叛”。

## 一个三幕的故事

每个软件都有自己的历史，我怀疑在这个问题上有很少的差异。遵循一个共同的原则-我...。

### 第一幕:家庭环境的幸福

设计系统时，系统的所有元素都是已知的。体系结构很清楚:您知道应该采用哪些技术和工具，以及为什么它们能够很好地适应这种情况。人造人掌握(或至少喜欢)他们的工具，先雕刻他们的系统。

在编写大部分测试时，生成和维护关键文档并不罕见。第一个版本可能有点问题，但从第二个版本开始，最初的问题已经占主导地位(或至少是已知的)，您可以看到连续成功的部署。

家庭团结一致的目标是**在设计上采用的限制条件下，尽可能最好地发展那种制度。制约因素这些因素包括采用的开发工具，**框架，**建筑标准和惯例，即使没有很好的记载(如果有记载的话)，也是那种熟悉环境日常生活的一部分。**

 **### 第二幕:家庭(和世界)正在改变

[![](../Images/1ca2d969db074ffdc74ef10b72d31b05.png)T2】](https://res.cloudinary.com/practicaldev/image/fetch/s--CRgZTfS3--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.itexto.com.br/devkico/wp-content/uploads/2019/08/2-goethe_werther.jpg)

家庭结构永远不会永恒:成员们退出并进入团队，原参与者随着时间的推移而疏远。以前在家里受保护的王子终于与外界有了第一次接触。

新成员，新想法(总是好的！页:1。人们看着我们的王子质疑他的本性。真的应该这样吗？为什么会这样？

### 第三幕:叛乱与死亡

[![](../Images/6fa70c9d0935d51a7dad6b59b4ad7ab4.png)T2】](https://res.cloudinary.com/practicaldev/image/fetch/s--_fAGum_X--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.itexto.com.br/devkico/wp-content/uploads/2019/08/werther.jpg)

我们英雄的新朋友开始质疑他的本性。*还-我...。你是 Java 制造的吗？？？但 Python 是如此的酷-我...。数据科学是用 Python 做的...我...时尚的东西都是在 Node 做的-我...。PHP？PHP？？？哦，天啊*。

我们曾经如此美丽的英雄突然显得病态、过时。但并不是所有的东西都丢了:你的新家人和朋友都在这里让你重生。只要改变它的性质，即它的架构、框架、开发工具-我...。摘要:**改写这一交易！**

**但改写是不可行的-我...。**

问题解决了:*“为什么不用我们有的，而是用别的方式？”*

颠复现有资源的使用。*没关系:它是在 x 框架中完成的，但我们可以在同一 x 框架中编写新功能，就像它是 y 一样！不，更好的是:为什么不在这种不支持的语言中使用功能范式呢？等等，为什么只有一个关系数据库？？？我们要把一个 NoSQL 放在中间这样我们就可以更好地扩展了！*

不是所有的朋友都这么想:也有抑郁症。他们利用现有的知识开发新功能。*为什么要深入研究这些不在外面使用的技术呢？我自己很快就要离开这里了-我...。去他妈的，我要写我怎么知道我要去自首去他妈的那些创造了这个怪物的混蛋...我...*

堕落在每个人的眼里都是显而易见的。她每天都在长大-我...。一些朋友离开城市，另一些人进入班级，更多的新想法，更多的解决方案-我...。

我们的英雄变得更糟了。原来的家人已经不在了，只有新朋友，注视着他们日渐衰微。

[![](../Images/a7c1770873ecf2b9d2fe92256cba4eb7.png)T2】](https://res.cloudinary.com/practicaldev/image/fetch/s--jRwf5iTK--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.itexto.com.br/devkico/wp-content/uploads/2019/08/sorrows4.jpg)

我们的英雄死了。维护它的费用比你重写的要高。而且，如果利益相关者幸运(金钱)，他们至少可以尝试重新开始(并且循环重复)。

你看过这个故事吗？我是:多次。现在我们把书合上，开始练习吧。

## 总有一个框架

<figure>[![](../Images/275e190445fed5328f110629fd6c0d6b.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--dOk4DRH7--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.itexto.com.br/devkico/wp-content/uploads/2018/06/moldura.jpg) 

<figcaption>这是一个框架</figcaption>

</figure>

一段时间前，我在本博客上从完全面向软件构建的角度阐述了我对框架的定义(点击[此处](https://www.itexto.com.br/devkico/?p=2760)。今天我将扩大这一概念。我今天要如何定义一个框架？此时，将其定义为-我...。

> 框架是游戏规则。
> 
> <cite>Weissmann, Henrique Lobo</cite>

我在那篇文章里所说的一切都没有改变，只是现在我指的是更广泛的背景。例如，框架定义了该系统的体系结构。想象一下一个简单的 web 系统，它由两个驱动器组成:以角编写的前端和提供 API 的后端。此处有一个框架，即必须遵循的规则:

*   通信协议为 HTTP(S)或 Websocket。
*   页面将呈现为 HTML。
*   前端未定义深层业务规则。
*   我知道我的后端提供了哪些端点。
*   可以将我的后端部署到任何支持使用 HTTP 或 websocket 进行交互的位置。

这里很明显是一个框架:规则很清楚，所以你知道如何与系统互动。每个人都知道零件(和哪些零件)应该放在哪里。

框架还定义了团队的互动方式。系统不仅是代码，也是团队成员之间的互动。我们要遵守一些规则吗？

*   是否适用某种方法或做法(TDD、XP、Scrum 等)。
*   定义
*   交货项目验证程序。
*   如何管理与团队成员的活动和角色相关的项目。

最近我们看到了一个相当有趣的叛乱案件。给利益相关者留下了很好的第一印象，很快就显现出相当苦涩的感觉。

前端开发人员希望生成 PDF 格式的报告(现在只能使用浏览器功能)。他知道 JavaScript，知道 Node 可以使用本地库完成此操作。但我不想把这些图书馆放在前端。解决方案是什么？简单:在 Node.js 中实现了生成文件的秘密 API。很聪明的解决方案，对吧？第一次是成功的。有什么问题吗？

很多东西:随着时间的推移，系统中产生了一套“秘密”API。Endpoints(结束点)没有任何文档，但后来发现甚至实现了一些必须随后转移到主 API 的深层业务规则。一种表现出虚假美的小叛逆行为，最终导致了中期制度的“t0”。

**框架是官僚式的**，其含义是界定要遵循的标准。**官僚主义**这个词听起来对很多人来说都是不好的，但实际上对秩序是必不可少的。

## 叛乱什么时候有效？

读这篇文章你一定觉得我是世界上最无情的人吧？我保证不是这样。我一直相信(和激励)在情景中的反叛行为，但有一点不同:**要想成为反叛者，了解反叛者**是很重要的。

<figure>[![](../Images/56bc5b17647e7494e25c45435585bea6.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--4uLngE0A--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.itexto.com.br/devkico/wp-content/uploads/2019/08/James_Dean_in_Rebel_Without_a_Cause.jpg) 

<figcaption>周围有很多“詹姆斯·迪恩”-我...。
</figcaption>

</figure>

最大的问题是，在我发现的绝大多数反叛行为中，对目前的框架没有深入的分析。我遇到的“反叛”的主要原因与现实毫无关系。下面是一个列表:

*   这个人想和另一种技术合作。
*   人们认为那套技术过时了。
*   那个人懒惰，不愿学习生意，为什么打算马上离开球队。
*   “为什么会这样呢”(那里有很多女人)。
*   你不小心变成了一个反叛者，简直对你现在的工作毫无热情。这是悲伤和不连贯的，但它确实发生了。
*   为什么不诚实地说重写是最有趣的方法(我很少见到这种情况)，就可以从中获利恐怖。

不，如果要造反的话，那就是有充分根据的‘t0’。例如，如果要更换 web 框架，我们需要很好的理由(因为这通常需要重写系统的大部分内容)。需要回答以下问题:

*   为什么要改变？(对每个人重复此问题至少三次)
*   我们得到了什么？
*   利益相关者能从中得到什么？
*   换什么？
*   这次交易的风险和代价是什么？
*   利润能证明风险吗？
*   除了你之外还有其他人能搞定吗？
*   你有别的选择吗？
*   等等，等等-我...。

没有原因的反叛者只是在电影院很酷。如果你在这些方面是开发商和无正当理由的反叛者，我会告诉你:你是不负责任的(一个孩子)，为什么你不会像项目的利益相关者一样遭受如此重大的后果呢？

只有当利益证明风险是合理的时，反叛才是正当的。如果命运是短暂的，那么“创新”是没有用的。

## 一个人

是的，这很简单，在这种情况下，我们有很多成功的例子。解决方案是什么？来吧:了解产生系统的框架(游戏规则)。

当我说“明白”时，我是说**真正理解**，怀着善意。抛开自我意识，明白定义游戏规则的人可能比你更了解游戏。

(在 itexto 中，我们最近在 JSF 中取得了一些项目。我上次接触技术是 10 年前(或更长时间)，几乎什么都不记得了。更糟的是，我们买的关于它的书简直就是一部恶心。解决方案是什么？我们自己写了一本关于科技的书，终有一天会免费提供给大众，并以此作为掌握科技的主要动力之一。)

而且，在了解了此框架之后，请验证它是否适用于当前的客户情况(90%的情况下，我们看到它适用)。那就是纠正扭曲，即从框架的预期功能中取出所有漏出来的东西，放入轨道。

(**提示**:如果知道框架，就很容易发现不遵守框架的地方。他们把**从其馀部分清晰地突出**

<figure>[![](../Images/702a3436a90a3d35139f75b69df1c3be.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--W9ClQ6Nd--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.itexto.com.br/devkico/wp-content/uploads/2019/08/034221_Ampliada.jpg) 

<figcaption>你有没有想过为什么这么多框架喜欢在名称中有“轨道”这个词？</figcaption>

</figure>

通常，为了提供功能(或维护)，开发人员会采用一种与框架预期的工作方式相冲突的解决方案。当然，这会导致许多性能问题、意外行为等等。通过简单地应用“框架”标准，我们能够以非常低的成本解决大约 90%的问题，真是令人惊讶。

## 结束了吗？

在我们正在整理的问题列表中，毫无疑问，这是其中一个位于顶部(可能是最大的损坏原因)。还有其他原因，但没有这种侵略性。

那我该如何用几句话来描述这种行为呢-我...。我知道了：

> 无正当理由的反叛:团队在没有合理理由的情况下违反系统游戏规则的行为。
> 
> <cite>Weissmann, Henrique Lobo</cite>

最可怕的是，我们都可能毫无理由地成为反叛者，甚至没有意识到这一点。保持警惕很重要。

PS:还有其他的行为，我会在这个部落格上描述，请稍候！**