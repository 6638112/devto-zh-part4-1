# PaaS 的优势

> 原文：<https://dev.to/heroku/the-paas-advantage-26kk>

我最近一直在思考现代应用程序是如何开发和部署的。我在这方面的很多经验来自于在大公司工作过，在早期创业公司工作过，只是在自己的时间里尝试做一些愚蠢的项目。

许多年前，当我在较大的组织工作时，有一个严格的发布工作流程:你在一个约定的截止日期前签入你的代码、文档和资产——类似于太平洋标准时间周二晚上 11 点。然后，所有这些都被打包，并由一个运营团队发布给全世界，该团队的唯一职责是确保一切顺利进行。如果部署中存在基础设施问题，发布经理会与运营团队合作解决。例如，如果生产中存在一些复制延迟，运营团队需要调查所有每周更改中的哪个补丁导致了该问题并修复它。显然，这是不公平的，也是不理想的。作为一名开发应用程序的开发人员，我对运营团队处理的内容一无所知。我不知道他们承受了多少压力，也不知道他们的角色是如何从数百个可能引入问题的变更列表中找出问题。回过头来看，这完全是错误的:如果开发人员知道运营团队在处理什么，我们可能会同意更多的所有权和责任，以避免在一开始就引入问题。这些基础设施问题有时是由没有完全掌握底层系统如何工作的代码引起的，从某种意义上说，这个问题是由组织层次结构抽象出来的。

在我为几家初创公司工作期间，代码和基础设施正确运行的责任被分配给了从事产品工作的每个人。如果在部署时，数据库出现问题，或者存储空间耗尽，或者由于意外行为导致超时增加，没有人会救你。这是你的改变，也是你要解决的。这是一个巨大的学习机会，也是我非常感激的一个机会，但是它在相反的方向上摇摆得太远了。现在，除了构建功能之外，我还负责控制底层的服务器行为。虽然开发人员应该掌握他们的代码在生产中的行为，以减轻性能和资源问题，但我不认为这是对应用程序开发人员时间的最佳利用，他们需要不断地钻研这些操作细节。

在我的个人项目中，我努力建立我的应用程序所需要的现代服务。为了在一个普通的基础设施即服务模型上建立一个 Rails 站点，人们需要熟悉他们的 Ubuntu 基础映像上可用的包，了解如何将他们的 nginx 服务器映射到他们的域，设置当服务器启动时启动的服务，并保护所有这些服务。这导致了太多的精神负担。我的意思是，这是可以做到的，但是要花几个小时和几十篇由不同作者在不同年份写的过时的帮助文章才能搞清楚。一旦设置正确，如何处理持续的部署就是一项永无止境的任务。事实证明，建立它们实际上是相当复杂的。例如，我应该使用哪个部署工具呢？[卡皮斯特拉诺](https://capistranorb.com/)还是一个不错的选择吗？我听说过关于[米娜](https://github.com/mina-deploy/mina)的好消息，这是新的和其他需要学习的东西。如果我决定用 Node 编写我的下一个项目，我将需要学习和配置一个全新的工具，比如 [PM2](http://pm2.keymetrics.io/docs/tutorials/capistrano-like-deployments) 。如果尽管困难重重，这个项目还是成功了呢？突然，我需要考虑适当的资源来进行扩展、负载平衡请求，并且可能引入新的依赖项，比如 Redis 来进行缓存。

## 知道自己需要什么(并忘掉其余的)

近年来，有一种将 DevOps 作为一种方法的转变。简而言之，DevOps 意味着将长期确立的原则应用到您的基础设施设置中，例如编写测试或使用版本控制。您可以自动化您的应用程序所需的资源、服务和网络要素，如果出现问题就回滚它们，或者在 pull 请求中与其他人讨论它们，就像任何其他代码一样。例如，DevOps 工作流提倡您的更改包括测试您的代码如何为最终用户和在您的基础设施上运行。

然而，要达到运营管理的熟练程度，有一个巨大的学习曲线。您可能会发现，您花在调整配置文件上的时间比实际编写应用程序代码的时间还多。DevOps 倾向于将开发应用程序的角色与运行其基础设施的角色混为一谈；作为一名开发人员，您必须知道如何规划、构建和满足您用户的需求，*以及*知道如何设计、设置和扩展服务器的需求。没有人会认为后端 Ruby 开发人员也精通前端 CSS 和 JavaScript，但这或多或少是过分强调服务器管理的结果。

我相信 DevOps *是*一个伟大的想法——对于那些规模巨大的公司来说。我说的是谷歌/网飞/脸书规模，每秒接收数百万个请求的应用程序，它们拥有自己的数据中心(或者至少，关键依赖于专用服务器)。他们的操作设置中的错误或低效可能会在瞬间影响成千上万的人，因此他们依靠减少错误可能性的技术是有意义的。

作为一名应用程序开发人员，我不想考虑供应服务器和 CPU 或调整流程和部署。一个项目是只有我或我和一群朋友，还是我和整个组织，这并不重要。我们主要关心的——坦率地说，我们的主要兴趣——是建造人们使用的东西。

## 简单更容易

对于我们其余的人来说，真的没有必要让构建人们使用的东西的责任变得比现在更复杂。部署到平台即服务将承担维护运营的重任，并将其交给专家，他们的唯一职责是保持您的站点正常运行。虽然 PaaS 模式往往比 DIY 基础设施即服务模式更昂贵，但代价是您不会向工程师支付费用来微调您的网络，您的应用程序开发人员也不会在发展您的业务的功能和管理应用程序的底层服务之间转换他们的重点。

不仅减轻了认知超载，像 Heroku(用于完整的应用程序)、Zeit(用于更简单的微服务)或 Netlify(用于静态站点)这样的平台也更容易使用。与其学习一种新的配置语言或者将 Unix 命令串在一起，您可以通过`git push`以更快的连续部署周期工作，而不用担心在多次迭代中使站点上线的细节。如果一项新功能依赖于一项新服务，您可以通过一个简单的命令行序列将它附加到应用程序上，就像`addons kafka:standard-1`一样简单，并且知道为您提供了最佳实践，您就放心了。随着网站的增长，你只需拖动管理页面上的滑块来处理任何缩放问题。即使由于代码更改而引入了基础设施问题，您也可以在修复应用程序时通过 PaaSes UI 临时调整基础设施。

随着网络的发展，它变得越来越复杂，多年来，社区一直在开发满足他们复杂需求的工具。我认为应用程序开发人员最好后退一步，问问他们试图解决什么问题，然后选择一种开发策略，以尽可能简单的方式解决这些问题。掌控您的基础架构和运营管理对于您的应用程序和组织来说很可能是必不可少的，但如果不是，那么最好专注于重要的事情—提供您的用户需要的功能。