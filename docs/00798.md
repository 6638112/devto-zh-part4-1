# cron job-Expressions(Azure 中的自动化任务)

> 原文:[https://dev . to/andreasjakof/cron job-expressions-automate-tasks-in-azure-2j 80](https://dev.to/andreasjakof/cronjob-expressions-automate-tasks-in-azure-2j80)

这篇文章主要是让我记住它，并在我需要的时候查阅它，但是我希望，你也会发现它很有用。

有任务，一遍又一遍的重复运行。最常见的一种可能是数据库的清理工作。

我个人更喜欢事件，当事情发生时，但有时你没有事件，也就是说，当你需要按计划运行任务时。

在 Azure 中，你基本上有两个选择来执行它们:

1.  Azure WebJobs
2.  Azure 函数

前者作为 WebApp 的一部分运行，只要需要。第二个“无服务器”运行最长 10 分钟。

然而，两者都将 CronJob 表达式作为它们的调度信息。这里有一些关于这些的信息。

CronJob-Expression 是一个主要由数字和一些文字组成的字符串，以下列格式描述 cron 作业的执行时间/间隔:

`second` `minute` `hour` `day` `month`

这些数据条目中的每一个都将创建一组对执行时间的限制，并且结果将是所有这些集合的组合。

规则是:

1.  没有空集。如果不想让它运行，就不要安排它。
2.  `,`用于列出单个数据条目，例如 1、5、7、35
3.  `-`用于列出包含的范围，例如 1-5 = 1，2，3，4，5
4.  `*`用于将值设置为“任意”。
5.  `/`设置重复发生的时间间隔。*没有重复发生的列表或范围。*
6.  文字`MON`、`TUE`、`WED`、`THU`、`FRI`、`SAT`、`SUN`可以用于一周中的某一天。*使用文字时，没有范围。用 0-6 代替，从 SUN = 0 开始。*

让我们看一些例子:

| 表示 | 描述 |
| --- | --- |
| 0 * * * * * | 每一分钟 |
| 0 1/2 * * * * | 每隔一分钟 |
| */1 * * * * * | 每秒钟 |
| 0 0 * * * * | 每小时 |
| 0 0 0 * * * | 每天 |
| 0 30 11 * * * | 每天 11 点 30 分 |
| 0 0 5-10 * * * | 每小时 5 点到 10 点之间 |
| 0 0 0 * *星期六 | 每个星期六 |
| 0 0 0 * * 6 | 每个星期六 |
| 0 0 0 * * 1-5 | 每个工作日(周一至周五) |
| 0 0 0 * *星期六，孙 | 每个星期六和星期天 |
| 0 0 0 1 1 * | 每年 1 月 1 日 |
| 0 0 0 1-7 *星期六 | 每月第一个星期六的 00:00:00 |

让我们仔细看看其中的一些:
`0 1/2 * * * *` :
秒仅在整分钟时为`0` - >。
第一次执行时，分钟必须是`1`，之后每隔一分钟`/2`。
所有其他条目可以有任何值- >每天每小时。它每隔奇数分钟运行一次。

`*/1 * * * * *` :
这也可以写成`* * * * * *`，每秒执行一次，直到停止。

那个更有趣一点。
它只在午夜分泌，因为描述一天时间的部分都被设置为零。执行也仅限于每月 1 日至 7 日(第一周)和星期六。换句话说，它将在每个月第一周的每个星期六的午夜执行。

在 Azure 中安排时间时请记住，时间是以 UTC 给出的。