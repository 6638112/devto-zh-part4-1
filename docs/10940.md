# 世博会三个月后的印象

> 原文：<https://dev.to/dcefram/impressions-on-expo-after-three-months-pa5>

在使用 [expo](https://expo.io) 进行了三个月的 MVP 开发之后，我想分享一些关于我使用*管理的工作流*的经验反馈。请注意，在这个项目之前，我在 react native 的经验仅仅是两年前在 T4 研发的一个月。

## 这是对移动的反应

由于我们在 web 应用程序的大部分前端使用 React，我们认为 React Native 将是最佳选择，因为它对现有员工的“进入壁垒”较少，因为我们已经熟悉 React 的语法、概念和工具。

这几乎是真的，因为组件生命周期的规则仍然完好无损。然而，这确实需要一段时间来适应，因为 React Native 中没有 DOM。我早就料到了，但是需要一些时间来调整的是 flex boxes 的行为。这应该比在浏览器中更容易，但是我必须指出，我发现的最惊人的行为是，如果父视图有指定的高度，或者也有`flex: n`，那么使用`flex: 1`只能“如你所料”地工作。该规则级联到最父视图。

React 本地开发的另一个痛点是缺乏开发工具，比如 inspect 元素...当我试图解决一些只发生在 iOS 设备上的问题时(例如边框半径)，以及当系统字体大时。

CSS 类似于 JavaScript 中的 CSS，尽管每个组件都有自己的一组“有效的”样式属性。您必须主要参考文档，尽管可以肯定地说视图组件中的大多数样式属性都被其他组件使用。显然有一些特殊的情况，这就是为什么你大部分时间都要参考文档。

#### 结论

即使它是 JavaScript，仍然是 React，你仍然需要把你的移动应用程序开发帽子，因为大多数“生活质量”的开发工具可用于 web 前端开发，这里没有。

热重新加载虽然有效，但它很慢，有时可能会影响你的应用程序，你必须强制刷新它。因此，这里的经验法则是，在记下代码的同时，想象你头脑中的一切，就像你作为一个“典型的”系统工程师所做的那样，然后只保存以检查 UI 如何进行。

## 它帮助你快速创建漂亮的应用程序，但是...

React Native 扩展到 expo，确实有助于您的移动应用程序开发。然而，在 expo 中，您只能使用他们在 SDK 中公开的 API。

因此，如果你打算创建一个应用程序，要求你创建自己的*底层*功能，你必须退出 expo，或者从头开始使用 React Native。

您不能简单地创建自己的定制 Java 代码，然后将它与 expo 链接起来，以便在 React Native 中“使用”该定制代码。你需要`eject`才能`link`自定义原生代码。

#### 结论

如果你非常确定你所需要的是 expo SDK 提供的 API，这是非常丰富的，并且你所想的是在 SDK 的范围内创建好看的应用程序，那么 expo 可能是一个很好的工具集。

但是你必须记住，你不能使用`react-native link`。您不能链接本机代码。npm 中的一些 React 原生包要求您`link`，因为它们要么也包含一些原生代码，要么依赖于另一个要求您`link`的库。你不能利用这些包。

当我试图“标准化”iOS 和 Android 都使用的日期时间选择器时，这是一个痛苦。

## 你可以在 iOS 和 Android 上构建，但要注意一点

我们去 expo 的主要原因是因为我们是一个远程团队，公司提供给我的唯一一台笔记本电脑是一台 Windows 笔记本电脑，我清除了它以在其中安装 Linux。这意味着我无法在不打扰我们的项目经理或首席执行官的情况下构建 iOS 应用程序(因为在项目的前两个月，他们是唯一拥有 MAC 的人)。

Expo 允许您将构建过程卸载到他们的服务器上，他们可以为 Android 和 iOS 构建。

> 另一方面:你仍然需要一个苹果开发者账户来构建一个. IPA(iOS 版)包。你还需要一台装有 Xcode 的 Mac 来上传。IPA 至试飞

不过，对于免费的世博会账户，你必须意识到排队时间很长。我们仍然是免费的，因为我们还在**评估 it expo 是否是我们团队/公司的 togo 工具。作为开发者，我对此有一些发言权，我要说的是，缺乏`link` ing(如上一节所述)是**非常**的限制，所以这将是一个付费的世博会帐户不。**

#### 结论

尽管 expo 确实实现了选择 expo 在 linux 机器上构建 iOS 版本的主要原因；事实上，你仍然需要一台 mac 来推动构建。IPA 文件测试飞行中和博览会的优势。最后我还是买了自己的 Macbook。

## 它有一个非常漂亮的工具来启动移动应用程序

这是世博会唯一真正出色的领域。只需扫描一个二维码，或向同事发送一个链接，用**实时变化**来测试你的应用程序，这种能力非常令人兴奋。这就像将您自己的本地服务器共享给 QA 进行测试，他们可以实时看到他们的反馈...这在过去只有在 web 开发项目中才有可能(至少在主流中)。

#### 结论

这个特性是我真正欣赏的特性之一。然而，这并不意味着这在纯 React Native 中是不可能的。不过有一点是肯定的，expo 提供了这种开箱即用的功能，无需太多设置。

## 推荐导航库是 React 导航

[React Navigation](https://reactnavigation.org/) 是一个很棒的导航库，但是我们必须注意到一些缺点。随着我们开发的应用程序变得越来越大，我们注意到应用程序的性能下降了，当在屏幕之间切换时，性能问题非常明显。这是一个问题，你可以找到大量的信息，并建议解决方案，以改善体验。老实说，我很想使用我以前的同事建议的 [Wix 的 react 原生导航](https://github.com/wix/react-native-navigation)，因为他在未能将 React 导航优化到我们的 QA 在我以前的雇主那里可以接受的水平后，就改用了这种导航。

我没有深入研究过这个问题，但是我注意到当从屏幕切换时，组件没有卸载。我想*假设*这最终会导致性能问题，这取决于在给定时间内“安装”了多少个屏幕。

## 二进制大小

我列表中的最后一个缺点是二进制文件的大小。expo 的文档确实提到了这一点，以及为什么不使用 Expo 的托管工作流的其他原因。

最终的包将拥有整个 expo SDK，即使不是大部分，也有一些 API 没有在你的应用中使用。换句话说，你不能通过 expo 管理的包工作流程创建一个“精益”包。

### 其他

在进入 expo 之前，最好阅读 expo 的[列表，了解为什么不使用 expo 管理的工作流](https://docs.expo.io/versions/latest/introduction/why-not-expo/)。

## 最后的想法

虽然我欠 expo 很多才能在这么短的时间内完成 MVP，但我不会建议未来的移动应用项目这样做。缺乏`link` ing 是一件令人沮丧的事情，严重限制了你可以优化你的应用程序的程度。

事实上，我想测试一下 Flutter，因为我已经听到了关于它的好消息。