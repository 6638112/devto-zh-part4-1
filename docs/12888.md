# actix-web 和 OSS 社区的考验和磨难

> 原文：<https://dev.to/deciduously/the-trials-and-tribulations-of-actix-web-and-the-oss-community-53ee>

编辑:板条箱维护者现在已经合并了有问题的 PR，并承认对`unsafe`在 Rust 中的含义有理解上的差距。因此车轮转动了...

铁锈社区又一次对板条箱大动干戈。我不会重提这个问题——这里有煽动的[博客文章](https://64.github.io/actix/)，reddit 的[讨论，以及人们认为有问题的](https://www.reddit.com/r/rust/comments/ce09id/why_we_need_alternatives_to_actix/) [GitHub PR](https://github.com/actix/actix-web/pull/968) 讨论。

上一次，围绕`unsafe`被认为是漫不经心的用法，出现了一片哗然。人们审查了代码，发现这种用法在许多情况下是不必要的，于是打开 PRs，在不牺牲性能的情况下使用安全 Rust 重写这些部分。

这一次，最大的问题是未定义的行为。打开了一个 PR，它使用安全 Rust 重写了一些不安全的代码，并且作为副作用避免了一些潜在的 UB。PR 作者提供了一个该 PR 修复的 UB 的例子。

维护者选择不合并 PR。暗示地狱火。

现在，有些不协和音是铁锈特有的。维护者受到了所有这些指责，因为他做出的设计决策被认为与 Rust 是什么以及为什么人们选择 Rust 而不是现有替代品的核心原则不一致——即安全性。

然而，这似乎是一个更人性化的问题，而不是一个技术问题。机箱的作者和维护者——`actix-web`是*很大程度上是*一个人的工作——似乎并不太关心这个问题，也懒得去解决它。

这就引出了一个问题:`actix-web`属于谁？作为一个婴儿期的人工制品，坚固的、可用于生产的防锈板条箱的数量很少，在这一点上`actix-web`是其口径的*唯一的*选项，运行在稳定的防锈上。这种稀缺是否在社区中产生了一种人为的所有权感？或者这个维护者现在真的有责任审查和合并这个他个人不感兴趣的公共关系吗？

人们对这个维护者不愿意处理这个新发现的 UB 问题感到不快。但是维护者真的有义务这样做吗？是的，这个框架有很多明星和下载，但这并不意味着它不是这个人的项目。核心的 rust async 团队正在[开发他们自己的](https://github.com/rustasync/tide) web 框架，有了这个框架，我们就有了不同的对话。Rust 团队对质量有合理的期望。不过，在这里，作者已经决定他知道自己在做什么，并且可以使用`unsafe`编写正确的、高性能的代码，在这个应用程序的上下文中，UB 的这个实例不会打扰他。上次整个`unsafe`事件演变成尖酸刻薄的人身攻击后，他的冷淡也是可以理解的。我也会犹豫要不要听从一个看起来有毒且苛刻的社区的召唤，无偿地去解决一个我个人并不认为是问题的问题。

有什么解决办法？从不发布软件？如果我是这个维护者，我肯定会犹豫是否要再次这么做。永远不要依赖不受大型团队支持的软件？通常可行，但并不总是如此，尤其是在 Rust 这样一个新的、正在成长的生态系统中。

不管你对“铁锈之魂”有什么感觉，也不管软件*应该如何用它来构建*，不可否认的是`actix-web`是一款好软件。它快速易用，即使它看起来不像你用 Rust 编写的代码。但是，我不知道我使用的大多数库和框架的代码是什么样子的。你上一次打开类似 [`cairo`](https://cairographics.org/) 的东西是什么时候，这是一个广泛分发的基础软件。它的代码风格应该决定你是否将它添加到你的应用程序的依赖树中吗？

这是一个难题。我不认为有“答案”。在你选择的生态系统中，你如何处理这些情况？

赫耳墨斯·里维拉在 Unsplash 上拍摄的照片