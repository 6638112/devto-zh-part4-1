# 处理遗留代码——最终想法

> 原文：<https://dev.to/petermorlion/tackling-legacy-code-final-thoughts-3mlp>

这是我关于处理遗留代码的简短系列的第三部分，也是最后一部分。之前，我写过关于[通用编码技术](https://www.petermorlion.com/techniques-for-tackling-legacy-code/)，以及关于[组织和操作需求](http://www.petermorlion.com/techniques-for-tackling-legacy-code-parte-deux/)。

我想以一些最后的想法来结束我的发言。

## 技术不是问题

我们开发人员不禁对新技术充满热情:语言、框架、库、技术等等。但是通常情况下，遗留项目的问题不是所选择的技术或者它的年龄。相反，这是旧技术的使用方式。

如果你决定用更新的技术重写一个项目，几年后你将会有第二个遗留项目。如果你决定在旧的东西上贴上新的东西，丑陋的东西仍然会在那里。

新技术不会解决遗留代码、脆弱(或不存在)的测试、无人敢碰的代码的问题。

但是在镇上尝试新的闪亮的东西更容易也更有趣。所以许多开发人员倾向于重写。我明白，尝试新事物是令人兴奋的。然而，在使用公司时间和金钱时，不仅仅是个人偏好(尽管这并不重要)。

更重要的是，转换一个遗留项目比从头重写它要容易得多。不要低估旧应用程序中的知识量。

## 选择你的战斗

遗留代码库通常充满了让你沮丧的丑陋结构。注意不要一次处理太多的问题。先去摘那些容易摘到的果实(即不费吹灰之力，价值连城)，然后再去摘那些更难摘到的。一旦你开始处理更大的问题，解决更多的小问题会让事情变得更容易。

不要因为这意味着进度比你想要的慢而沮丧。如果你选择你的战斗，你将避免[熔岩层反模式](http://mikehadlow.blogspot.be/2014/12/the-lava-layer-anti-pattern.html)，并有更高的成功机会。

## 保持一致

当处理遗留代码库时，您总是会引入新的约定。也许有一个不标准的命名约定。也许有一个用于数据访问的 [God 对象](https://en.wikipedia.org/wiki/God_object),您希望将它分成多个存储库。不管是什么，试着在项目中保持一致。

一致性胜过你试图引入的任何新事物。您可能不认为新旧方式的结合令人困惑，但是它增加了开发人员为了理解正在发生的事情而需要付出的脑力劳动。

一致性也避免了上面提到的熔岩层反模式。你永远不知道，也许以后你会引入一个更好的惯例。

你可能无法一次引入一个新的惯例，给你一段时间让新旧方式并存。没关系。但是心中要有一个明确的目标和实现目标的路径。

## 好玩！

我确信许多项目可以被挽救和清理，使它们再次变得可维护和更稳定。我亲自做过几次，你从驯服那只丑陋的野兽中获得的满足感是惊人的。

顺便说一句，如果你在遗留项目上有困难，我是一名独立开发人员，实际上[喜欢改进遗留代码](https://www.petermorlion.com/about-me/)。[如果你需要一些建议，给我打电话。](https://www.redstar.be/contact)