# D3.js 中的复合刻度

> 原文：<https://dev.to/aurelio/compound-scales-in-d3-js-5fkj>

Scales 是 D3.js.
的一个非常灵活的特性，即使在很多情况下我们需要的只是一个将`domain`中的一个值映射到`range`中的一个值的函数，但有时从一个值映射到多个值会很方便。

例如，假设我们需要将一个输入映射到一组值(如颜色和半径)来构建一个简单的散点图，其中点的半径和颜色取决于数据集的输入值。

在这种情况下，能够拥有一个复合尺度是我们所需要的，谢天谢地 D3 提供了这个开箱即用的特性。只需将两个(或更多)对象传递给 range 函数，d3 将完成剩下的工作。

这里有一个简单的例子:

```
const myScale = scaleLinear()
  .domain([0, 100])
  .range([
    {color: '#4c0080', radius:'15px'},
    {color: '#43a1ad', radius:'150px'}
  ]); 
```

这段代码将返回一个函数，该函数将我们的值(在本例中是从 0 到 100)转换为一个对象，其中所有的值都经过适当的插值。

例如:

```
myScale(41); // => {color: 'rgb(72, 66, 146)', radius: '70.35px'} 
```

这是一个简单但非常方便的特性，尤其是考虑到我们不需要指定插值器，因为函数库会为我们计算出来。最重要的是，我们并不局限于单个层次的对象，但是深层的对象也一样。

## 学分

图像是" T0 "马克的阴谋。

*原载于[我的博客](https://nobitagit.github.io/blog/d3-compound-scales/)T3。*