# 中型或大型代码库的 PHP5 到 PHP7 代码迁移步骤。

> 原文:[https://dev . to/suryanarayana/PHP 5-to-PHP 7-code-migration-steps for the medium-or-large-code-base-52aj](https://dev.to/suryanarayana/php5-to-php7-code-migration-steps-for-the-medium-or-large-code-base-52aj)

**注:**原详细文章由我发布在 https://www.nalashaa.com/php5-to-php7-migration/。

Php 7 带来了非常好的特性，其中最重要的是**性能的提高，更低的内存消耗，许多致命错误转化为异常**。

**从 PHP5 升级到 PHP7 的步骤:**
升级的时候主要有三样东西。如果您的代码库是中型或大型的，下面的过程会很有帮助。
1)选择一个 IDE (Jet Brains、Net Beans、Eclipse、Visual Studio 代码等)。).
2)代码升级过程。
3)测试阶段。

**选择 IDE:**
在进行升级时，很难手动了解所有已弃用和删除的功能，智能 IDE 将有助于解决这一问题。
1)选择一个智能 IDE，并在其中将环境设置为 PHP 5.6。
2)在 IDE 中打开整个项目，检查 IDE 给出的错误和建议，重构代码。
**注意:**要查看 IDE 中不推荐的建议，必须正确设置配置。如果可能的话，在本地主机而不是通过 SSH 连接的开发服务器上进行重构。在 localhost 中完成将有助于我们节省开发时间，并且我们可以敏锐地监控已弃用和删除的功能。

**代码升级流程:**
解决 PHP 5.6 中包括通知错误、弃用错误在内的所有错误。*然后您的代码将在 PHP 7.0 版本中运行。
1)将错误报告设置为 E_ALL，如下所示。例如:错误报告(全^严格)；
2)解决所有错误，包括通知错误和不赞成使用的错误。如果代码库很大，那就解决错误，让它在 PHP 7.0 中工作。然后你就可以根据你的可行性一个模块一个模块的重写你的代码了。如果你在旧版本中没有使用 mysql_* extension，升级会很容易，否则会花费时间，这取决于你的代码库大小。如果你正在使用 mysql_*扩展来简化你的工作，试着用 MySQL _ *来代替它，这样它就容易升级了。如果你有时间升级，那么使用 PDO 扩展为数据库操作创建一个抽象层，因为 PDO 支持多个数据库。

测试阶段:
1)维护数据库错误的日志，就像你会收到一封邮件一样
2)创建 php 错误日志。
3)创建一个新的测试服务器，即它应该是生产服务器的副本，并将其发布给少数客户进行测试和监控。如果一切正常，你可以将它投入生产。

**注:**原详细文章由我发布在 https://www.nalashaa.com/blog/。