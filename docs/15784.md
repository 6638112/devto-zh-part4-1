# 这个。JavaScript:前端测试的状态

> 原文：<https://dev.to/thisdotmedia/this-javascript-state-of-front-end-testing-34lk>

随着 JavaScript 生态系统的增长，对高质量软件测试的需求也在增长。在这里谈话。JavaScript:测试的状态把测试放在最前面和中心。

本次活动由李美玲( [@ladyleet](https://dev.to/ladyleet) )、This Dot Labs 和 Applitools 的高级建筑师吉尔·塔亚尔([@吉尔塔亚尔](https://dev.to/giltayar))共同主持。

一组知识渊博的小组成员通过他们的眼睛给出了前端测试状态的更新，这引起了热烈的讨论。各种各样的主题涵盖了最佳实践、工具的演变以及 2019 年测试的未来。

对话的范围从实现测试细节的缺点到评估为什么更多的开发人员不定期测试的原因，以及比较集成测试和隔离测试的最佳用例。

特邀嘉宾和主题包括:

*   肯特·c·多兹(实现测试细节的危险)

*   代码覆盖率:在 e2e 测试中无用吗？)

*   Gil Tayar(使用 Applitools 的快速跨浏览器视觉测试)

*   rotem Mizrachi-梅丹(消除性能退化)

*   詹姆斯·埃文斯(硒的状态)

*   Kevin Lamping(为什么没有足够的 devs 测试？)

*   Shai Reznik(隔离测试与集成测试)

以下是一些关键要点:

**实施测试的危险细节**

*与肯特·c·多兹([@肯特·多兹](https://dev.to/kentcdodds))，网络开发教育家*

Kent C. Dodds 讨论了在测试中使用实现细节的危险，以及如果不避免它们的话，不准确的风险。

实现细节是什么？

您可以将实现细节视为与该组件、库或应用程序的用户无关的实现—肯特·C·多兹

换句话说，代码的用户通常不会使用、看到甚至知道实现细节。

当涉及到测试时，实现细节是有风险的。但是为什么呢？

当您重构应用程序代码时，测试实现细节可能会破坏您的测试。这导致了假阴性。

另一方面，当您破坏应用程序代码时，测试可能不会失败。这导致了假阳性。

但是:有替代方案。

为了避免测试中的实现细节，从问自己一个问题开始:“如果你的未测试代码库的哪一部分坏了，那将是非常糟糕的？”

接下来，尝试将代码缩小到一个或几个单元。考虑它的用户是谁，并写下用户可以手动测试它以确保它不被破坏的方法列表。最后，**把这个列表变成一个自动化测试。**

关于如何在测试中避免实现细节并尽可能准确的更多信息，请参见 Kent 关于这个主题的博客文章。

代码覆盖率:在 e2e 测试中没用吗？

与赛普拉斯工程副总裁格莱布·巴赫姆托夫([@巴赫姆托夫](https://dev.to/bahmutov))在一起

Gleb Bahmutov 回答了这个问题，我们如何知道我们什么时候完成了测试？

代码覆盖经常被使用，但是很棘手。它只对单元测试有用。代码覆盖率没有考虑所有不同种类的数据和可能的边缘情况，这使得它不够理想。

数据覆盖率和代码覆盖率对端到端测试没有用。想象一下，试着驾驶一辆车去测试它的每一个部分。不会很有效，对吧？类似地，你不能只通过它的用户界面访问你代码的所有部分。

这个问题的答案是元素覆盖，它覆盖了应用程序的整个用户界面。

前往[他的博客文章](https://glebbahmutov.com/blog/element-coverage/)获取更多信息，并希望得到更准确的测试。

**使用 Applitools 进行快速跨浏览器视觉测试**

*与吉尔·塔亚尔([@吉尔塔亚尔](https://dev.to/giltayar))，Applitools 的布道者和建筑师*

Applitools 的 Gil Tayar 告诉我们快速、跨浏览器视觉测试的优点。

有许多类型的自动化测试，但是只有一些有可视化的组件——包括组件、功能、e2e 和产品监控测试。直到最近，还没有很多真正的工具来进行视觉测试。但幸运的是，这种情况正在改变。

在 Applitools 测试方法中，开发人员截取他们想要视觉测试的截图，并将其与基线进行比较。如果没有差异，我们就很好！如果有，这可能是一个很好的区别…或者是一个错误。

对于好奇的潜在用户，Gil 还分享了 Applitools Cypress SDK 的几个关键特性:

这是一个快速、深思熟虑的 e2e 框架。

它允许跨浏览器和跨宽度的视觉测试，因为响应式设计在当今的数字环境中非常重要。

Applitools Cypress SDK 使用 DOM 快照并将它们上传到可视化网格。结果呢？几个测试可以并行化，作为一个测试同时运行。

为了更高的准确性和效率，它使用根本原因分析，或者区分基线 DOM 和实际 DOM 来找出 CSS 或 DOM 中的什么导致了视觉错误。

去[Applitools.com](https://applitools.com/)亲自体验一下吧！

**消除性能退化**

*与罗滕·米兹拉奇-梅丹(@罗滕米兹)一起，在 Wix 为 E2E 排毒*

罗特姆·米兹拉奇-梅丹希望消除性能退化。为此，他分享了 Wix 的 Detoxe2e 员工为确保长期绩效成功所做的工作。

CI 的目的是自动化我们所做的复杂和重复的任务。一如既往，目标是更高效、更准确的测试。

为了确保长期如此，Rotem 使用了排毒仪器。这些工具在仪表化流程中运行，从应用程序内部采样和收集指标。然后，记录的数据可以随时访问，并可以放在图表和仪表板上，以绘制一段时间内的趋势。

这些仪器可以作为一个模型，让我们可以做些什么来确保测试在未来仍然有用和准确……而不仅仅是现在。

他的外卖钥匙？

“你不能改进你没有测量的东西。”-罗滕·米兹拉奇-梅丹

**硒的状态**

*与 James Evans (@jimevansmusic)、Selenium 专家和 Salesforce 的 QA 合作*

Salesforce 的 James Evans 是硒专家。对于那些不知道的人来说，Selenium 是一个浏览器自动化库，主要用于基于 UI 的测试。它在跨浏览器测试中表现出色。

不到十年前，Selenium 引入了一个名为 WebDriver 的 API，它已经成为 Selenium 的标准浏览器自动化 API。WebDriver 是语言不可知的；有 WebDriver 的绑定。NET 语言，以及 Java、C#、Python、Ruby，当然还有 JavaScript。

2019 年，Selenium 的发展将迎来精彩的创新。目前所有的 WebDriver 实现都在很大程度上支持这个规范(测试结果可以在 wpt.fyi 上找到)。

已经开始在 2019 年将它提升到一个新的水平，包括测试代码和被测应用程序之间的双向通信。

像大多数测试生态系统一样，Selenium 的情况在新的一年有所好转！我们很期待接下来会发生什么。

为什么没有足够的开发人员进行测试？

与前端工程师兼测试人员凯文·兰平([@克拉普](https://dev.to/klamping))一起

数据表明，至少一半的开发人员正在以某种形式编写测试。然而，许多人似乎对他们的测试并不满意。

但是为什么呢？是工具的问题吗？不完全是这样:调查显示，随着时间的推移，开发人员实际上对可用的测试工具越来越满意。

是文档吗？不完全是这样:大多数开发人员并不认为测试太难学习或实现。课程得到了测试很重要的暗示，教育比以往任何时候都更加普及。

相反，许多开发人员说他们没有足够的时间，或者他们不知道如何开始编写自动化测试。

引用肯特·c·多兹的话，凯文认为问题很简单。测试没有明显的投资回报。如果好处不明显，那么缺点就会占优势。

他的解决方案是:“要么出售测试，要么停止请求许可，直接去做。”——凯文·兰平

您应该编写一个测试，因为它可以更容易地更新您的代码。你的测试应该对你有用，对你的客户也有用。

更好的测试产生更好的代码，更好的代码产生更满意的客户。

**隔离测试与集成测试**

*与 Shai Reznik(@Shai。Reznik)，Hirez.io 创始人，TestAngular.com 工厂负责人*

沙伊·雷兹尼克主张隔离测试。

所有测试的主要好处是信心和代码质量。但是“单元”和“集成”测试是加载的术语。相反，我们应该谈论测试维度:例如，范围、界限和主题。

所谓“界限”，我们指的是集成测试和隔离测试。

集成测试包括一起测试代码的几个部分，而隔离测试只测试代码的一部分，并伪造它的依赖关系。

集成测试有效地测试了连接性以及我们代码的不同部分是如何协同工作的。

然而，它也有一些问题，例如:

界限不清

运行时间更长

更长的测试设置

多重覆盖

测试更容易中断

更难追踪 bug

难以覆盖边缘情况

更宽松的代码设计

最终，这导致了一种虚假的覆盖感。

同时，独立测试有几个关键的好处:

清晰的界限

更快的

没有多重覆盖问题

更快、更简单的设置

更容易追踪 bug

更容易覆盖边缘外壳

最终，在许多情况下，这将导致更好的代码设计。

那么，如何在集成测试和隔离测试之间做出决定呢？

答案取决于你的项目是什么。对于小应用来说，集成测试就可以了。但是对于中型或更大的应用程序，独立测试或组合测试可能是最好的。

## **我们将何去何从？**

测试的状态巩固了测试对开发人员的重要性。与一些人可能认为只有 QA 工程师才进行测试的流行观念相反，许多开发人员自己也在进行测试，并且想要更好的方法来这样做。

2019 年我们在前端测试方面的一些重要收获:

*   开发人员正在测试比许多人想象的更多的东西，他们希望用工具来更有效地做这些事情。

*   元素覆盖比单独的代码覆盖更全面，通常也更有效。

*   隔离测试可以为中型和大型应用程序带来更好的准确性和更好的代码设计。

*   当涉及到工具、最佳实践和创新时，测试的范围很广，并且具有丰富的多样性。

如果你没有捕捉到测试的状态，你可以在 YouTube 这里观看。

了解更多关于我们即将推出的。在[https://www.thisdot.co/this-js.](https://www.thisdot.co/this-js.)的 JavaScript 事件

我们要特别感谢 Applitools 的联合主办方和赞助商，这是在您的应用中实施任何视觉测试的最佳方式。

需要 JavaScript 咨询、指导或培训帮助吗？在 [This Dot Labs](//thisdot.co) 查看我们的服务列表。