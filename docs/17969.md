# 使用这些快捷键成为命令行忍者

> 原文:[https://dev . to/hex RCS/obtain-a-terminal-ninja-with these-shortcut s-48bp](https://dev.to/hexrcs/become-a-terminal-ninja-with-these-shortcuts-48bp)

我经常发现自己处于这样一种令人沮丧的境地，我不得不在一个刚刚复制并粘贴到终端(来自 StackOverflow 或 course)的 looong shell 命令中间替换一个关键字😅).用`Alt-Arrow`跳过单词并不是在所有机器上都有效；我要按多少左键和退格键，才能替换我从 SO response 那里偷来的那个天才命令中的`path/to/file`或`username`？？

最后，我让自己坐下来，对如何在终端正确练习忍术做了一些研究。事实证明，在命令行环境中漫游一点也不困难！

我主要是一个 Z-Shell 用户，所以这篇文章将更多地关注 ZSH。然而，我们在这里将要看到的快捷方式应该也能在 BASH 中工作(抱歉，我没有使用 FISH 或其他 shells)。

> 好玩的事实:shell 键绑定居然默认为“emacs 模式”！如果您是 emacs 用户，您可能已经发现了这一点。但是对于我们这些凡人来说，让我们继续学习新的东西吧！
> 
> 事实上，如果您对 VI/VIM 更熟悉，您甚至可以从标准的 emacs one 切换到 VI 绑定——使用`set -o vi`进行测试！(你可能需要一两个插件来提示你是处于*编辑*还是*普通*模式。 [Oh-My-Zsh](https://ohmyz.sh/) 对此有一个[插件](https://github.com/robbyrussell/oh-my-zsh/tree/master/plugins/vi-mode)！)

## [](#navigation)导航

让我们直接进入导航快捷方式。以下是一些有用的方法:

| 捷径 | 行动 |
| --- | --- |
| Ctrl-A | 跳到行首 |
| Ctrl-E | 跳到行尾 |
| Ctrl-B | 向后移动一个字符 |
| Ctrl-F | 向前移动一个字符 |
| Meta-B | 向后跳一个单词 |
| Meta-F | 向前跳一个单词 |

请注意，元键实际上是什么可能因不同的设置(操作系统+终端模拟器)而异。您可能会发现`Alt`作为元键或`Command`键在您的系统上工作(如果您在 macOS 上使用 iTerm，您可以在“首选项”中更改元键绑定)。然而，如果都失败了，试着按下`ESC`然后释放(不要用它作为修饰键)，然后按下另一个键——这应该也是通用的。

## [](#editing)编辑

这里有一个编辑默认键绑定的小列表:

| 捷径 | 行动 |
| --- | --- |
| Ctrl-U | 切断电流线* |
| Meta-W | 剪切光标前的所有内容(多行！) |
| Ctrl-K | 剪切当前行光标之后的所有内容 |
| Ctrl-W | 删除前面的单词 |
| Meta-D | 剪掉下一个单词 |
| Ctrl-Y | 粘贴刚刚剪切的内容(不使用操作系统剪贴板) |
| Ctrl-_ | 撤消上次更改 |

*这个快捷方式在 BASH 中剪切光标之前的所有内容*。*

***我从来不知道我可以在终端中撤销！*** 安卓 BTW 上怎么撤销？🤨

## [](#searching-and-history)搜索和历史

您可能不知道的是，如果您没有选择退出，shell*会默认记录您执行的每个命令*。对于 ZSH 来说，这个日志保存在`~/.zsh_history`(或者 BASH 的`~/.bash_history`)下。这实际上是一个非常好的特性，允许我们从以前的命令中搜索，并随时重用它们以节省时间。(如果你想隐姓埋名，你可以在你的`.zshrc`中设置`HISTSIZE = 1`，以限制历史记录只能存储一条。`HISTSIZE = 0`虽然似乎不起作用。)

要进入搜索模式，请按`Ctrl-R`。现在输入你正在寻找的关键字。再次按下`Ctrl-R`以“查找下一个”。

你可以随时通过编辑当前显示的搜索结果来退出搜索模式，直接使用我们上面提到的快捷方式。当然，你也可以用`Ctrl-C`中止！

不过，要重复前面的命令，我们不需要进入搜索模式——只需使用`Ctrl-P`来显示 *p* -revious，或者使用`Ctrl-N`来显示 *n* -ext 行！

## [](#more-cool-stuff)更酷的东西

代替`clear`命令，快捷方式`Ctrl-L`是**清除屏幕**的另一种方式。它还保留了您正在处理的行的完整性，因此如果您正在键入一个长命令，但突然发现乱糟糟的终端屏幕非常令人分心，您可以点击`Ctrl-L`进行清理，而不必重新键入命令。

有没有想过**在 ZSH 中键入多行**然后在一个设置中执行，就像复制&粘贴一些多行 shell 片段一样？`Ctrl-V Ctrl-J`会成功的！(`Ctrl-V`是“引用-插入”，其中*插入*而不是*解释*下一个输入；`Ctrl-J`打印 ASCII 符号`LF`，Unix“下一行”。)

## [](#even-cooler-diy)更酷——DIY！😋

在 ZSH，您总是可以用一个简单的`bindkey`命令获得当前键绑定的列表。BASH 的等价物应该是`bind -P`。

除了切换到 VIM 模式的能力之外，如果你正在使用 ZSH 并且想要定制你的键绑定，你可以通过声明类似于`bindkey "^[X" zle-command`的东西很容易地做到这一点(zle，[*Z-Shell 行编辑器*](http://zsh.sourceforge.net/Guide/zshguide04.html) 是我们亲爱的 ZSH 背后的行编辑器)。可以通过`zle -al`获得一个`zle-command`列表。

我希望你喜欢这篇文章，并且学到了一些有用的东西，我的忍者伙伴们！🥳

*最初在我的博客上发布[，在那里我每两周左右发布一些关于 web dev、flutter 和 ML 的东西。](https://www.xiaoru.li/post/shell-shortcuts/)*

*你也可以在推特上找到我 [@hexrcs](https://twitter.com/hexrcs) :)*