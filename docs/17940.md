# 为什么我不再开玩笑地写快照测试

> 原文:[https://dev . to/dorshinar/why-I-ve-stopped-writing-snapshot-tests-in-jest-376d](https://dev.to/dorshinar/why-i-ve-stopped-writing-snapshots-tests-in-jest-376d)

# [](#why-ive-stopped-writing-snapshots-tests-in-jest)为什么我不再开玩笑地写快照测试了

> 为什么我认为你也应该停止

我开发一个前端应用程序已经有一段时间了，我和我的团队在单元测试功能方面有一个严格的标准——每一个新功能都必须通过单元测试进行彻底的测试(对于我们的客户来说， [Jest](https://jestjs.io/) + [Enzyme](https://airbnb.io/enzyme/) ，我将在本文中谈到)。

我们花了一段时间找到适合自己的道路，同时学习如何最大限度地使用我们选择的工具，但通过反复试验，我们找到了适合我们的范式。

当阅读`Jest`的文档时，你首先要学习的事情之一是如何编写[快照测试](https://jestjs.io/docs/en/snapshot-testing)。它们应该是最终的测试工具，并且它们与`React`组件交互得很好。您可以在某种条件下“渲染”测试中的组件，将其保存到快照，如果在将来的任何测试中组件的输出发生变化，测试将失败，并告诉您您已经更改了一些您可能不应该更改的内容，如果您是故意这样做的，您只需更新快照以反映组件的新状态。出于本文的目的，我将简要解释快照过程，但这不是一篇教育文章——我强烈推荐`Jest`的文档。

实际上，事情是这样的——让我们创建一个超级简单的组件，看起来像这样:

[https://codesandbox.io/embed/c5q50](https://codesandbox.io/embed/c5q50)

一个简单的测试可能是这样的: