# 有效的代码审查:入门

> 原文:[https://dev . to/deep source/effective-code-reviews-a-primer-5hc 8](https://dev.to/deepsource/effective-code-reviews-a-primer-5hc8)

同行代码评审作为一个过程已经越来越多地被世界各地的工程团队所采用。这是有充分理由的——从长远来看，代码审查已经被证明可以提高软件质量，节省开发人员的时间。关于代码评审如何帮助工程团队，已经有很多由领先的软件工程从业者撰写的文章。我最喜欢的是卡尔·威格斯(Karl Wiegers)的这句话，他是关于这个主题的开创性论文的作者:

> 同行评审——除了软件可交付物的作者之外的人检查它的缺陷和改进机会的活动——是可用的最强大的软件质量工具之一。同行评审方法包括检查、走查、同行案头检查和其他类似的活动。在经历了将近 15 年的同行评审的好处后，我再也不会在一个不执行同行评审的团队中工作了。

值得花时间和精力制定一个代码审查策略，并在团队中始终如一地遵循它。从本质上讲，这有两个好处:更多的眼睛看着代码减少了错误和坏的设计模式进入你的代码库的机会，拥抱这个过程在团队中培养了知识共享和积极的协作文化。

这里有 6 个技巧来确保你的团队中有效的同行评审。

## [](#1-keep-the-changes-small-and-focused)1。保持小的变化和专注

代码审查需要开发人员查看其他人的代码，其中大部分代码在大多数时候都是全新的。一次审查太多行代码需要大量的认知努力，并且审查的质量随着变更规模的增加而降低。虽然没有黄金数量的 loc，但建议创建易于管理的小型拉式请求。如果在一个版本中有很多变化，最好把它分成一些小的拉请求。

## [](#2-ensure-logical-coherence-of-changes)2。确保变更的逻辑一致性

当变更集中并且具有逻辑一致性时，代码评审是最有效的。进行重构时，不要做行为上的改变。类似地，行为改变不应该包括重构和风格冲突修复。遵循这一约定可以防止代码库中不为人知的意外变化。

## [](#3-have-automated-tests-and-track-coverage)3。拥有自动化测试，并跟踪覆盖率

您喜欢的自动化测试——单元、集成测试、端到端测试等。帮助自动确保正确性。始终如一地确保所提议的变更被某种自动化所覆盖，从而为更多的定性评审腾出时间；允许就更深层次的问题进行更有见地、更深入的对话。

## [](#4-selfreview-changes-before-submitting-for-peer-review)4。在提交给同行评审之前进行自我评审

变更可以实现新功能或修复现有问题。建议请求者只提交那些完整的变更，并手动测试其正确性。在创建拉请求之前，快速浏览一下被提议的变更有助于确保没有无关的文件被添加到变更集中。这为审阅者节省了大量时间。

## [](#5-automate-what-can-be-automated)5。自动化可以自动化的东西

人工审查时间是昂贵的，对开发人员时间的最好利用是审查代码的定性方面——逻辑、设计模式、软件架构等等。林挺工具可以帮助自动处理样式和格式约定。像 DeepSource 这样的工具可以帮助捕捉潜在的 bug、反模式和安全问题，开发人员可以在提出变更请求之前修复这些问题。这些工具中的大多数也能与代码托管平台很好地集成。

## [](#6-be-positive-polite-and-respectful)6。积极、礼貌、尊重他人

最后，要认识到这样一个事实，两边的人都是人。提供积极的反馈，虚心接受批评。与其在字面意思上打击自己，不如把评论看作是人们试图实现对团队最有利的事情，尽管可能是以不同的方式。认识到这一点可以节省很多怨恨和十足的消极。

### [](#references)参考文献

1.  [人性化的同行评审](http://www.processimpact.com/articles/humanizing_reviews.pdf)
2.  [代码审查:只管去做](https://blog.codinghorror.com/code-reviews-just-do-it/)
3.  为什么代码审查很重要(而且实际上节省了时间！)

*最初发布于 [DeepSource 博客](https://deepsource.io/blog/code-review-best-practices/)。*