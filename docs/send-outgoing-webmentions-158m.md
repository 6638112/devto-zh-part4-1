# 发送传出的网络提及

> 原文：<https://dev.to/remy/send-outgoing-webmentions-158m>

在最近的一次 Twitch 会议中，我决定在我的博客中加入网络提及，特别是为了显示其他网站的“赞”(不过，我在骗谁呢，那只是 Twitter……)。

令人惊讶的是，我在 90 分钟内完成了它(启动时有 3 个流崩溃)。

在网站上添加 web references 似乎很简单，也是一种常见的方式。另一方面，发送外发的网络提及似乎一般都留给了自己的设备。

所以我决定接受挑战，建立一个平台不可知的方法来发送任何人都可以使用的外发网络通知。

## TL；DR -发送网络提及

我已经编写了一个应用程序，它将扫描一个 URL 的内容，并向你的帖子链接到的那些站点(并支持 webmentions)发送 webmentions(以及支持的 pingbacks)。

这适用于包含多个帖子、单个独立帖子和 RSS 提要的主页。对于主页(或有多个博客文章的页面),期望使用`h-entry`微格式模式。

请容我介绍:**[https://web reference . app](https://webmention.app)**

如果依赖第三方不是你的专长，那么你可以安装[命令行工具](https://github.com/remy/wm)并在你的部署过程中使用它。

## TL；DR -接收网站提及

网络提及很酷，pingbacks 的发展。它们也(应该)是去中心化的，就像网络一样。我很确定我今天在博客上使用网络提及的方式是*错误的……有点儿*。

向你的站点添加 web references:用 [Bridgy](https://brid.gy/) 连接你的社交网站，用[web reference . io](https://webmention.io)认证，并向你的站点添加客户端 JS[web reference . JS](https://github.com/resonance-cascade/webmention.js)。

max bck 也有一篇关于在静态网站上使用 Webmentions 的优秀文章。

我目前担心的是，Twitter 作为一个帖子被提及的地方有很大的吸引力。这直接导致了我下一个问题:发送普通博客帖子的网络提及似乎没有一个通用的解决方案，然而…

## 网络提及、推特和现状

就我目前所见，Twitter 上的赞/转发/回复和博客上的网络提及之间有着特别紧密的联系。事实上，这正是我最初接触网络提及的方式——在我的帖子上添加赞。我网站上的那些“赞”完全是由 Twitter 驱动的。

我的网站获得了 Twitter 的点赞，因为 [Bridgy](https://brid.gy) 正在查看社交媒体，并向我的网站发送网络提及。我渴望看到的是网络提及恰当地取代其前身 pingbacks。我希望看到博客帖子上的“回复”实际上指向其他博客帖子。

在阅读杰里米·基思在独立网络构建模块上的帖子时，他提到了我已经开始看到的东西:

> 我的网站不会自动向我在帖子中提到的任何链接发送网络提及——我真的应该解决这个问题——但这没关系；亚伦和我一样，在他的每个帖子下面都有一个表格，你可以粘贴你回复的 URL。

我承认从一个表单开始是渐进增强的一个很好的形式，但是这就是杰里米，或者任何人，如何自动解决困扰我的问题。对许多人来说，这不是一个特别简单的任务和潜在的定制。

如果现状停留在:我写一篇文章，你写一篇回应文章(或单独的评论)，然后你必须*回到*我的文章，输入你的博客文章 URL 来通知我一个网络提及，那么……感觉……很麻烦，好像它可能经不起时间的考验。

发送网络提及的能力需要成为自动化工作流程的一部分——就像发布一篇新的 WordPress 博客文章自动发送回覆一样。

同样重要的是，一个不接受网页提及的网站*应该*能够*发送*网页提及。

所以让我们着手解决这个问题。

## 如何自动发送外发网络提及通知

在 referenced 的工作流程中，我认为需要自动化的最大部分是将发出的 referenced 发送到新帖子中引用的链接。

所以我写了自己的解决方案:

🎉🌈 **[网页维护. app](https://webmention.app)** 💫

我也非常努力地让文档尽可能地受欢迎。我试着去想我亲爱的访问者，以及他们想用这个软件做什么，而不是用我典型的开发人员的方式去写文档——列出所有的特性和选项。

此外，(和我的大多数项目一样)，[源代码可以在 Github](https://github.com/remy/wm) 上获得。

您可以给服务一个到`/check`端点的 URL，它会给你一个它将发送的通知的预览。要发送外发通知(而不是预演),请使用`POST`请求。

你可以通过它:

*   RSS 源
*   一个帖子 URL
*   任何可以找到多篇文章的网址(比如你的主页)

此外，如果您不喜欢依赖第三方来完成通知过程(因为:谁知道哪个站点会比您的站点更持久)，您可以将它安装为命令行工具并在本地运行。

命令行可以用作构建过程的一部分——在这种情况下，我们假设项目将在`./_site/feed.xml`中生成一个静态 RSS 提要。

```
$ npm install @remy/webmention
$ npx webmention ./_site/feed.xml --limit 1 --send 
```

这将选取 RSS 中的第一个项目(最新的帖子)并发送找到的任何 web 提及。

就我个人而言，我把这项服务作为我的网络后期构建过程的一部分——在网站上详细描述的[。每次成功的 Netlify 构建都使用](https://webmention.app/docs#how-to-integrate-with-netlify)[我的令牌](https://webmention.app/token)调用 web reference . app 服务，并指向[我的 RSS](https://remysharp.com/feed.xml) 。当 Netlify 发送一个`POST`网页挂钩时，网页提及会自动发送出去。

* * *

试一试，让我知道你的想法。正如我所说的，我已经尽力在文档中投入了额外的精力，并且我希望它足够简单，大多数博客都可以遵循

*原载于[雷米夏普的 b:log](https://remysharp.com/2019/06/18/send-outgoing-webmentions)T3】*