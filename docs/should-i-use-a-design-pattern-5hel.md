# 我应该使用设计模式吗？

> 原文：<https://dev.to/moresaltmorelemon/should-i-use-a-design-pattern-5hel>

是的。不是。也许？

像 Flyweight 或 Facade 这样的设计模式都有其存在的目的和理由。每个模式都被命名、形式化，并作为最佳实践提出。但是如果我们把它们当作我们不能偏离的正式结构，我们就限制了自己，看不到设计模式是如何创建的。

关键词不是*设计*，而是*模式*。设计模式是公认的。它们是对面向对象编程中出现的问题的解决方案的收敛发展。作为一名程序员，您可能会遇到产生特定模式的相同问题，并发现自己得到了类似的解决方案。

设计模式不是以一种结晶的、完美的形式发明出来的，它是由大量相似的方法整合而成的。它服务于一个目的，并为一组特定的问题提供了一个公认的解决方案，但它也可以用许多不同的方式表达，而不仅仅是一本厚重的书中的一个僵硬的例子。

设计模式很重要，不仅因为它们为特定问题提供了公认的最佳实践方法，还因为它们为我们提供了一个共享的词汇表，我们可以用它来讨论代码的抽象，而无需任何实现细节。

然而，仅仅因为一个设计模式已经被认可、同意和记录，并不意味着这个特定的模式仍然值得实现。编程趋势和语言能力确实会随着时间的推移而变化，因此，由特定模式解决的问题集可能已经转移或得到解决。

# 延迟使用它们

> 像所有形式的复杂性一样，除非绝对必要，否则应该避免使用模式。这是初学者首先需要学习的。不是最后一件事。

虽然我找不到这句话的出处，但除了这里的一个评论之外，它似乎是真实的。只有当我们一开始就达到了那个复杂程度时，设计模式才可能降低复杂性。

程序员新手经常犯这样的错误，去追求一种、两种或所有的模式，最终导致臃肿、混乱的局面。使用一个模式并不能让你的代码变得更好，T2，除非你恰当地使用了它。即使在那时，你可能已经到了由于早先选择的后果而促使使用它的情况。

> “总是在你真正需要的时候实施，而不是在你预见到你需要的时候。”罗恩·杰弗里斯

在你遇到并确定问题的范围之前，不要去寻找解决方案。朝着一个模式设计，而不是根据系统的需求来实现一个模式，只会增加麻烦。相反，如果有的话，在保持代码稳定和干爽的同时，朝着适当的模式重构。

# 权衡成本

关于设计模式的标准化格式，我非常欣赏的一点是，每一个设计模式不仅必须详细说明何时有用以及如何实现它，还必须详细说明权衡。

例如， [Flyweight 模式](https://www.gofpatterns.com/design-patterns/module5/flyweightConsequences.php)，旨在避免不必要的初始化，降低资源成本:

*   将状态移出对象会破坏封装，并且可能比保持状态内在的效率低。在这些情况下，可能需要决定是性能更重要还是内存更重要。

*   Flyweights 是基于指针或者引用的。在 Java 这样的语言中，使用 Flyweights 很容易，因为所有的对象变量都是引用，垃圾收集器负责删除旧对象。在像 C++这样的语言中，Flyweights 只是稍微复杂一点，在 c++中，对象可以作为栈上的局部变量被分配，并且由于程序员的动作而被销毁。

单身族受到了广泛的批评，根据语言的不同，甚至可能不是[所必需的](http://2ality.com/2011/04/singleton-pattern-in-javascript-not.html)，需要[复杂的实现](https://medium.com/@dmnsgn/singleton-pattern-in-es6-d2d021d150ae)。

# 实现概念而不是片段

使用别人编写的代码片段或复制粘贴的代码是节省时间的好方法。这也是一个很好的方法，如果你自己实现了代码，你自己也不会理解或理解。

找出是什么和为什么，而不是粘贴如何。粘贴一个完成的模式跳过了进化的各个阶段，这些阶段给你带来了对它为什么存在和如何工作的理解。一个模式在达到正式状态之前已经被重构了很多次。实现它将确保你有一些激励你的同龄人的相同经历，而不是依赖他们的智慧。

## 结论

应该使用设计模式吗？绝对的！你应该记住它们吗？也许吧。你应该熟悉他们吗？当然可以。在没有明确需求的情况下，您应该实现它们吗？号码

[重构大师:设计模式](https://refactoring.guru/design-patterns)
[JavaScript 设计模式](https://addyosmani.com/resources/essentialjsdesignpatterns/book/)
[重构模式](https://www.amazon.com/Refactoring-Patterns-Joshua-Kerievsky/dp/0321213351/ref=sr_1_4?keywords=refactoring+design+pattern&qid=1560204736&s=gateway&sr=8-4)