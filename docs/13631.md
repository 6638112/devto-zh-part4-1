# 伟大的 Azure DevOps 迁移-第 1 部分:简介

> 原文:[https://dev . to/timothymcgrath/the-great-azure-devo PS-migration-introduction-5d5m](https://dev.to/timothymcgrath/the-great-azure-devops-migration-introduction-5d5m)

本系列将描述我将公司的内部 TFS 设置迁移到云中的 Azure DevOps 的过程。这个过程确实比我预期的要耗时得多，所以希望这能帮助未来的移民！

本指南将涵盖我在设置中遇到的问题，您应该查看 Microsoft 文档以了解您的任何具体问题。

该指南将涵盖完整的迁移预演，然后是最终的实时迁移。你必须先做一次预演！

## [](#on-premises)在经营场所

我将首先描述我当前的内部设置，以及我期望最终迁移后的设置。

### [](#version)版本

大约 10 年前，我们从 Visual SourceSafe 过渡到 TFS 2008。自从初次安装以来，我们已经很好地更新到了 TFS 发布的最新版本。

因此，我们当前版本的本地 TFS 运行的是 Azure DevOps Server 2019.0.0。TFS 今年被更名为 Azure DevOps Server，但它仍然只是一个名字更花哨的 TFS。

**如果您没有更新您的 TFS 版本，您需要在开始此过程之前将其升级到本地 TFS 的最新版本。**

### [](#collections)收藏

我们有一个名为 DefaultCollection 的 TFS 集合。当迁移到 Azure DevOps 时，每个集合都作为一个单独的帐户进行迁移，所以如果你有一个小团队，拥有一个集合是最简单的前进道路。

### [](#projects)项目

在每个集合中，您可以有多个项目。每个项目都可以有自己的过程模板和项目设置。我们有大约 50 个项目，但我们实际上只用了一个。10 年前，当我们从 SourceSafe 迁移到 TFS 时，迁移工具将每个项目(每个应用程序)转换成一个单独的 TFS 项目。

随着时间的推移，我们将活动项目合并成一个单一的 TFS 项目。因此，50 个项目中只有一个正在积极开发，其余的都是遗留应用程序或从未修改过的废弃应用程序。

对于 Azure DevOps 的迁移，我将只迁移活动的 TFS 项目，留下旧的项目。如果我们将来需要这些项目，我会将它们当前的代码库转移到一个新的 Azure DevOps GIT 存储库中。

### [](#git-vs-tfvc)去 vs TFVC

当我们开始使用 GIT 时，它在 TFS 还不存在，所以大约 4 年前(？)我们迁移了活动项目中的所有活动代码库，以使用 GIT repos 代替 TFVC。我们在当前项目中这样做，这样我们可以维护我们现有的工作项。这意味着我们目前有一个包含一个 TFVC 库和多个 GIT 库的项目。

对于 Azure DevOps 的迁移，我将只迁移 GIT 库，所以在完成导入之前，我需要删除 TFVC 库。

### [](#azure)天蓝色

我们已经在 Azure 有了一个帐户。我们没有在 Azure 中托管我们的整个应用程序基础架构，但我们确实在那里托管了一些服务，所以我们有活跃的订阅。

### [](#process)流程

我们对 TFS 进程做了一些改变。大多数情况下，我们向工作项添加了字段，修改了工作项 UI，并且添加了一些额外的工作项类型。

我相信它会顺利导入，因为我们没有对流程进行任何极端的更改。

### [](#build-servers)构建服务器

我们在本地托管两台 TFS 构建服务器。对于我们的一些应用程序，我们有需要安装在构建服务器上的第三方依赖项，但是我们的大多数应用程序可以从非定制的构建服务器构建。

目前，我计划使用我们现有的本地构建服务器进行所有构建，但从长远来看，我们应该能够迁移许多将在 Azure DevOps 服务中构建的应用程序。

## [](#whats-next)接下来是什么？

在下一篇文章中，我将介绍如何设置新的虚拟机来托管用于迁移的 TFS 安装。

1.  介绍
2.  设置临时虚拟机
3.  清除不必要的数据
4.  验证迁移
5.  准备迁移
6.  迁移模拟
7.  实时迁移
8.  结论