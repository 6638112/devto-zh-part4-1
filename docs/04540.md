# 类型战争、TDD 和 Elm

> 原文：<https://dev.to/elmupdate/type-wars-tdd-and-elm-4893>

我们应该在静态类型语言中进行 TDD 吗，即使是在 Elm 中？

昨天我对鲍伯·马丁的视频[节目的未来](https://www.youtube.com/watch?v=ecIWPzGEbFc)提出了一个[观点](https://dev.to/rwoodnz/the-future-of-programming-rejected-1mb3)。这些评论偏离了主题，最终引起了主持人的注意。其中我了解到早些时候在网上有一个关于另一个鲍伯·马丁的信件- [型战争](https://blog.cleancoder.com/uncle-bob/2016/05/01/TypeWars.html)的混乱。

好吧，那就忍耐一下。

这场争论的关键是语言创新的特征，这是一场思想之战，开始于那些不想要类型而喜欢 C 的人和那些想要类型的人之间，如果他们够老的话，可能喜欢 Pascal，或者最近的 Java 和 C#。似乎在他的世界里，你必须选择你的阵营并捍卫它...除非你改变立场。

#### 回到现实

我在文章中喜欢的是与我的经验相匹配的东西，即在 Ruby 世界中，动态类型化的最终目的是进行 TDD。单元测试让你抓狂。然而，在静态类型的 C#世界里，人们似乎对大量的事后单元测试创建感到高兴。尽管对某些人来说，这可能会成为一项繁重的任务，而且有做不好的风险。

我根本看不到前线。如果你没有从编译器那里得到帮助，或者像许多 Ruby 爱好者那样用代码编辑器编写所有的软件，那么你需要尽可能全面的单元测试，这是有道理的。因此，根据定义，TDD 为每个功能提供了一定数量的单元测试。

如果你从你的编译器和你的 IDE 中获得了大量的帮助，就像你在 C#和 Visual Studio 中所做的那样，甚至在 Elm 中更多，那么你将需要更少的单元测试。

我仍然钦佩那些在 C#等语言中使用 TDD 的人，但我看到的现实是，很少有人认为有必要获得这些技能。

也就是说，我遇到了关于严格类型 Elm 中针对 TDD 的库的辩论。而[这个](https://medium.com/@brian.watkins/test-driving-elm-with-elmer-649e2e7e02a8)也是。

#### 侧钻

对于 Elm 社区之外的人来说，这场辩论的内容可能看起来很奇怪。热爱 TDD 的人希望有一个专注于它的测试库，并投入自己的努力来创建它。现有测试库的支持者似乎并不高兴，因为它打破了社区集中精力以获得最大影响的愿望。

Elm 社区中的那些人一直让我困惑，他们认为每个语言功能应该只有一个库。虽然抛出一些好问题来真正测试某人是否知道周围的情况并有所承诺并没有错！

底线是，如果有人想写一个与另一个重叠的库，那是他们的权限。如果它得到了社区的支持，那就让它成为图书馆的优点吧。你可以想象当爱因斯坦提出他的相对论时，人们会站在哪一边。

我希望我在 2019 年欧洲榆树展上看到的预示着一个更加开放的思维未来。两个团队分化出编译器，一个社区的领导者开始了他自己的语言开发。

创造一个全新的东西-太好了！你可能会引发一场革命，也可能会影响现有主导工具的发展。

#### 回到 TDD

现在，着眼于 TDD 的 Elm 测试库的想法。作为一个只在 Ruby 中涉猎过 TDD 的人，我剩下的问题是，在 Elm 中 TDD 的价值是什么。

Elm 就像 Ruby 一样，是一种以非常有趣的方式编程的语言。它不仅是大型项目的可靠选择，也是你自己创业和实验性绿地项目的绝佳选择。一个功能可能只持续 10 分钟，在你重构之前它就消失了。Elm 还有一个额外的好处，编译器可以真正帮助你编写代码和重构。

当您正在构建的东西定义良好时，TDD 似乎更合适。你可以在一开始就明确你打算创造什么。然后编写代码来满足测试是一件相当机械的事情。

尽管 TDD 只是你头脑中正在进行的过程的表达，但它是否慢了下来？你已经确定了对一个函数的需求，你已经有了你想从这个函数中得到什么的想法，然后你写下了这个函数。

有些人提倡增量式编写代码，这是一种使用虚拟值和函数调用创建的临时测试形式。从另一个角度来看，这是同样的过程吗？

让我们假设你最终会写出所有的测试。我想知道的是。做 TDD，特别是用静态类型语言，会不会减少过程的直接性和趣味性？或者一旦擅长，是不是和享受程度一样的无缝体验？