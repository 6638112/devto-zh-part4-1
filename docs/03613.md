# 让我们平衡括号

> 原文:[https://dev.to/brunooliveira/let-s-balance-parentheses-272f](https://dev.to/brunooliveira/let-s-balance-parentheses-272f)

一些开发人员正在解决“日常编程问题”网站上的一些问题。它遵循一个基本前提:你每天都会在你的电子邮件中遇到一个编程问题。这通常是一个算法风格的问题，在许多公司的面试中非常常见，其使用正在增加。他们的想法是，如果你试图每天解决一个不同的问题，你会注意到一些模式，并会做得很好。这至少对我来说是一个很好的锻炼，因为我已经生疏了。

顺便说一句，我认为这些问题完全没有用，应该彻底废除。除了逻辑思维和狭隘的算法知识，它们不是任何东西的代理，这不是良好工作技能的良好指标，但是，它就是它。)

我最近遇到的一个问题是:

> 这个问题是脸书问的。给定一串圆形、卷形和方形的开括号和闭括号，返回括号是否平衡(格式良好)。
> 例如，给定字符串“([]) 【T2”)，应该返回 true。
> 给定字符串“([)]”或“(()”，应该返回 false。

**分析问题**

当面对一个你以前没有见过的新算法问题时，尝试将它映射到一个更简单的版本是有用的，看看你是否有解决那个问题的知识，并尝试概括你的解决方案和/或调整你所拥有的，以允许你达到手边问题的解决方案。我们可以利用的简化如下:

*   如果我们只有一种类型的括号会怎么样？

对于一种类型的括号，我们可以使用堆栈来检查括号是否平衡:当我们有一个右括号时，我们就压入堆栈，当我们有一个左括号时，我们就弹出。如果我们到达了字符串的末尾，而堆栈是空的，那么字符串是平衡的。对于所有其他情况，比如非空堆栈，或者不能弹出(如果我们在左括号之前有右括号)，那么字符串就不是平衡的。我们能把这个应用到我们的问题中吗？

**更一般问题中的模式**

事实证明，我们对一种类型的括号所做的精确运算也可以对多种类型的括号起作用，因为，如果一个字符串是平衡的，那么每种类型的不同括号本身也应该是平衡的。或者...应该吗？

让我们举这个例子:

`{[}]`

这两组括号中的每一组都很平衡，但两者的组合却不平衡。

将问题扩展到使用更多的括号，不会影响我们的解决方案，我们可以为每种类型的括号使用一个堆栈，并运行正常的算法(我们也可以使用单个堆栈，这使得检查括号的错误组合更容易，但我喜欢将其视为具有多个堆栈的单个解决方案的扩展)。

**一个解决方案**

*   遍历字符串，对于每个左括号，检查其他类型是否为右括号，如果发现，则将其标记为不平衡。

*   否则，对每种类型的括号使用一个堆栈，并运行我们的正常算法。如果所有堆栈都是空的，则返回平衡良好，否则返回不平衡。
    *(我们可以使用单个堆栈，当我们弹出时，我们可以将弹出的值与前一个值进行比较，如果它们不匹配，我们立即返回 false。想法是“标记”每种类型，然后检查单个堆栈中的标记，但是增加了复杂性，这在我们的第一次线性时间检查的算法之外)*

**结论**

希望你喜欢阅读并学到一些新东西:)欢迎提出改进建议！！