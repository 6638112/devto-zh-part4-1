# JavaScript 中基于类的数据模型

> 原文：<https://dev.to/junior/class-based-data-model-in-javascript-4fc9>

# *前言*

这篇文章是我大约 6 个月前写的另一篇文章的直接后代。它没有得到很好的解释，并且需要通过目标的新实例来恢复直接类的父类。我真的希望这是一个进步。

# 概念

基础模型*具有调用其子类的插件处理程序的行为*。虽然事实并非如此，但我确信如果他们的项目需要，有人会非常乐意这样做。

# 场景

在“source”引用中，有 3 个类，其中 2 个接受第一个作为构造函数参数。它们还包含 get 描述符，这些描述符引用主数据集所在的父数据集。

因此，您有两条数据路径(来自用户上下文)。

1) `this.data.admin`:连接到实例的原始未变异数据集。
2) `this.admin.data`:“子”类描述符仍然连接到主引用

从基类的角度来看，这两者没有太大的区别，但是从子类的角度来看，如果你要访问没有描述符的数据集，你将做`this.user.data.admin`而不是`this.data`。一条捷径。

它们之间的细微差别起初并不重要，但随着你的应用程序可能会发展，它可以允许数据突变而不影响数据本身。你选择如何改变它，你用它做什么，由你决定。

## 用户库存处理

有几种处理库存数据的方法。

*   你的标准对象,`{[itemID: string]: number}`正在创建一个到库存数量的 ID 映射，如果你做得好，这是一个非常简单的物品存储。
*   与上面的对象相同，但引用的是次级模型而不是数字。
*   使用一个数组，其中每个元项都是相互独立的。
*   使用一个二维数组，其中 itemID 是从另一个引用左连接的，第二个值是金额，第三个值可以是附加项目元。*可以切换一轮，也可以掉一个；另一个或两个都有，如果你想，只是有你的应用程序的另一部分的 itemID 引用。*

## ~~静态~~实例获取默认对象模型的描述符

这样做的目的是防止任何人在应用程序运行时“意外”更改默认模型。仅此而已。我也喜欢我的编辑知道我在做什么，而没有多余的评论...以及其他人试图为自己所用的解释或猜测。

# 参考文献

**原帖:**

[![junior](img/7bef2729f497e641cd7f78c4f8eb20fe.png)](/junior) [## [随机]循环类递归

### SudoJunior 12 月 7 日 181 分钟读数

#javascript #node #discord](/junior/random-circular-class-recurrence-1jmn)