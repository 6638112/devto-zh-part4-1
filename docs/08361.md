# 在 PHP 中使用事件源迈出第一步

> 原文：<https://dev.to/roelofjanelsinga/taking-the-first-steps-with-event-sourcing-in-php-32ki>

[!["Explore"](img/b44e373bab8d9bcfa983649b02c170b1.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--zERwaEYd--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/htrwyh7a8bi3my78blq6.jpg)

# 在 PHP 中迈出事件源的第一步

我已经迈出了使用事件源的第一步，特别是 PHP 中的事件源。这是一个非常令人困惑的概念，但一旦我明白了它的要旨，我就确信了它的价值。所以你可能想知道，活动采购对你来说最大的价值是什么？我将在这篇文章中解释这些价值观。

## 保存有价值的数据

当使用事件源时，与传统的 CRUD 系统相反，您保存的是事件而不是数据。这样做的好处是，您可以随时跟踪所有数据的变化。这里的关键方面是随着时间的推移。因为在传统的应用程序中，您只知道数据现在的状态*。你不知道昨天或上周是什么样子，只知道现在是什么样子。在许多情况下，这完全没问题，但是对于其他一些过程，比如跟踪事务，您需要数据更改的历史记录。通过使用事件源，您可以保存数据。您从不更改数据，您只是修改数据的新版本。*

 *## 事后生成报告

当使用传统方式跟踪数据时，您只知道您的数据现在是什么样子。这使得写关于过去发生的事情的报告非常困难，因为你实际上没有数据。你必须告诉你的上司的是:我做不到，否则会不准确，但我已经实施了，有可能在下个季度实施。这是一种你不希望自己陷入的情况。Event sourcing 允许您生成关于已经发生并被记录的任何事情的报告或预测，以及关于仍然需要发生的事件的报告或预测。当我开始理解这个概念时，这是事件采购的一个方面，它真的让我大吃一惊。

## 恢复和重放变化的能力

事实上，事件源可以让你记录每一个事件发生以来，开始，也可以让你看看一个情况，如果你在过去。它非常类似于 *git log* ，在这里您可以看到谁在什么时候修改了什么。这也可以通过事件源来完成，这确实有助于理解为什么一些数据是这样的，只需查看随时间的变化。事件源还允许您简单地选择所需的数据状态，然后将其视为*的最新版本*，有效地删除在该情况之后发生的所有更改。这相当于在 Git 中将分支恢复到某个提交。

总而言之，我对事件采购的概念印象非常深刻，我希望在某些情况下越来越多地实施它。事实上，所有有价值的数据都被保留了下来，并且您对某种数据库或文件系统中的数据拥有类似 Git 的能力，这是非常强大的。

我写了这篇文章，因为我喜欢让自己了解最新的技能进展。自从我开始写博客以来，我已经看到我的编程技能有了很大的提高，这激励着我继续学习。*